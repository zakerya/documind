{"version":3,"file":"pdf.image_decoders.mjs","mappings":"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U,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EAAEH,EAAE,EAAE,MAAM;EAAEC,IAAI,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,UAAU,EAAE;AAAE,CAAC,EACjD;EA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C,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEG,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAEA,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAEA,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAEA,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAEA,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAEA,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAEA,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAEA,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAED,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAEA,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAEA,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAEA,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAEA,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAEA,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAEA,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAEA,YAAY,CAAC,EAAE,CAAC,CAAC,EAAEA,YAAY,CAAC,EACpC,CAAC,CAAC,EAAED,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC,CAAC,EAAEA,WAAW,CAAC,EAAE,CAAC,CAAC,EAAEA,WAAW,CAAC,EAClC,CAAC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E,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EACd,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAClB,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAClB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,IAAI,CAAC,EACT,CAAC,CAAC,EAAE,IAAI,CAAC,EACT,CAAC,CAAC,EAAE,IAAI,CAAC,EACT,CAAC,CAAC,EAAE,IAAI,CAAC,EACT,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAChB,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EACtC,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EACtC,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,EAC1C,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,EAC1C,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAClB,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAClB,CAAC,CAAC,EAAE,GAAG,CAAC,EACR,CAAC,CAAC,EAAE,GAAG,CAAC,EACR,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAClB,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAClB,CAAC,CAAC,EAAE,GAAG,CAAC,EACR,CAAC,CAAC,EAAE,GAAG,CAAC,EACR,CAAC,CAAC,EAAE,GAAG,CAAC,EACR,CAAC,CAAC,EAAE,IAAI,CAAC,EACT,CAAC,CAAC,EAAE,IAAI,CAAC,EACT,CAAC,CAAC,EAAE,IAAI,CAAC,EACT,CAAC,CAAC,EAAE,IAAI,CAAC,EACT,CAAC,CAAC,EAAE,IAAI,CAAC,EACT,CAAC,CAAC,EAAE,IAAI,CAAC,EACT,CAAC,CAAC,EAAE,IAAI,CAAC,EACT,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EACtC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EACtC,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EACtC,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EACtC,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EACtC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAC/B;AAGD,MAAMC,WAAW,GAAG,CAClB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAClB,CAAC,EAAE,EAAEd,QAAQ,CAAC,EAAE,CAAC,EAAE,EAAEA,QAAQ,CAAC,EAC9B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EACtC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EACtC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EACtC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EACtC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EACtC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EACtC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EACtC,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EAC9C,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EACtB,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EACtB,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EACtB,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EACtB,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EACtB,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EACtB,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EAC9C,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EAC9C,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EACtB,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EACtB,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EACtB,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,EACtB,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EACtC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EACtC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAClB,CAAC,EAAE,EAAE,GAAG,CAAC,EACT,CAAC,EAAE,EAAE,GAAG,CAAC,EACT,CAAC,EAAE,EAAE,GAAG,CAAC,EACT,CAAC,EAAE,EAAE,GAAG,CAAC,EACT,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAClB,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAClB,CAAC,EAAE,EAAE,IAAI,CAAC,EACV,CAAC,EAAE,EAAE,IAAI,CAAC,EACV,CAAC,EAAE,EAAE,IAAI,CAAC,EACV,CAAC,EAAE,EAAE,IAAI,CAAC,EACV,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAClB,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAClB,CAAC,EAAE,EAAE,IAAI,CAAC,EACV,CAAC,EAAE,EAAE,IAAI,CAAC,EACV,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EACtC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EACtC,CAAC,EAAE,EAAE,IAAI,CAAC,EACV,CAAC,EAAE,EAAE,IAAI,CAAC,EACV,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,EACpB,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,EACpB,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,EACpB,CAAC,EAAE,EAAE,GAAG,CAAC,EACT,CAAC,EAAE,EAAE,GAAG,CAAC,EACT,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAClB,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAClB,CAAC,EAAE,EAAE,GAAG,CAAC,EACT,CAAC,EAAE,EAAE,GAAG,CAAC,EACT,CAAC,EAAE,EAAE,IAAI,CAAC,EACV,CAAC,EAAE,EAAE,IAAI,CAAC,EACV,CAAC,EAAE,EAAE,IAAI,CAAC,EACV,CAAC,EAAE,EAAE,IAAI,CAAC,EACV,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EACtC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CACvC;AAGD,MAAMe,WAAW,GAAG,CAClB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAClB,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,GAAG,CAAC,EACT,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EACtC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EACtC,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAClB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,EAAE,EAAE,GAAG,CAAC,EACT,CAAC,EAAE,EAAE,GAAG,CAAC,EACT,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAClB,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAClB,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAClB,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAClC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CACnC;AAGD,MAAMC,WAAW,GAAG,CAClB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EACtC,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EACd,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAA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","sources":["webpack://pdf.js/./src/shared/util.js","webpack://pdf.js/./src/core/primitives.js","webpack://pdf.js/./src/core/base_stream.js","webpack://pdf.js/./src/core/core_utils.js","webpack://pdf.js/./src/core/arithmetic_decoder.js","webpack://pdf.js/./src/core/ccitt.js","webpack://pdf.js/./src/core/jbig2.js","webpack://pdf.js/./src/core/colorspace.js","webpack://pdf.js/./external/qcms/qcms_utils.js","webpack://pdf.js/./external/qcms/qcms.js","webpack://pdf.js/./src/core/icc_colorspace.js","webpack://pdf.js/./src/core/colorspace_utils.js","webpack://pdf.js/./src/shared/image_utils.js","webpack://pdf.js/./src/core/jpg.js","webpack://pdf.js/./external/openjpeg/openjpeg.js","webpack://pdf.js/./src/core/stream.js","webpack://pdf.js/./src/core/jpx.js","webpack://pdf.js/./src/pdf.image_decoders.js"],"sourcesContent":["/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals process */\n\n// NW.js / Electron is a browser context, but copies some Node.js objects; see\n// http://docs.nwjs.io/en/latest/For%20Users/Advanced/JavaScript%20Contexts%20in%20NW.js/#access-nodejs-and-nwjs-api-in-browser-context\n// https://www.electronjs.org/docs/api/process#processversionselectron-readonly\n// https://www.electronjs.org/docs/api/process#processtype-readonly\nconst isNodeJS =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n  typeof process === \"object\" &&\n  process + \"\" === \"[object process]\" &&\n  !process.versions.nw &&\n  !(process.versions.electron && process.type && process.type !== \"browser\");\n\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\n// Represent the percentage of the height of a single-line field over\n// the font size. Acrobat seems to use this value.\nconst LINE_FACTOR = 1.35;\nconst LINE_DESCENT_FACTOR = 0.35;\nconst BASELINE_FACTOR = LINE_DESCENT_FACTOR / LINE_FACTOR;\n\n/**\n * Refer to the `WorkerTransport.getRenderingIntent`-method in the API, to see\n * how these flags are being used:\n *  - ANY, DISPLAY, and PRINT are the normal rendering intents, note the\n *    `PDFPageProxy.{render, getOperatorList, getAnnotations}`-methods.\n *  - SAVE is used, on the worker-thread, when saving modified annotations.\n *  - ANNOTATIONS_FORMS, ANNOTATIONS_STORAGE, ANNOTATIONS_DISABLE control which\n *    annotations are rendered onto the canvas (i.e. by being included in the\n *    operatorList), note the `PDFPageProxy.{render, getOperatorList}`-methods\n *    and their `annotationMode`-option.\n *  - IS_EDITING is used when editing is active in the viewer.\n *  - OPLIST is used with the `PDFPageProxy.getOperatorList`-method, note the\n *    `OperatorList`-constructor (on the worker-thread).\n */\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  SAVE: 0x08,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  IS_EDITING: 0x80,\n  OPLIST: 0x100,\n};\n\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3,\n};\n\nconst AnnotationEditorPrefix = \"pdfjs_internal_editor_\";\n\nconst AnnotationEditorType = {\n  DISABLE: -1,\n  NONE: 0,\n  FREETEXT: 3,\n  HIGHLIGHT: 9,\n  STAMP: 13,\n  INK: 15,\n  SIGNATURE: 101,\n  COMMENT: 102,\n};\n\nconst AnnotationEditorParamsType = {\n  RESIZE: 1,\n  CREATE: 2,\n  FREETEXT_SIZE: 11,\n  FREETEXT_COLOR: 12,\n  FREETEXT_OPACITY: 13,\n  INK_COLOR: 21,\n  INK_THICKNESS: 22,\n  INK_OPACITY: 23,\n  HIGHLIGHT_COLOR: 31,\n  HIGHLIGHT_THICKNESS: 32,\n  HIGHLIGHT_FREE: 33,\n  HIGHLIGHT_SHOW_ALL: 34,\n  DRAW_STEP: 41,\n};\n\n// Permission flags from Table 22, Section 7.6.3.2 of the PDF specification.\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800,\n};\n\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4,\n};\n\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3,\n};\n\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26,\n};\n\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\",\n};\n\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200,\n};\n\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000,\n};\n\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5,\n};\n\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\",\n};\n\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\",\n};\n\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\",\n};\n\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5,\n};\n\n// All the possible operations for an operator list.\nconst OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  // PLEASE NOTE: We purposely keep any removed operators commented out, since\n  //              re-numbering the list would risk breaking third-party users.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  // beginAnnotations: 78,\n  // endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  // paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n  setStrokeTransparent: 92,\n  setFillTransparent: 93,\n  rawFillPath: 94,\n};\n\n// In order to have a switch statement that is fast (i.e. which use a jump\n// table), we need to have the OPS in a contiguous range.\nconst DrawOPS = {\n  moveTo: 0,\n  lineTo: 1,\n  curveTo: 2,\n  closePath: 3,\n};\n\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2,\n};\n\nlet verbosity = VerbosityLevel.WARNINGS;\n\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    // eslint-disable-next-line no-console\n    console.log(`Info: ${msg}`);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    // eslint-disable-next-line no-console\n    console.log(`Warning: ${msg}`);\n  }\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\n// Checks if URLs use one of the allowed protocols, e.g. to avoid XSS.\nfunction _isValidProtocol(url) {\n  switch (url?.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Attempts to create a valid absolute URL.\n *\n * @param {URL|string} url - An absolute, or relative, URL.\n * @param {URL|string} [baseUrl] - An absolute URL.\n * @param {Object} [options]\n * @returns Either a valid {URL}, or `null` otherwise.\n */\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  if (options && typeof url === \"string\") {\n    // Let URLs beginning with \"www.\" default to using the \"http://\" protocol.\n    if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n      const dots = url.match(/\\./g);\n      // Avoid accidentally matching a *relative* URL pointing to a file named\n      // e.g. \"www.pdf\" or similar.\n      if (dots?.length >= 2) {\n        url = `http://${url}`;\n      }\n    }\n\n    // According to ISO 32000-1:2008, section 12.6.4.7, URIs should be encoded\n    // in 7-bit ASCII. Some bad PDFs use UTF-8 encoding; see bug 1122280.\n    if (options.tryConvertEncoding) {\n      try {\n        url = stringToUTF8String(url);\n      } catch {}\n    }\n  }\n\n  const absoluteUrl = baseUrl ? URL.parse(url, baseUrl) : URL.parse(url);\n  return _isValidProtocol(absoluteUrl) ? absoluteUrl : null;\n}\n\n/**\n * Remove, or replace, the hash property of the URL.\n *\n * @param {URL|string} url - The absolute, or relative, URL.\n * @param {string} hash - The hash property (use an empty string to remove it).\n * @param {boolean} [allowRel] - Allow relative URLs.\n * @returns {string} The resulting URL string.\n */\nfunction updateUrlHash(url, hash, allowRel = false) {\n  const res = URL.parse(url);\n  if (res) {\n    res.hash = hash;\n    return res.href;\n  }\n  // Support well-formed relative URLs, necessary for `web/app.js` in GENERIC\n  // builds, by optionally falling back to string parsing.\n  if (allowRel && createValidAbsoluteUrl(url, \"http://example.com\")) {\n    return url.split(\"#\", 1)[0] + `${hash ? `#${hash}` : \"\"}`;\n  }\n  return \"\";\n}\n\nfunction shadow(obj, prop, value, nonSerializable = false) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n    assert(\n      prop in obj,\n      `shadow: Property \"${prop && prop.toString()}\" not found in object.`\n    );\n  }\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: !nonSerializable,\n    configurable: true,\n    writable: false,\n  });\n  return value;\n}\n\n/**\n * @type {any}\n */\nconst BaseException = (function BaseExceptionClosure() {\n  // eslint-disable-next-line no-shadow\n  function BaseException(message, name) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseException\n    ) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n\n  return BaseException;\n})();\n\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\n\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\n\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\n\nclass ResponseException extends BaseException {\n  constructor(msg, status, missing) {\n    super(msg, \"ResponseException\");\n    this.status = status;\n    this.missing = missing;\n  }\n}\n\n/**\n * Error caused during parsing PDF data.\n */\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\n\n/**\n * Error used to indicate task cancellation.\n */\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\n\nfunction bytesToString(bytes) {\n  if (typeof bytes !== \"object\" || bytes?.length === undefined) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\n\nfunction string32(value) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n    assert(\n      typeof value === \"number\" && Math.abs(value) < 2 ** 32,\n      `string32: Unexpected input \"${value}\".`\n    );\n  }\n  return String.fromCharCode(\n    (value >> 24) & 0xff,\n    (value >> 16) & 0xff,\n    (value >> 8) & 0xff,\n    value & 0xff\n  );\n}\n\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\n\n// Checks the endianness of the platform.\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\n\n// Checks if it's possible to eval JS expressions.\nfunction isEvalSupported() {\n  try {\n    new Function(\"\"); // eslint-disable-line no-new, no-new-func\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nclass FeatureTest {\n  static get isLittleEndian() {\n    return shadow(this, \"isLittleEndian\", isLittleEndian());\n  }\n\n  static get isEvalSupported() {\n    return shadow(this, \"isEvalSupported\", isEvalSupported());\n  }\n\n  static get isOffscreenCanvasSupported() {\n    return shadow(\n      this,\n      \"isOffscreenCanvasSupported\",\n      typeof OffscreenCanvas !== \"undefined\"\n    );\n  }\n\n  static get isImageDecoderSupported() {\n    return shadow(\n      this,\n      \"isImageDecoderSupported\",\n      typeof ImageDecoder !== \"undefined\"\n    );\n  }\n\n  static get platform() {\n    const { platform, userAgent } = navigator;\n\n    return shadow(this, \"platform\", {\n      isAndroid: userAgent.includes(\"Android\"),\n      isLinux: platform.includes(\"Linux\"),\n      isMac: platform.includes(\"Mac\"),\n      isWindows: platform.includes(\"Win\"),\n      isFirefox:\n        (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n        userAgent.includes(\"Firefox\"),\n    });\n  }\n\n  static get isCSSRoundSupported() {\n    return shadow(\n      this,\n      \"isCSSRoundSupported\",\n      globalThis.CSS?.supports?.(\"width: round(1.5px, 1px)\")\n    );\n  }\n}\n\nconst hexNumbers = Array.from(Array(256).keys(), n =>\n  n.toString(16).padStart(2, \"0\")\n);\n\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n\n  // Apply a scaling matrix to some min/max values.\n  // If a scaling factor is negative then min and max must be\n  // swapped.\n  static scaleMinMax(transform, minMax) {\n    let temp;\n    if (transform[0]) {\n      if (transform[0] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[0];\n      minMax[2] *= transform[0];\n\n      if (transform[3] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[3];\n      minMax[3] *= transform[3];\n    } else {\n      temp = minMax[0];\n      minMax[0] = minMax[1];\n      minMax[1] = temp;\n      temp = minMax[2];\n      minMax[2] = minMax[3];\n      minMax[3] = temp;\n\n      if (transform[1] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[1];\n      minMax[3] *= transform[1];\n\n      if (transform[2] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[2];\n      minMax[2] *= transform[2];\n    }\n    minMax[0] += transform[4];\n    minMax[1] += transform[5];\n    minMax[2] += transform[4];\n    minMax[3] += transform[5];\n  }\n\n  // Concatenates two transformation matrices together and returns the result.\n  static transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5],\n    ];\n  }\n\n  // For 2d affine transforms\n  static applyTransform(p, m, pos = 0) {\n    const p0 = p[pos];\n    const p1 = p[pos + 1];\n    p[pos] = p0 * m[0] + p1 * m[2] + m[4];\n    p[pos + 1] = p0 * m[1] + p1 * m[3] + m[5];\n  }\n\n  static applyTransformToBezier(p, transform, pos = 0) {\n    const m0 = transform[0];\n    const m1 = transform[1];\n    const m2 = transform[2];\n    const m3 = transform[3];\n    const m4 = transform[4];\n    const m5 = transform[5];\n    for (let i = 0; i < 6; i += 2) {\n      const pI = p[pos + i];\n      const pI1 = p[pos + i + 1];\n      p[pos + i] = pI * m0 + pI1 * m2 + m4;\n      p[pos + i + 1] = pI * m1 + pI1 * m3 + m5;\n    }\n  }\n\n  static applyInverseTransform(p, m) {\n    const p0 = p[0];\n    const p1 = p[1];\n    const d = m[0] * m[3] - m[1] * m[2];\n    p[0] = (p0 * m[3] - p1 * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    p[1] = (-p0 * m[1] + p1 * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n  }\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  static axialAlignedBoundingBox(rect, transform, output) {\n    const m0 = transform[0];\n    const m1 = transform[1];\n    const m2 = transform[2];\n    const m3 = transform[3];\n    const m4 = transform[4];\n    const m5 = transform[5];\n    const r0 = rect[0];\n    const r1 = rect[1];\n    const r2 = rect[2];\n    const r3 = rect[3];\n\n    let a0 = m0 * r0 + m4;\n    let a2 = a0;\n    let a1 = m0 * r2 + m4;\n    let a3 = a1;\n    let b0 = m3 * r1 + m5;\n    let b2 = b0;\n    let b1 = m3 * r3 + m5;\n    let b3 = b1;\n\n    if (m1 !== 0 || m2 !== 0) {\n      // Non-scaling matrix: shouldn't be frequent.\n      const m1r0 = m1 * r0;\n      const m1r2 = m1 * r2;\n      const m2r1 = m2 * r1;\n      const m2r3 = m2 * r3;\n      a0 += m2r1;\n      a3 += m2r1;\n      a1 += m2r3;\n      a2 += m2r3;\n      b0 += m1r0;\n      b3 += m1r0;\n      b1 += m1r2;\n      b2 += m1r2;\n    }\n\n    output[0] = Math.min(output[0], a0, a1, a2, a3);\n    output[1] = Math.min(output[1], b0, b1, b2, b3);\n    output[2] = Math.max(output[2], a0, a1, a2, a3);\n    output[3] = Math.max(output[3], b0, b1, b2, b3);\n  }\n\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [\n      m[3] / d,\n      -m[1] / d,\n      -m[2] / d,\n      m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d,\n      (m[4] * m[1] - m[5] * m[0]) / d,\n    ];\n  }\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  static singularValueDecompose2dScale(matrix, output) {\n    const m0 = matrix[0];\n    const m1 = matrix[1];\n    const m2 = matrix[2];\n    const m3 = matrix[3];\n    // Multiply matrix m with its transpose.\n    const a = m0 ** 2 + m1 ** 2;\n    const b = m0 * m2 + m1 * m3;\n    const c = m2 ** 2 + m3 ** 2;\n\n    // Solve the second degree polynomial to get roots.\n    const first = (a + c) / 2;\n    const second = Math.sqrt(first ** 2 - (a * c - b ** 2));\n    output[0] = Math.sqrt(first + second || 1);\n    output[1] = Math.sqrt(first - second || 1);\n  }\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  static normalizeRect(rect) {\n    const r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'null'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  static intersect(rect1, rect2) {\n    const xLow = Math.max(\n      Math.min(rect1[0], rect1[2]),\n      Math.min(rect2[0], rect2[2])\n    );\n    const xHigh = Math.min(\n      Math.max(rect1[0], rect1[2]),\n      Math.max(rect2[0], rect2[2])\n    );\n    if (xLow > xHigh) {\n      return null;\n    }\n    const yLow = Math.max(\n      Math.min(rect1[1], rect1[3]),\n      Math.min(rect2[1], rect2[3])\n    );\n    const yHigh = Math.min(\n      Math.max(rect1[1], rect1[3]),\n      Math.max(rect2[1], rect2[3])\n    );\n    if (yLow > yHigh) {\n      return null;\n    }\n\n    return [xLow, yLow, xHigh, yHigh];\n  }\n\n  static pointBoundingBox(x, y, minMax) {\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n\n  static rectBoundingBox(x0, y0, x1, y1, minMax) {\n    minMax[0] = Math.min(minMax[0], x0, x1);\n    minMax[1] = Math.min(minMax[1], y0, y1);\n    minMax[2] = Math.max(minMax[2], x0, x1);\n    minMax[3] = Math.max(minMax[3], y0, y1);\n  }\n\n  static #getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, t, minMax) {\n    if (t <= 0 || t >= 1) {\n      return;\n    }\n    const mt = 1 - t;\n    const tt = t * t;\n    const ttt = tt * t;\n    const x = mt * (mt * (mt * x0 + 3 * t * x1) + 3 * tt * x2) + ttt * x3;\n    const y = mt * (mt * (mt * y0 + 3 * t * y1) + 3 * tt * y2) + ttt * y3;\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n\n  static #getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, a, b, c, minMax) {\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) >= 1e-12) {\n        this.#getExtremumOnCurve(\n          x0,\n          x1,\n          x2,\n          x3,\n          y0,\n          y1,\n          y2,\n          y3,\n          -c / b,\n          minMax\n        );\n      }\n      return;\n    }\n\n    const delta = b ** 2 - 4 * c * a;\n    if (delta < 0) {\n      return;\n    }\n    const sqrtDelta = Math.sqrt(delta);\n    const a2 = 2 * a;\n    this.#getExtremumOnCurve(\n      x0,\n      x1,\n      x2,\n      x3,\n      y0,\n      y1,\n      y2,\n      y3,\n      (-b + sqrtDelta) / a2,\n      minMax\n    );\n    this.#getExtremumOnCurve(\n      x0,\n      x1,\n      x2,\n      x3,\n      y0,\n      y1,\n      y2,\n      y3,\n      (-b - sqrtDelta) / a2,\n      minMax\n    );\n  }\n\n  // From https://github.com/adobe-webplatform/Snap.svg/blob/b365287722a72526000ac4bfcf0ce4cac2faa015/src/path.js#L852\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    minMax[0] = Math.min(minMax[0], x0, x3);\n    minMax[1] = Math.min(minMax[1], y0, y3);\n    minMax[2] = Math.max(minMax[2], x0, x3);\n    minMax[3] = Math.max(minMax[3], y0, y3);\n\n    this.#getExtremum(\n      x0,\n      x1,\n      x2,\n      x3,\n      y0,\n      y1,\n      y2,\n      y3,\n      3 * (-x0 + 3 * (x1 - x2) + x3),\n      6 * (x0 - 2 * x1 + x2),\n      3 * (x1 - x0),\n      minMax\n    );\n    this.#getExtremum(\n      x0,\n      x1,\n      x2,\n      x3,\n      y0,\n      y1,\n      y2,\n      y3,\n      3 * (-y0 + 3 * (y1 - y2) + y3),\n      6 * (y0 - 2 * y1 + y2),\n      3 * (y1 - y0),\n      minMax\n    );\n  }\n}\n\nconst PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8,\n  0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192,\n  0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018,\n  0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d,\n  0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac,\n];\n\nfunction stringToPDFString(str, keepEscapeSequence = false) {\n  // See section 7.9.2.2 Text String Type.\n  // The string can contain some language codes bracketed with 0x1b,\n  // so we must remove them.\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, { fatal: true });\n        const buffer = stringToBytes(str);\n        const decoded = decoder.decode(buffer);\n        if (keepEscapeSequence || !decoded.includes(\"\\x1b\")) {\n          return decoded;\n        }\n        return decoded.replaceAll(/\\x1b[^\\x1b]*(?:\\x1b|$)/g, \"\");\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n  // ISO Latin 1\n  const strBuf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const charCode = str.charCodeAt(i);\n    if (!keepEscapeSequence && charCode === 0x1b) {\n      // eslint-disable-next-line no-empty\n      while (++i < ii && str.charCodeAt(i) !== 0x1b) {}\n      continue;\n    }\n    const code = PDFStringTranslateTable[charCode];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction getModificationDate(date = new Date()) {\n  if (!(date instanceof Date)) {\n    date = new Date(date);\n  }\n  const buffer = [\n    date.getUTCFullYear().toString(),\n    (date.getUTCMonth() + 1).toString().padStart(2, \"0\"),\n    date.getUTCDate().toString().padStart(2, \"0\"),\n    date.getUTCHours().toString().padStart(2, \"0\"),\n    date.getUTCMinutes().toString().padStart(2, \"0\"),\n    date.getUTCSeconds().toString().padStart(2, \"0\"),\n  ];\n\n  return buffer.join(\"\");\n}\n\nlet NormalizeRegex = null;\nlet NormalizationMap = null;\nfunction normalizeUnicode(str) {\n  if (!NormalizeRegex) {\n    // In order to generate the following regex:\n    //  - create a PDF containing all the chars in the range 0000-FFFF with\n    //    a NFKC which is different of the char.\n    //  - copy and paste all those chars and get the ones where NFKC is\n    //    required.\n    // It appears that most the chars here contain some ligatures.\n    NormalizeRegex =\n      /([\\u00a0\\u00b5\\u037e\\u0eb3\\u2000-\\u200a\\u202f\\u2126\\ufb00-\\ufb04\\ufb06\\ufb20-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufba1\\ufba4-\\ufba9\\ufbae-\\ufbb1\\ufbd3-\\ufbdc\\ufbde-\\ufbe7\\ufbea-\\ufbf8\\ufbfc-\\ufbfd\\ufc00-\\ufc5d\\ufc64-\\ufcf1\\ufcf5-\\ufd3d\\ufd88\\ufdf4\\ufdfa-\\ufdfb\\ufe71\\ufe77\\ufe79\\ufe7b\\ufe7d]+)|(\\ufb05+)/gu;\n    NormalizationMap = new Map([[\"\", \"t\"]]);\n  }\n  return str.replaceAll(NormalizeRegex, (_, p1, p2) =>\n    p1 ? p1.normalize(\"NFKC\") : NormalizationMap.get(p2)\n  );\n}\n\nfunction getUuid() {\n  if (\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n    typeof crypto.randomUUID === \"function\"\n  ) {\n    return crypto.randomUUID();\n  }\n  const buf = new Uint8Array(32);\n  crypto.getRandomValues(buf);\n  return bytesToString(buf);\n}\n\nconst AnnotationPrefix = \"pdfjs_internal_id_\";\n\nfunction _isValidExplicitDest(validRef, validName, dest) {\n  if (!Array.isArray(dest) || dest.length < 2) {\n    return false;\n  }\n  const [page, zoom, ...args] = dest;\n  if (!validRef(page) && !Number.isInteger(page)) {\n    return false;\n  }\n  if (!validName(zoom)) {\n    return false;\n  }\n  const argsLen = args.length;\n  let allowNull = true;\n  switch (zoom.name) {\n    case \"XYZ\":\n      if (argsLen < 2 || argsLen > 3) {\n        return false;\n      }\n      break;\n    case \"Fit\":\n    case \"FitB\":\n      return argsLen === 0;\n    case \"FitH\":\n    case \"FitBH\":\n    case \"FitV\":\n    case \"FitBV\":\n      if (argsLen > 1) {\n        return false;\n      }\n      break;\n    case \"FitR\":\n      if (argsLen !== 4) {\n        return false;\n      }\n      allowNull = false;\n      break;\n    default:\n      return false;\n  }\n  for (const arg of args) {\n    if (typeof arg === \"number\" || (allowNull && arg === null)) {\n      continue;\n    }\n    return false;\n  }\n  return true;\n}\n\n// TODO: Replace all occurrences of this function with `Math.clamp` once\n//       https://github.com/tc39/proposal-math-clamp/ is generally available.\nfunction MathClamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\n// TODO: Remove this once `Uint8Array.prototype.toHex` is generally available.\nfunction toHexUtil(arr) {\n  if (Uint8Array.prototype.toHex) {\n    return arr.toHex();\n  }\n  return Array.from(arr, num => hexNumbers[num]).join(\"\");\n}\n\n// TODO: Remove this once `Uint8Array.prototype.toBase64` is generally\n//       available.\nfunction toBase64Util(arr) {\n  if (Uint8Array.prototype.toBase64) {\n    return arr.toBase64();\n  }\n  return btoa(bytesToString(arr));\n}\n\n// TODO: Remove this once `Uint8Array.fromBase64` is generally available.\nfunction fromBase64Util(str) {\n  if (Uint8Array.fromBase64) {\n    return Uint8Array.fromBase64(str);\n  }\n  return stringToBytes(atob(str));\n}\n\n// TODO: Remove this once https://bugzilla.mozilla.org/show_bug.cgi?id=1928493\n//       is fixed.\nif (\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"SKIP_BABEL\")) &&\n  typeof Promise.try !== \"function\"\n) {\n  Promise.try = function (fn, ...args) {\n    return new Promise(resolve => {\n      resolve(fn(...args));\n    });\n  };\n}\n\n// TODO: Remove this once the `javascript.options.experimental.math_sumprecise`\n//       preference is removed from Firefox.\nif (typeof Math.sumPrecise !== \"function\") {\n  // Note that this isn't a \"proper\" polyfill, but since we're only using it to\n  // replace `Array.prototype.reduce()` invocations it should be fine.\n  Math.sumPrecise = function (numbers) {\n    return numbers.reduce((a, b) => a + b, 0);\n  };\n}\n\nif (\n  typeof PDFJSDev !== \"undefined\" &&\n  !PDFJSDev.test(\"SKIP_BABEL\") &&\n  typeof AbortSignal.any !== \"function\"\n) {\n  AbortSignal.any = function (iterable) {\n    const ac = new AbortController();\n    const { signal } = ac;\n\n    // Return immediately if any of the signals are already aborted.\n    for (const s of iterable) {\n      if (s.aborted) {\n        ac.abort(s.reason);\n        return signal;\n      }\n    }\n    // Register \"abort\" listeners for all signals.\n    for (const s of iterable) {\n      s.addEventListener(\n        \"abort\",\n        () => {\n          ac.abort(s.reason);\n        },\n        { signal } // Automatically remove the listener.\n      );\n    }\n\n    return signal;\n  };\n}\n\nexport {\n  _isValidExplicitDest,\n  AbortException,\n  AnnotationActionEventType,\n  AnnotationBorderStyleType,\n  AnnotationEditorParamsType,\n  AnnotationEditorPrefix,\n  AnnotationEditorType,\n  AnnotationFieldFlag,\n  AnnotationFlag,\n  AnnotationMode,\n  AnnotationPrefix,\n  AnnotationReplyType,\n  AnnotationType,\n  assert,\n  BaseException,\n  BASELINE_FACTOR,\n  bytesToString,\n  createValidAbsoluteUrl,\n  DocumentActionEventType,\n  DrawOPS,\n  FeatureTest,\n  FONT_IDENTITY_MATRIX,\n  FormatError,\n  fromBase64Util,\n  getModificationDate,\n  getUuid,\n  getVerbosityLevel,\n  hexNumbers,\n  ImageKind,\n  info,\n  InvalidPDFException,\n  isArrayEqual,\n  isNodeJS,\n  LINE_DESCENT_FACTOR,\n  LINE_FACTOR,\n  MathClamp,\n  normalizeUnicode,\n  objectSize,\n  OPS,\n  PageActionEventType,\n  PasswordException,\n  PasswordResponses,\n  PermissionFlag,\n  RenderingIntentFlag,\n  ResponseException,\n  setVerbosityLevel,\n  shadow,\n  string32,\n  stringToBytes,\n  stringToPDFString,\n  stringToUTF8String,\n  TextRenderingMode,\n  toBase64Util,\n  toHexUtil,\n  UnknownErrorException,\n  unreachable,\n  updateUrlHash,\n  utf8StringToString,\n  Util,\n  VerbosityLevel,\n  warn,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, shadow, unreachable } from \"../shared/util.js\";\n\nconst CIRCULAR_REF = Symbol(\"CIRCULAR_REF\");\nconst EOF = Symbol(\"EOF\");\n\nlet CmdCache = Object.create(null);\nlet NameCache = Object.create(null);\nlet RefCache = Object.create(null);\n\nfunction clearPrimitiveCaches() {\n  CmdCache = Object.create(null);\n  NameCache = Object.create(null);\n  RefCache = Object.create(null);\n}\n\nclass Name {\n  constructor(name) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      typeof name !== \"string\"\n    ) {\n      unreachable('Name: The \"name\" must be a string.');\n    }\n    this.name = name;\n  }\n\n  static get(name) {\n    // eslint-disable-next-line no-restricted-syntax\n    return (NameCache[name] ||= new Name(name));\n  }\n}\n\nclass Cmd {\n  constructor(cmd) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      typeof cmd !== \"string\"\n    ) {\n      unreachable('Cmd: The \"cmd\" must be a string.');\n    }\n    this.cmd = cmd;\n  }\n\n  static get(cmd) {\n    // eslint-disable-next-line no-restricted-syntax\n    return (CmdCache[cmd] ||= new Cmd(cmd));\n  }\n}\n\nconst nonSerializable = function nonSerializableClosure() {\n  return nonSerializable; // Creating closure on some variable.\n};\n\nclass Dict {\n  constructor(xref = null) {\n    // Map should only be used internally, use functions below to access.\n    this._map = new Map();\n    this.xref = xref;\n    this.objId = null;\n    this.suppressEncryption = false;\n    this.__nonSerializable__ = nonSerializable; // Disable cloning of the Dict.\n  }\n\n  assignXref(newXref) {\n    this.xref = newXref;\n  }\n\n  get size() {\n    return this._map.size;\n  }\n\n  // Automatically dereferences Ref objects.\n  get(key1, key2, key3) {\n    let value = this._map.get(key1);\n    if (value === undefined && key2 !== undefined) {\n      if (\n        (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n        key2.length < key1.length\n      ) {\n        unreachable(\"Dict.get: Expected keys to be ordered by length.\");\n      }\n      value = this._map.get(key2);\n      if (value === undefined && key3 !== undefined) {\n        if (\n          (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n          key3.length < key2.length\n        ) {\n          unreachable(\"Dict.get: Expected keys to be ordered by length.\");\n        }\n        value = this._map.get(key3);\n      }\n    }\n    if (value instanceof Ref && this.xref) {\n      return this.xref.fetch(value, this.suppressEncryption);\n    }\n    return value;\n  }\n\n  // Same as get(), but returns a promise and uses fetchIfRefAsync().\n  async getAsync(key1, key2, key3) {\n    let value = this._map.get(key1);\n    if (value === undefined && key2 !== undefined) {\n      if (\n        (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n        key2.length < key1.length\n      ) {\n        unreachable(\"Dict.getAsync: Expected keys to be ordered by length.\");\n      }\n      value = this._map.get(key2);\n      if (value === undefined && key3 !== undefined) {\n        if (\n          (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n          key3.length < key2.length\n        ) {\n          unreachable(\"Dict.getAsync: Expected keys to be ordered by length.\");\n        }\n        value = this._map.get(key3);\n      }\n    }\n    if (value instanceof Ref && this.xref) {\n      return this.xref.fetchAsync(value, this.suppressEncryption);\n    }\n    return value;\n  }\n\n  // Same as get(), but dereferences all elements if the result is an Array.\n  getArray(key1, key2, key3) {\n    let value = this._map.get(key1);\n    if (value === undefined && key2 !== undefined) {\n      if (\n        (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n        key2.length < key1.length\n      ) {\n        unreachable(\"Dict.getArray: Expected keys to be ordered by length.\");\n      }\n      value = this._map.get(key2);\n      if (value === undefined && key3 !== undefined) {\n        if (\n          (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n          key3.length < key2.length\n        ) {\n          unreachable(\"Dict.getArray: Expected keys to be ordered by length.\");\n        }\n        value = this._map.get(key3);\n      }\n    }\n    if (value instanceof Ref && this.xref) {\n      value = this.xref.fetch(value, this.suppressEncryption);\n    }\n\n    if (Array.isArray(value)) {\n      value = value.slice(); // Ensure that we don't modify the Dict data.\n      for (let i = 0, ii = value.length; i < ii; i++) {\n        if (value[i] instanceof Ref && this.xref) {\n          value[i] = this.xref.fetch(value[i], this.suppressEncryption);\n        }\n      }\n    }\n    return value;\n  }\n\n  // No dereferencing.\n  getRaw(key) {\n    return this._map.get(key);\n  }\n\n  getKeys() {\n    return [...this._map.keys()];\n  }\n\n  // No dereferencing.\n  getRawValues() {\n    return [...this._map.values()];\n  }\n\n  set(key, value) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      if (typeof key !== \"string\") {\n        unreachable('Dict.set: The \"key\" must be a string.');\n      } else if (value === undefined) {\n        unreachable('Dict.set: The \"value\" cannot be undefined.');\n      }\n    }\n    this._map.set(key, value);\n  }\n\n  setIfNotExists(key, value) {\n    if (!this.has(key)) {\n      this.set(key, value);\n    }\n  }\n\n  setIfNumber(key, value) {\n    if (typeof value === \"number\") {\n      this.set(key, value);\n    }\n  }\n\n  setIfArray(key, value) {\n    if (Array.isArray(value) || ArrayBuffer.isView(value)) {\n      this.set(key, value);\n    }\n  }\n\n  setIfDefined(key, value) {\n    if (value !== undefined && value !== null) {\n      this.set(key, value);\n    }\n  }\n\n  setIfName(key, value) {\n    if (typeof value === \"string\") {\n      this.set(key, Name.get(value));\n    } else if (value instanceof Name) {\n      this.set(key, value);\n    }\n  }\n\n  has(key) {\n    return this._map.has(key);\n  }\n\n  *[Symbol.iterator]() {\n    for (const [key, value] of this._map) {\n      yield [\n        key,\n        value instanceof Ref && this.xref\n          ? this.xref.fetch(value, this.suppressEncryption)\n          : value,\n      ];\n    }\n  }\n\n  static get empty() {\n    const emptyDict = new Dict(null);\n\n    emptyDict.set = (key, value) => {\n      unreachable(\"Should not call `set` on the empty dictionary.\");\n    };\n    return shadow(this, \"empty\", emptyDict);\n  }\n\n  static merge({ xref, dictArray, mergeSubDicts = false }) {\n    const mergedDict = new Dict(xref),\n      properties = new Map();\n\n    for (const dict of dictArray) {\n      if (!(dict instanceof Dict)) {\n        continue;\n      }\n      for (const [key, value] of dict._map) {\n        let property = properties.get(key);\n        if (property === undefined) {\n          property = [];\n          properties.set(key, property);\n        } else if (!mergeSubDicts || !(value instanceof Dict)) {\n          // Ignore additional entries, if either:\n          //  - This is a \"shallow\" merge, where only the first element matters.\n          //  - The value is *not* a `Dict`, since other types cannot be merged.\n          continue;\n        }\n        property.push(value);\n      }\n    }\n    for (const [name, values] of properties) {\n      if (values.length === 1 || !(values[0] instanceof Dict)) {\n        mergedDict._map.set(name, values[0]);\n        continue;\n      }\n      const subDict = new Dict(xref);\n\n      for (const dict of values) {\n        for (const [key, value] of dict._map) {\n          if (!subDict._map.has(key)) {\n            subDict._map.set(key, value);\n          }\n        }\n      }\n      if (subDict.size > 0) {\n        mergedDict._map.set(name, subDict);\n      }\n    }\n    properties.clear();\n\n    return mergedDict.size > 0 ? mergedDict : Dict.empty;\n  }\n\n  clone() {\n    const dict = new Dict(this.xref);\n    for (const key of this.getKeys()) {\n      dict.set(key, this.getRaw(key));\n    }\n    return dict;\n  }\n\n  delete(key) {\n    delete this._map[key];\n  }\n}\n\nclass Ref {\n  constructor(num, gen) {\n    this.num = num;\n    this.gen = gen;\n  }\n\n  toString() {\n    // This function is hot, so we make the string as compact as possible.\n    // |this.gen| is almost always zero, so we treat that case specially.\n    if (this.gen === 0) {\n      return `${this.num}R`;\n    }\n    return `${this.num}R${this.gen}`;\n  }\n\n  static fromString(str) {\n    const ref = RefCache[str];\n    if (ref) {\n      return ref;\n    }\n    const m = /^(\\d+)R(\\d*)$/.exec(str);\n    if (!m || m[1] === \"0\") {\n      return null;\n    }\n\n    // eslint-disable-next-line no-restricted-syntax\n    return (RefCache[str] = new Ref(\n      parseInt(m[1]),\n      !m[2] ? 0 : parseInt(m[2])\n    ));\n  }\n\n  static get(num, gen) {\n    const key = gen === 0 ? `${num}R` : `${num}R${gen}`;\n    // eslint-disable-next-line no-restricted-syntax\n    return (RefCache[key] ||= new Ref(num, gen));\n  }\n}\n\n// The reference is identified by number and generation.\n// This structure stores only one instance of the reference.\nclass RefSet {\n  constructor(parent = null) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      parent &&\n      !(parent instanceof RefSet)\n    ) {\n      unreachable('RefSet: Invalid \"parent\" value.');\n    }\n    this._set = new Set(parent?._set);\n  }\n\n  has(ref) {\n    return this._set.has(ref.toString());\n  }\n\n  put(ref) {\n    this._set.add(ref.toString());\n  }\n\n  remove(ref) {\n    this._set.delete(ref.toString());\n  }\n\n  [Symbol.iterator]() {\n    return this._set.values();\n  }\n\n  clear() {\n    this._set.clear();\n  }\n}\n\nclass RefSetCache {\n  constructor() {\n    this._map = new Map();\n  }\n\n  get size() {\n    return this._map.size;\n  }\n\n  get(ref) {\n    return this._map.get(ref.toString());\n  }\n\n  has(ref) {\n    return this._map.has(ref.toString());\n  }\n\n  put(ref, obj) {\n    this._map.set(ref.toString(), obj);\n  }\n\n  putAlias(ref, aliasRef) {\n    this._map.set(ref.toString(), this.get(aliasRef));\n  }\n\n  [Symbol.iterator]() {\n    return this._map.values();\n  }\n\n  clear() {\n    this._map.clear();\n  }\n\n  *values() {\n    yield* this._map.values();\n  }\n\n  *items() {\n    for (const [ref, value] of this._map) {\n      yield [Ref.fromString(ref), value];\n    }\n  }\n}\n\nfunction isName(v, name) {\n  return v instanceof Name && (name === undefined || v.name === name);\n}\n\nfunction isCmd(v, cmd) {\n  return v instanceof Cmd && (cmd === undefined || v.cmd === cmd);\n}\n\nfunction isDict(v, type) {\n  return (\n    v instanceof Dict && (type === undefined || isName(v.get(\"Type\"), type))\n  );\n}\n\nfunction isRefsEqual(v1, v2) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n    assert(\n      v1 instanceof Ref && v2 instanceof Ref,\n      \"isRefsEqual: Both parameters should be `Ref`s.\"\n    );\n  }\n  return v1.num === v2.num && v1.gen === v2.gen;\n}\n\nexport {\n  CIRCULAR_REF,\n  clearPrimitiveCaches,\n  Cmd,\n  Dict,\n  EOF,\n  isCmd,\n  isDict,\n  isName,\n  isRefsEqual,\n  Name,\n  Ref,\n  RefSet,\n  RefSetCache,\n};\n","/* Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { bytesToString, shadow, unreachable } from \"../shared/util.js\";\n\nclass BaseStream {\n  constructor() {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseStream\n    ) {\n      unreachable(\"Cannot initialize BaseStream.\");\n    }\n  }\n\n  // eslint-disable-next-line getter-return\n  get length() {\n    unreachable(\"Abstract getter `length` accessed\");\n  }\n\n  // eslint-disable-next-line getter-return\n  get isEmpty() {\n    unreachable(\"Abstract getter `isEmpty` accessed\");\n  }\n\n  get isDataLoaded() {\n    return shadow(this, \"isDataLoaded\", true);\n  }\n\n  getByte() {\n    unreachable(\"Abstract method `getByte` called\");\n  }\n\n  getBytes(length) {\n    unreachable(\"Abstract method `getBytes` called\");\n  }\n\n  /**\n   * NOTE: This method can only be used to get image-data that is guaranteed\n   *       to be fully loaded, since otherwise intermittent errors may occur;\n   *       note the `ObjectLoader` class.\n   */\n  async getImageData(length, decoderOptions) {\n    return this.getBytes(length, decoderOptions);\n  }\n\n  async asyncGetBytes() {\n    unreachable(\"Abstract method `asyncGetBytes` called\");\n  }\n\n  get isAsync() {\n    return false;\n  }\n\n  get isAsyncDecoder() {\n    return false;\n  }\n\n  get canAsyncDecodeImageFromBuffer() {\n    return false;\n  }\n\n  async getTransferableImage() {\n    return null;\n  }\n\n  peekByte() {\n    const peekedByte = this.getByte();\n    if (peekedByte !== -1) {\n      this.pos--;\n    }\n    return peekedByte;\n  }\n\n  peekBytes(length) {\n    const bytes = this.getBytes(length);\n    this.pos -= bytes.length;\n    return bytes;\n  }\n\n  getUint16() {\n    const b0 = this.getByte();\n    const b1 = this.getByte();\n    if (b0 === -1 || b1 === -1) {\n      return -1;\n    }\n    return (b0 << 8) + b1;\n  }\n\n  getInt32() {\n    const b0 = this.getByte();\n    const b1 = this.getByte();\n    const b2 = this.getByte();\n    const b3 = this.getByte();\n    return (b0 << 24) + (b1 << 16) + (b2 << 8) + b3;\n  }\n\n  getByteRange(begin, end) {\n    unreachable(\"Abstract method `getByteRange` called\");\n  }\n\n  getString(length) {\n    return bytesToString(this.getBytes(length));\n  }\n\n  skip(n) {\n    this.pos += n || 1;\n  }\n\n  reset() {\n    unreachable(\"Abstract method `reset` called\");\n  }\n\n  moveStart() {\n    unreachable(\"Abstract method `moveStart` called\");\n  }\n\n  makeSubStream(start, length, dict = null) {\n    unreachable(\"Abstract method `makeSubStream` called\");\n  }\n\n  /**\n   * @returns {Array | null}\n   */\n  getBaseStreams() {\n    return null;\n  }\n}\n\nexport { BaseStream };\n","/* Copyright 2019 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AnnotationEditorPrefix,\n  assert,\n  BaseException,\n  hexNumbers,\n  objectSize,\n  stringToPDFString,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { Dict, isName, Ref, RefSet } from \"./primitives.js\";\nimport { BaseStream } from \"./base_stream.js\";\n\nconst PDF_VERSION_REGEXP = /^[1-9]\\.\\d$/;\nconst MAX_INT_32 = 2 ** 31 - 1;\nconst MIN_INT_32 = -(2 ** 31);\n\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\n\nconst RESOURCES_KEYS_OPERATOR_LIST = [\n  \"ColorSpace\",\n  \"ExtGState\",\n  \"Font\",\n  \"Pattern\",\n  \"Properties\",\n  \"Shading\",\n  \"XObject\",\n];\n\nconst RESOURCES_KEYS_TEXT_CONTENT = [\n  \"ExtGState\",\n  \"Font\",\n  \"Properties\",\n  \"XObject\",\n];\n\nfunction getLookupTableFactory(initializer) {\n  let lookup;\n  return function () {\n    if (initializer) {\n      lookup = Object.create(null);\n      initializer(lookup);\n      initializer = null;\n    }\n    return lookup;\n  };\n}\n\nclass MissingDataException extends BaseException {\n  constructor(begin, end) {\n    super(`Missing data [${begin}, ${end})`, \"MissingDataException\");\n    this.begin = begin;\n    this.end = end;\n  }\n}\n\nclass ParserEOFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"ParserEOFException\");\n  }\n}\n\nclass XRefEntryException extends BaseException {\n  constructor(msg) {\n    super(msg, \"XRefEntryException\");\n  }\n}\n\nclass XRefParseException extends BaseException {\n  constructor(msg) {\n    super(msg, \"XRefParseException\");\n  }\n}\n\n/**\n * Combines multiple ArrayBuffers into a single Uint8Array.\n * @param {Array<ArrayBuffer>} arr - An array of ArrayBuffers.\n * @returns {Uint8Array}\n */\nfunction arrayBuffersToBytes(arr) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n    for (const item of arr) {\n      assert(\n        item instanceof ArrayBuffer,\n        \"arrayBuffersToBytes - expected an ArrayBuffer.\"\n      );\n    }\n  }\n  const length = arr.length;\n  if (length === 0) {\n    return new Uint8Array(0);\n  }\n  if (length === 1) {\n    return new Uint8Array(arr[0]);\n  }\n  let dataLength = 0;\n  for (let i = 0; i < length; i++) {\n    dataLength += arr[i].byteLength;\n  }\n  const data = new Uint8Array(dataLength);\n  let pos = 0;\n  for (let i = 0; i < length; i++) {\n    const item = new Uint8Array(arr[i]);\n    data.set(item, pos);\n    pos += item.byteLength;\n  }\n  return data;\n}\n\nasync function fetchBinaryData(url) {\n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error(\n      `Failed to fetch file \"${url}\" with \"${response.statusText}\".`\n    );\n  }\n  return new Uint8Array(await response.arrayBuffer());\n}\n\n/**\n * Get the value of an inheritable property.\n *\n * If the PDF specification explicitly lists a property in a dictionary as\n * inheritable, then the value of the property may be present in the dictionary\n * itself or in one or more parents of the dictionary.\n *\n * If the key is not found in the tree, `undefined` is returned. Otherwise,\n * the value for the key is returned or, if `stopWhenFound` is `false`, a list\n * of values is returned.\n *\n * @param {Dict} dict - Dictionary from where to start the traversal.\n * @param {string} key - The key of the property to find the value for.\n * @param {boolean} getArray - Whether or not the value should be fetched as an\n *   array. The default value is `false`.\n * @param {boolean} stopWhenFound - Whether or not to stop the traversal when\n *   the key is found. If set to `false`, we always walk up the entire parent\n *   chain, for example to be able to find `\\Resources` placed on multiple\n *   levels of the tree. The default value is `true`.\n */\nfunction getInheritableProperty({\n  dict,\n  key,\n  getArray = false,\n  stopWhenFound = true,\n}) {\n  let values;\n  const visited = new RefSet();\n\n  while (dict instanceof Dict && !(dict.objId && visited.has(dict.objId))) {\n    if (dict.objId) {\n      visited.put(dict.objId);\n    }\n    const value = getArray ? dict.getArray(key) : dict.get(key);\n    if (value !== undefined) {\n      if (stopWhenFound) {\n        return value;\n      }\n      (values ||= []).push(value);\n    }\n    dict = dict.get(\"Parent\");\n  }\n  return values;\n}\n\n/**\n * Get the parent dictionary to update when a property is set.\n *\n * @param {Dict} dict - Dictionary from where to start the traversal.\n * @param {Ref} ref - The reference to the dictionary.\n * @param {XRef} xref - The `XRef` instance.\n */\nfunction getParentToUpdate(dict, ref, xref) {\n  const visited = new RefSet();\n  const firstDict = dict;\n  const result = { dict: null, ref: null };\n\n  while (dict instanceof Dict && !visited.has(ref)) {\n    visited.put(ref);\n    if (dict.has(\"T\")) {\n      break;\n    }\n    ref = dict.getRaw(\"Parent\");\n    if (!(ref instanceof Ref)) {\n      return result;\n    }\n    dict = xref.fetch(ref);\n  }\n  if (dict instanceof Dict && dict !== firstDict) {\n    result.dict = dict;\n    result.ref = ref;\n  }\n  return result;\n}\n\n// prettier-ignore\nconst ROMAN_NUMBER_MAP = [\n  \"\", \"C\", \"CC\", \"CCC\", \"CD\", \"D\", \"DC\", \"DCC\", \"DCCC\", \"CM\",\n  \"\", \"X\", \"XX\", \"XXX\", \"XL\", \"L\", \"LX\", \"LXX\", \"LXXX\", \"XC\",\n  \"\", \"I\", \"II\", \"III\", \"IV\", \"V\", \"VI\", \"VII\", \"VIII\", \"IX\"\n];\n\n/**\n * Converts positive integers to (upper case) Roman numerals.\n * @param {number} number - The number that should be converted.\n * @param {boolean} lowerCase - Indicates if the result should be converted\n *   to lower case letters. The default value is `false`.\n * @returns {string} The resulting Roman number.\n */\nfunction toRomanNumerals(number, lowerCase = false) {\n  assert(\n    Number.isInteger(number) && number > 0,\n    \"The number should be a positive integer.\"\n  );\n\n  const roman =\n    \"M\".repeat((number / 1000) | 0) +\n    ROMAN_NUMBER_MAP[((number % 1000) / 100) | 0] +\n    ROMAN_NUMBER_MAP[10 + (((number % 100) / 10) | 0)] +\n    ROMAN_NUMBER_MAP[20 + (number % 10)];\n  return lowerCase ? roman.toLowerCase() : roman;\n}\n\n// Calculate the base 2 logarithm of the number `x`. This differs from the\n// native function in the sense that it returns the ceiling value and that it\n// returns 0 instead of `Infinity`/`NaN` for `x` values smaller than/equal to 0.\nfunction log2(x) {\n  return x > 0 ? Math.ceil(Math.log2(x)) : 0;\n}\n\nfunction readInt8(data, offset) {\n  return (data[offset] << 24) >> 24;\n}\n\nfunction readInt16(data, offset) {\n  return ((data[offset] << 24) | (data[offset + 1] << 16)) >> 16;\n}\n\nfunction readUint16(data, offset) {\n  return (data[offset] << 8) | data[offset + 1];\n}\n\nfunction readUint32(data, offset) {\n  return (\n    ((data[offset] << 24) |\n      (data[offset + 1] << 16) |\n      (data[offset + 2] << 8) |\n      data[offset + 3]) >>>\n    0\n  );\n}\n\n// Checks if ch is one of the following characters: SPACE, TAB, CR or LF.\nfunction isWhiteSpace(ch) {\n  return ch === 0x20 || ch === 0x09 || ch === 0x0d || ch === 0x0a;\n}\n\n/**\n * Checks if something is an Array containing only boolean values,\n * and (optionally) checks its length.\n * @param {any} arr\n * @param {number | null} len\n * @returns {boolean}\n */\nfunction isBooleanArray(arr, len) {\n  return (\n    Array.isArray(arr) &&\n    (len === null || arr.length === len) &&\n    arr.every(x => typeof x === \"boolean\")\n  );\n}\n\n/**\n * Checks if something is an Array containing only numbers,\n * and (optionally) checks its length.\n * @param {any} arr\n * @param {number | null} len\n * @returns {boolean}\n */\nfunction isNumberArray(arr, len) {\n  if (Array.isArray(arr)) {\n    return (\n      (len === null || arr.length === len) &&\n      arr.every(x => typeof x === \"number\")\n    );\n  }\n\n  // This check allows us to have typed arrays but not the\n  // BigInt64Array/BigUint64Array types (their elements aren't \"number\").\n  return (\n    ArrayBuffer.isView(arr) &&\n    !(arr instanceof BigInt64Array || arr instanceof BigUint64Array) &&\n    (len === null || arr.length === len)\n  );\n}\n\n// Returns the matrix, or the fallback value if it's invalid.\nfunction lookupMatrix(arr, fallback) {\n  return isNumberArray(arr, 6) ? arr : fallback;\n}\n\n// Returns the rectangle, or the fallback value if it's invalid.\nfunction lookupRect(arr, fallback) {\n  return isNumberArray(arr, 4) ? arr : fallback;\n}\n\n// Returns the normalized rectangle, or the fallback value if it's invalid.\nfunction lookupNormalRect(arr, fallback) {\n  return isNumberArray(arr, 4) ? Util.normalizeRect(arr) : fallback;\n}\n\n/**\n * AcroForm field names use an array like notation to refer to\n * repeated XFA elements e.g. foo.bar[nnn].\n * see: XFA Spec Chapter 3 - Repeated Elements\n *\n * @param {string} path - XFA path name.\n * @returns {Array} - Array of Objects with the name and pos of\n * each part of the path.\n */\nfunction parseXFAPath(path) {\n  const positionPattern = /(.+)\\[(\\d+)\\]$/;\n  return path.split(\".\").map(component => {\n    const m = component.match(positionPattern);\n    if (m) {\n      return { name: m[1], pos: parseInt(m[2], 10) };\n    }\n    return { name: component, pos: 0 };\n  });\n}\n\nfunction escapePDFName(str) {\n  const buffer = [];\n  let start = 0;\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.charCodeAt(i);\n    // Whitespace or delimiters aren't regular chars, so escape them.\n    if (\n      char < 0x21 ||\n      char > 0x7e ||\n      char === 0x23 /* # */ ||\n      char === 0x28 /* ( */ ||\n      char === 0x29 /* ) */ ||\n      char === 0x3c /* < */ ||\n      char === 0x3e /* > */ ||\n      char === 0x5b /* [ */ ||\n      char === 0x5d /* ] */ ||\n      char === 0x7b /* { */ ||\n      char === 0x7d /* } */ ||\n      char === 0x2f /* / */ ||\n      char === 0x25 /* % */\n    ) {\n      if (start < i) {\n        buffer.push(str.substring(start, i));\n      }\n      buffer.push(`#${char.toString(16)}`);\n      start = i + 1;\n    }\n  }\n\n  if (buffer.length === 0) {\n    return str;\n  }\n\n  if (start < str.length) {\n    buffer.push(str.substring(start, str.length));\n  }\n\n  return buffer.join(\"\");\n}\n\n// Replace \"(\", \")\", \"\\n\", \"\\r\" and \"\\\" by \"\\(\", \"\\)\", \"\\\\n\", \"\\\\r\" and \"\\\\\"\n// in order to write it in a PDF file.\nfunction escapeString(str) {\n  return str.replaceAll(/([()\\\\\\n\\r])/g, match => {\n    if (match === \"\\n\") {\n      return \"\\\\n\";\n    } else if (match === \"\\r\") {\n      return \"\\\\r\";\n    }\n    return `\\\\${match}`;\n  });\n}\n\nfunction _collectJS(entry, xref, list, parents) {\n  if (!entry) {\n    return;\n  }\n\n  let parent = null;\n  if (entry instanceof Ref) {\n    if (parents.has(entry)) {\n      // If we've already found entry then we've a cycle.\n      return;\n    }\n    parent = entry;\n    parents.put(parent);\n    entry = xref.fetch(entry);\n  }\n  if (Array.isArray(entry)) {\n    for (const element of entry) {\n      _collectJS(element, xref, list, parents);\n    }\n  } else if (entry instanceof Dict) {\n    if (isName(entry.get(\"S\"), \"JavaScript\")) {\n      const js = entry.get(\"JS\");\n      let code;\n      if (js instanceof BaseStream) {\n        code = js.getString();\n      } else if (typeof js === \"string\") {\n        code = js;\n      }\n      code &&= stringToPDFString(\n        code,\n        /* keepEscapeSequence = */ true\n      ).replaceAll(\"\\x00\", \"\");\n      if (code) {\n        list.push(code.trim());\n      }\n    }\n    _collectJS(entry.getRaw(\"Next\"), xref, list, parents);\n  }\n\n  if (parent) {\n    parents.remove(parent);\n  }\n}\n\nfunction collectActions(xref, dict, eventType) {\n  const actions = Object.create(null);\n  const additionalActionsDicts = getInheritableProperty({\n    dict,\n    key: \"AA\",\n    stopWhenFound: false,\n  });\n  if (additionalActionsDicts) {\n    // additionalActionsDicts contains dicts from ancestors\n    // as they're found in the tree from bottom to top.\n    // So the dicts are visited in reverse order to guarantee\n    // that actions from elder ancestors will be overwritten\n    // by ones from younger ancestors.\n    for (let i = additionalActionsDicts.length - 1; i >= 0; i--) {\n      const additionalActions = additionalActionsDicts[i];\n      if (!(additionalActions instanceof Dict)) {\n        continue;\n      }\n      for (const key of additionalActions.getKeys()) {\n        const action = eventType[key];\n        if (!action) {\n          continue;\n        }\n        const actionDict = additionalActions.getRaw(key);\n        const parents = new RefSet();\n        const list = [];\n        _collectJS(actionDict, xref, list, parents);\n        if (list.length > 0) {\n          actions[action] = list;\n        }\n      }\n    }\n  }\n  // Collect the Action if any (we may have one on pushbutton).\n  if (dict.has(\"A\")) {\n    const actionDict = dict.get(\"A\");\n    const parents = new RefSet();\n    const list = [];\n    _collectJS(actionDict, xref, list, parents);\n    if (list.length > 0) {\n      actions.Action = list;\n    }\n  }\n  return objectSize(actions) > 0 ? actions : null;\n}\n\nconst XMLEntities = {\n  /* < */ 0x3c: \"&lt;\",\n  /* > */ 0x3e: \"&gt;\",\n  /* & */ 0x26: \"&amp;\",\n  /* \" */ 0x22: \"&quot;\",\n  /* ' */ 0x27: \"&apos;\",\n};\n\nfunction* codePointIter(str) {\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.codePointAt(i);\n    if (char > 0xd7ff && (char < 0xe000 || char > 0xfffd)) {\n      // char is represented by two u16\n      i++;\n    }\n    yield char;\n  }\n}\n\nfunction encodeToXmlString(str) {\n  const buffer = [];\n  let start = 0;\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.codePointAt(i);\n    if (0x20 <= char && char <= 0x7e) {\n      // ascii\n      const entity = XMLEntities[char];\n      if (entity) {\n        if (start < i) {\n          buffer.push(str.substring(start, i));\n        }\n        buffer.push(entity);\n        start = i + 1;\n      }\n    } else {\n      if (start < i) {\n        buffer.push(str.substring(start, i));\n      }\n      buffer.push(`&#x${char.toString(16).toUpperCase()};`);\n      if (char > 0xd7ff && (char < 0xe000 || char > 0xfffd)) {\n        // char is represented by two u16\n        i++;\n      }\n      start = i + 1;\n    }\n  }\n\n  if (buffer.length === 0) {\n    return str;\n  }\n  if (start < str.length) {\n    buffer.push(str.substring(start, str.length));\n  }\n  return buffer.join(\"\");\n}\n\nfunction validateFontName(fontFamily, mustWarn = false) {\n  // See https://developer.mozilla.org/en-US/docs/Web/CSS/string.\n  const m = /^(\"|').*(\"|')$/.exec(fontFamily);\n  if (m && m[1] === m[2]) {\n    const re = new RegExp(`[^\\\\\\\\]${m[1]}`);\n    if (re.test(fontFamily.slice(1, -1))) {\n      if (mustWarn) {\n        warn(`FontFamily contains unescaped ${m[1]}: ${fontFamily}.`);\n      }\n      return false;\n    }\n  } else {\n    // See https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident.\n    for (const ident of fontFamily.split(/[ \\t]+/)) {\n      if (/^(\\d|(-(\\d|-)))/.test(ident) || !/^[\\w-\\\\]+$/.test(ident)) {\n        if (mustWarn) {\n          warn(`FontFamily contains invalid <custom-ident>: ${fontFamily}.`);\n        }\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nfunction validateCSSFont(cssFontInfo) {\n  // See https://developer.mozilla.org/en-US/docs/Web/CSS/font-style.\n  const DEFAULT_CSS_FONT_OBLIQUE = \"14\";\n  // See https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight.\n  const DEFAULT_CSS_FONT_WEIGHT = \"400\";\n  const CSS_FONT_WEIGHT_VALUES = new Set([\n    \"100\",\n    \"200\",\n    \"300\",\n    \"400\",\n    \"500\",\n    \"600\",\n    \"700\",\n    \"800\",\n    \"900\",\n    \"1000\",\n    \"normal\",\n    \"bold\",\n    \"bolder\",\n    \"lighter\",\n  ]);\n\n  const { fontFamily, fontWeight, italicAngle } = cssFontInfo;\n\n  if (!validateFontName(fontFamily, true)) {\n    return false;\n  }\n\n  const weight = fontWeight ? fontWeight.toString() : \"\";\n  cssFontInfo.fontWeight = CSS_FONT_WEIGHT_VALUES.has(weight)\n    ? weight\n    : DEFAULT_CSS_FONT_WEIGHT;\n\n  const angle = parseFloat(italicAngle);\n  cssFontInfo.italicAngle =\n    isNaN(angle) || angle < -90 || angle > 90\n      ? DEFAULT_CSS_FONT_OBLIQUE\n      : italicAngle.toString();\n\n  return true;\n}\n\nfunction recoverJsURL(str) {\n  // Attempt to recover valid URLs from `JS` entries with certain\n  // white-listed formats:\n  //  - window.open('http://example.com')\n  //  - app.launchURL('http://example.com', true)\n  //  - xfa.host.gotoURL('http://example.com')\n  const URL_OPEN_METHODS = [\"app.launchURL\", \"window.open\", \"xfa.host.gotoURL\"];\n  const regex = new RegExp(\n    \"^\\\\s*(\" +\n      URL_OPEN_METHODS.join(\"|\").replaceAll(\".\", \"\\\\.\") +\n      \")\\\\((?:'|\\\")([^'\\\"]*)(?:'|\\\")(?:,\\\\s*(\\\\w+)\\\\)|\\\\))\",\n    \"i\"\n  );\n\n  const jsUrl = regex.exec(str);\n  if (jsUrl?.[2]) {\n    return {\n      url: jsUrl[2],\n      newWindow: jsUrl[1] === \"app.launchURL\" && jsUrl[3] === \"true\",\n    };\n  }\n\n  return null;\n}\n\nfunction numberToString(value) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n    assert(\n      typeof value === \"number\",\n      `numberToString - the value (${value}) should be a number.`\n    );\n  }\n\n  if (Number.isInteger(value)) {\n    return value.toString();\n  }\n\n  const roundedValue = Math.round(value * 100);\n  if (roundedValue % 100 === 0) {\n    return (roundedValue / 100).toString();\n  }\n\n  if (roundedValue % 10 === 0) {\n    return value.toFixed(1);\n  }\n\n  return value.toFixed(2);\n}\n\nfunction getNewAnnotationsMap(annotationStorage) {\n  if (!annotationStorage) {\n    return null;\n  }\n  const newAnnotationsByPage = new Map();\n  // The concept of page in a XFA is very different, so\n  // editing is just not implemented.\n  for (const [key, value] of annotationStorage) {\n    if (!key.startsWith(AnnotationEditorPrefix)) {\n      continue;\n    }\n    let annotations = newAnnotationsByPage.get(value.pageIndex);\n    if (!annotations) {\n      annotations = [];\n      newAnnotationsByPage.set(value.pageIndex, annotations);\n    }\n    annotations.push(value);\n  }\n  return newAnnotationsByPage.size > 0 ? newAnnotationsByPage : null;\n}\n\n// If the string is null or undefined then it is returned as is.\nfunction stringToAsciiOrUTF16BE(str) {\n  if (str === null || str === undefined) {\n    return str;\n  }\n  return isAscii(str) ? str : stringToUTF16String(str, /* bigEndian = */ true);\n}\n\nfunction isAscii(str) {\n  if (typeof str !== \"string\") {\n    return false;\n  }\n  return !str || /^[\\x00-\\x7F]*$/.test(str);\n}\n\nfunction stringToUTF16HexString(str) {\n  const buf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.charCodeAt(i);\n    buf.push(hexNumbers[(char >> 8) & 0xff], hexNumbers[char & 0xff]);\n  }\n  return buf.join(\"\");\n}\n\nfunction stringToUTF16String(str, bigEndian = false) {\n  const buf = [];\n  if (bigEndian) {\n    buf.push(\"\\xFE\\xFF\");\n  }\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.charCodeAt(i);\n    buf.push(\n      String.fromCharCode((char >> 8) & 0xff),\n      String.fromCharCode(char & 0xff)\n    );\n  }\n  return buf.join(\"\");\n}\n\nfunction getRotationMatrix(rotation, width, height) {\n  switch (rotation) {\n    case 90:\n      return [0, 1, -1, 0, width, 0];\n    case 180:\n      return [-1, 0, 0, -1, width, height];\n    case 270:\n      return [0, -1, 1, 0, 0, height];\n    default:\n      throw new Error(\"Invalid rotation\");\n  }\n}\n\n/**\n * Get the number of bytes to use to represent the given positive integer.\n * If n is zero, the function returns 0 which means that we don't need to waste\n * a byte to represent it.\n * @param {number} x - a positive integer.\n * @returns {number}\n */\nfunction getSizeInBytes(x) {\n  // n bits are required for numbers up to 2^n - 1.\n  // So for a number x, we need ceil(log2(1 + x)) bits.\n  return Math.ceil(Math.ceil(Math.log2(1 + x)) / 8);\n}\n\nexport {\n  arrayBuffersToBytes,\n  codePointIter,\n  collectActions,\n  encodeToXmlString,\n  escapePDFName,\n  escapeString,\n  fetchBinaryData,\n  getInheritableProperty,\n  getLookupTableFactory,\n  getNewAnnotationsMap,\n  getParentToUpdate,\n  getRotationMatrix,\n  getSizeInBytes,\n  IDENTITY_MATRIX,\n  isAscii,\n  isBooleanArray,\n  isNumberArray,\n  isWhiteSpace,\n  log2,\n  lookupMatrix,\n  lookupNormalRect,\n  lookupRect,\n  MAX_INT_32,\n  MIN_INT_32,\n  MissingDataException,\n  numberToString,\n  ParserEOFException,\n  parseXFAPath,\n  PDF_VERSION_REGEXP,\n  readInt16,\n  readInt8,\n  readUint16,\n  readUint32,\n  recoverJsURL,\n  RESOURCES_KEYS_OPERATOR_LIST,\n  RESOURCES_KEYS_TEXT_CONTENT,\n  stringToAsciiOrUTF16BE,\n  stringToUTF16HexString,\n  stringToUTF16String,\n  toRomanNumerals,\n  validateCSSFont,\n  validateFontName,\n  XRefEntryException,\n  XRefParseException,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Table C-2\nconst QeTable = [\n  { qe: 0x5601, nmps: 1, nlps: 1, switchFlag: 1 },\n  { qe: 0x3401, nmps: 2, nlps: 6, switchFlag: 0 },\n  { qe: 0x1801, nmps: 3, nlps: 9, switchFlag: 0 },\n  { qe: 0x0ac1, nmps: 4, nlps: 12, switchFlag: 0 },\n  { qe: 0x0521, nmps: 5, nlps: 29, switchFlag: 0 },\n  { qe: 0x0221, nmps: 38, nlps: 33, switchFlag: 0 },\n  { qe: 0x5601, nmps: 7, nlps: 6, switchFlag: 1 },\n  { qe: 0x5401, nmps: 8, nlps: 14, switchFlag: 0 },\n  { qe: 0x4801, nmps: 9, nlps: 14, switchFlag: 0 },\n  { qe: 0x3801, nmps: 10, nlps: 14, switchFlag: 0 },\n  { qe: 0x3001, nmps: 11, nlps: 17, switchFlag: 0 },\n  { qe: 0x2401, nmps: 12, nlps: 18, switchFlag: 0 },\n  { qe: 0x1c01, nmps: 13, nlps: 20, switchFlag: 0 },\n  { qe: 0x1601, nmps: 29, nlps: 21, switchFlag: 0 },\n  { qe: 0x5601, nmps: 15, nlps: 14, switchFlag: 1 },\n  { qe: 0x5401, nmps: 16, nlps: 14, switchFlag: 0 },\n  { qe: 0x5101, nmps: 17, nlps: 15, switchFlag: 0 },\n  { qe: 0x4801, nmps: 18, nlps: 16, switchFlag: 0 },\n  { qe: 0x3801, nmps: 19, nlps: 17, switchFlag: 0 },\n  { qe: 0x3401, nmps: 20, nlps: 18, switchFlag: 0 },\n  { qe: 0x3001, nmps: 21, nlps: 19, switchFlag: 0 },\n  { qe: 0x2801, nmps: 22, nlps: 19, switchFlag: 0 },\n  { qe: 0x2401, nmps: 23, nlps: 20, switchFlag: 0 },\n  { qe: 0x2201, nmps: 24, nlps: 21, switchFlag: 0 },\n  { qe: 0x1c01, nmps: 25, nlps: 22, switchFlag: 0 },\n  { qe: 0x1801, nmps: 26, nlps: 23, switchFlag: 0 },\n  { qe: 0x1601, nmps: 27, nlps: 24, switchFlag: 0 },\n  { qe: 0x1401, nmps: 28, nlps: 25, switchFlag: 0 },\n  { qe: 0x1201, nmps: 29, nlps: 26, switchFlag: 0 },\n  { qe: 0x1101, nmps: 30, nlps: 27, switchFlag: 0 },\n  { qe: 0x0ac1, nmps: 31, nlps: 28, switchFlag: 0 },\n  { qe: 0x09c1, nmps: 32, nlps: 29, switchFlag: 0 },\n  { qe: 0x08a1, nmps: 33, nlps: 30, switchFlag: 0 },\n  { qe: 0x0521, nmps: 34, nlps: 31, switchFlag: 0 },\n  { qe: 0x0441, nmps: 35, nlps: 32, switchFlag: 0 },\n  { qe: 0x02a1, nmps: 36, nlps: 33, switchFlag: 0 },\n  { qe: 0x0221, nmps: 37, nlps: 34, switchFlag: 0 },\n  { qe: 0x0141, nmps: 38, nlps: 35, switchFlag: 0 },\n  { qe: 0x0111, nmps: 39, nlps: 36, switchFlag: 0 },\n  { qe: 0x0085, nmps: 40, nlps: 37, switchFlag: 0 },\n  { qe: 0x0049, nmps: 41, nlps: 38, switchFlag: 0 },\n  { qe: 0x0025, nmps: 42, nlps: 39, switchFlag: 0 },\n  { qe: 0x0015, nmps: 43, nlps: 40, switchFlag: 0 },\n  { qe: 0x0009, nmps: 44, nlps: 41, switchFlag: 0 },\n  { qe: 0x0005, nmps: 45, nlps: 42, switchFlag: 0 },\n  { qe: 0x0001, nmps: 45, nlps: 43, switchFlag: 0 },\n  { qe: 0x5601, nmps: 46, nlps: 46, switchFlag: 0 },\n];\n\n/**\n * This class implements the QM Coder decoding as defined in\n *   JPEG 2000 Part I Final Committee Draft Version 1.0\n *   Annex C.3 Arithmetic decoding procedure\n * available at http://www.jpeg.org/public/fcd15444-1.pdf\n *\n * The arithmetic decoder is used in conjunction with context models to decode\n * JPEG2000 and JBIG2 streams.\n */\nclass ArithmeticDecoder {\n  // C.3.5 Initialisation of the decoder (INITDEC)\n  constructor(data, start, end) {\n    this.data = data;\n    this.bp = start;\n    this.dataEnd = end;\n\n    this.chigh = data[start];\n    this.clow = 0;\n\n    this.byteIn();\n\n    this.chigh = ((this.chigh << 7) & 0xffff) | ((this.clow >> 9) & 0x7f);\n    this.clow = (this.clow << 7) & 0xffff;\n    this.ct -= 7;\n    this.a = 0x8000;\n  }\n\n  // C.3.4 Compressed data input (BYTEIN)\n  byteIn() {\n    const data = this.data;\n    let bp = this.bp;\n\n    if (data[bp] === 0xff) {\n      if (data[bp + 1] > 0x8f) {\n        this.clow += 0xff00;\n        this.ct = 8;\n      } else {\n        bp++;\n        this.clow += data[bp] << 9;\n        this.ct = 7;\n        this.bp = bp;\n      }\n    } else {\n      bp++;\n      this.clow += bp < this.dataEnd ? data[bp] << 8 : 0xff00;\n      this.ct = 8;\n      this.bp = bp;\n    }\n    if (this.clow > 0xffff) {\n      this.chigh += this.clow >> 16;\n      this.clow &= 0xffff;\n    }\n  }\n\n  // C.3.2 Decoding a decision (DECODE)\n  readBit(contexts, pos) {\n    // Contexts are packed into 1 byte:\n    // highest 7 bits carry cx.index, lowest bit carries cx.mps\n    let cx_index = contexts[pos] >> 1,\n      cx_mps = contexts[pos] & 1;\n    const qeTableIcx = QeTable[cx_index];\n    const qeIcx = qeTableIcx.qe;\n    let d;\n    let a = this.a - qeIcx;\n\n    if (this.chigh < qeIcx) {\n      // exchangeLps\n      if (a < qeIcx) {\n        a = qeIcx;\n        d = cx_mps;\n        cx_index = qeTableIcx.nmps;\n      } else {\n        a = qeIcx;\n        d = 1 ^ cx_mps;\n        if (qeTableIcx.switchFlag === 1) {\n          cx_mps = d;\n        }\n        cx_index = qeTableIcx.nlps;\n      }\n    } else {\n      this.chigh -= qeIcx;\n      if ((a & 0x8000) !== 0) {\n        this.a = a;\n        return cx_mps;\n      }\n      // exchangeMps\n      if (a < qeIcx) {\n        d = 1 ^ cx_mps;\n        if (qeTableIcx.switchFlag === 1) {\n          cx_mps = d;\n        }\n        cx_index = qeTableIcx.nlps;\n      } else {\n        d = cx_mps;\n        cx_index = qeTableIcx.nmps;\n      }\n    }\n    // C.3.3 renormD;\n    do {\n      if (this.ct === 0) {\n        this.byteIn();\n      }\n\n      a <<= 1;\n      this.chigh = ((this.chigh << 1) & 0xffff) | ((this.clow >> 15) & 1);\n      this.clow = (this.clow << 1) & 0xffff;\n      this.ct--;\n    } while ((a & 0x8000) === 0);\n    this.a = a;\n\n    contexts[pos] = (cx_index << 1) | cx_mps;\n    return d;\n  }\n}\n\nexport { ArithmeticDecoder };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* Copyright 1996-2003 Glyph & Cog, LLC\n *\n * The CCITT stream implementation contained in this file is a JavaScript port\n * of XPDF's implementation, made available under the Apache 2.0 open source\n * license.\n */\n\nimport { FormatError, info } from \"../shared/util.js\";\n\n/**\n * @typedef {Object} CCITTFaxDecoderSource\n * @property {function} next - Method that return one byte of data for decoding,\n *   or -1 when EOF is reached.\n */\n\nconst ccittEOL = -2;\nconst ccittEOF = -1;\nconst twoDimPass = 0;\nconst twoDimHoriz = 1;\nconst twoDimVert0 = 2;\nconst twoDimVertR1 = 3;\nconst twoDimVertL1 = 4;\nconst twoDimVertR2 = 5;\nconst twoDimVertL2 = 6;\nconst twoDimVertR3 = 7;\nconst twoDimVertL3 = 8;\n\n// prettier-ignore\nconst twoDimTable = [\n  [-1, -1], [-1, -1],                   // 000000x\n  [7, twoDimVertL3],                    // 0000010\n  [7, twoDimVertR3],                    // 0000011\n  [6, twoDimVertL2], [6, twoDimVertL2], // 000010x\n  [6, twoDimVertR2], [6, twoDimVertR2], // 000011x\n  [4, twoDimPass], [4, twoDimPass],     // 0001xxx\n  [4, twoDimPass], [4, twoDimPass],\n  [4, twoDimPass], [4, twoDimPass],\n  [4, twoDimPass], [4, twoDimPass],\n  [3, twoDimHoriz], [3, twoDimHoriz],   // 001xxxx\n  [3, twoDimHoriz], [3, twoDimHoriz],\n  [3, twoDimHoriz], [3, twoDimHoriz],\n  [3, twoDimHoriz], [3, twoDimHoriz],\n  [3, twoDimHoriz], [3, twoDimHoriz],\n  [3, twoDimHoriz], [3, twoDimHoriz],\n  [3, twoDimHoriz], [3, twoDimHoriz],\n  [3, twoDimHoriz], [3, twoDimHoriz],\n  [3, twoDimVertL1], [3, twoDimVertL1], // 010xxxx\n  [3, twoDimVertL1], [3, twoDimVertL1],\n  [3, twoDimVertL1], [3, twoDimVertL1],\n  [3, twoDimVertL1], [3, twoDimVertL1],\n  [3, twoDimVertL1], [3, twoDimVertL1],\n  [3, twoDimVertL1], [3, twoDimVertL1],\n  [3, twoDimVertL1], [3, twoDimVertL1],\n  [3, twoDimVertL1], [3, twoDimVertL1],\n  [3, twoDimVertR1], [3, twoDimVertR1], // 011xxxx\n  [3, twoDimVertR1], [3, twoDimVertR1],\n  [3, twoDimVertR1], [3, twoDimVertR1],\n  [3, twoDimVertR1], [3, twoDimVertR1],\n  [3, twoDimVertR1], [3, twoDimVertR1],\n  [3, twoDimVertR1], [3, twoDimVertR1],\n  [3, twoDimVertR1], [3, twoDimVertR1],\n  [3, twoDimVertR1], [3, twoDimVertR1],\n  [1, twoDimVert0], [1, twoDimVert0],   // 1xxxxxx\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0]\n];\n\n// prettier-ignore\nconst whiteTable1 = [\n  [-1, -1],                               // 00000\n  [12, ccittEOL],                         // 00001\n  [-1, -1], [-1, -1],                     // 0001x\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1], // 001xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1], // 010xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1], // 011xx\n  [11, 1792], [11, 1792],                 // 1000x\n  [12, 1984],                             // 10010\n  [12, 2048],                             // 10011\n  [12, 2112],                             // 10100\n  [12, 2176],                             // 10101\n  [12, 2240],                             // 10110\n  [12, 2304],                             // 10111\n  [11, 1856], [11, 1856],                 // 1100x\n  [11, 1920], [11, 1920],                 // 1101x\n  [12, 2368],                             // 11100\n  [12, 2432],                             // 11101\n  [12, 2496],                             // 11110\n  [12, 2560]                              // 11111\n];\n\n// prettier-ignore\nconst whiteTable2 = [\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],     // 0000000xx\n  [8, 29], [8, 29],                           // 00000010x\n  [8, 30], [8, 30],                           // 00000011x\n  [8, 45], [8, 45],                           // 00000100x\n  [8, 46], [8, 46],                           // 00000101x\n  [7, 22], [7, 22], [7, 22], [7, 22],         // 0000011xx\n  [7, 23], [7, 23], [7, 23], [7, 23],         // 0000100xx\n  [8, 47], [8, 47],                           // 00001010x\n  [8, 48], [8, 48],                           // 00001011x\n  [6, 13], [6, 13], [6, 13], [6, 13],         // 000011xxx\n  [6, 13], [6, 13], [6, 13], [6, 13],\n  [7, 20], [7, 20], [7, 20], [7, 20],         // 0001000xx\n  [8, 33], [8, 33],                           // 00010010x\n  [8, 34], [8, 34],                           // 00010011x\n  [8, 35], [8, 35],                           // 00010100x\n  [8, 36], [8, 36],                           // 00010101x\n  [8, 37], [8, 37],                           // 00010110x\n  [8, 38], [8, 38],                           // 00010111x\n  [7, 19], [7, 19], [7, 19], [7, 19],         // 0001100xx\n  [8, 31], [8, 31],                           // 00011010x\n  [8, 32], [8, 32],                           // 00011011x\n  [6, 1], [6, 1], [6, 1], [6, 1],             // 000111xxx\n  [6, 1], [6, 1], [6, 1], [6, 1],\n  [6, 12], [6, 12], [6, 12], [6, 12],         // 001000xxx\n  [6, 12], [6, 12], [6, 12], [6, 12],\n  [8, 53], [8, 53],                           // 00100100x\n  [8, 54], [8, 54],                           // 00100101x\n  [7, 26], [7, 26], [7, 26], [7, 26],         // 0010011xx\n  [8, 39], [8, 39],                           // 00101000x\n  [8, 40], [8, 40],                           // 00101001x\n  [8, 41], [8, 41],                           // 00101010x\n  [8, 42], [8, 42],                           // 00101011x\n  [8, 43], [8, 43],                           // 00101100x\n  [8, 44], [8, 44],                           // 00101101x\n  [7, 21], [7, 21], [7, 21], [7, 21],         // 0010111xx\n  [7, 28], [7, 28], [7, 28], [7, 28],         // 0011000xx\n  [8, 61], [8, 61],                           // 00110010x\n  [8, 62], [8, 62],                           // 00110011x\n  [8, 63], [8, 63],                           // 00110100x\n  [8, 0], [8, 0],                             // 00110101x\n  [8, 320], [8, 320],                         // 00110110x\n  [8, 384], [8, 384],                         // 00110111x\n  [5, 10], [5, 10], [5, 10], [5, 10],         // 00111xxxx\n  [5, 10], [5, 10], [5, 10], [5, 10],\n  [5, 10], [5, 10], [5, 10], [5, 10],\n  [5, 10], [5, 10], [5, 10], [5, 10],\n  [5, 11], [5, 11], [5, 11], [5, 11],         // 01000xxxx\n  [5, 11], [5, 11], [5, 11], [5, 11],\n  [5, 11], [5, 11], [5, 11], [5, 11],\n  [5, 11], [5, 11], [5, 11], [5, 11],\n  [7, 27], [7, 27], [7, 27], [7, 27],         // 0100100xx\n  [8, 59], [8, 59],                           // 01001010x\n  [8, 60], [8, 60],                           // 01001011x\n  [9, 1472],                                  // 010011000\n  [9, 1536],                                  // 010011001\n  [9, 1600],                                  // 010011010\n  [9, 1728],                                  // 010011011\n  [7, 18], [7, 18], [7, 18], [7, 18],         // 0100111xx\n  [7, 24], [7, 24], [7, 24], [7, 24],         // 0101000xx\n  [8, 49], [8, 49],                           // 01010010x\n  [8, 50], [8, 50],                           // 01010011x\n  [8, 51], [8, 51],                           // 01010100x\n  [8, 52], [8, 52],                           // 01010101x\n  [7, 25], [7, 25], [7, 25], [7, 25],         // 0101011xx\n  [8, 55], [8, 55],                           // 01011000x\n  [8, 56], [8, 56],                           // 01011001x\n  [8, 57], [8, 57],                           // 01011010x\n  [8, 58], [8, 58],                           // 01011011x\n  [6, 192], [6, 192], [6, 192], [6, 192],     // 010111xxx\n  [6, 192], [6, 192], [6, 192], [6, 192],\n  [6, 1664], [6, 1664], [6, 1664], [6, 1664], // 011000xxx\n  [6, 1664], [6, 1664], [6, 1664], [6, 1664],\n  [8, 448], [8, 448],                         // 01100100x\n  [8, 512], [8, 512],                         // 01100101x\n  [9, 704],                                   // 011001100\n  [9, 768],                                   // 011001101\n  [8, 640], [8, 640],                         // 01100111x\n  [8, 576], [8, 576],                         // 01101000x\n  [9, 832],                                   // 011010010\n  [9, 896],                                   // 011010011\n  [9, 960],                                   // 011010100\n  [9, 1024],                                  // 011010101\n  [9, 1088],                                  // 011010110\n  [9, 1152],                                  // 011010111\n  [9, 1216],                                  // 011011000\n  [9, 1280],                                  // 011011001\n  [9, 1344],                                  // 011011010\n  [9, 1408],                                  // 011011011\n  [7, 256], [7, 256], [7, 256], [7, 256],     // 0110111xx\n  [4, 2], [4, 2], [4, 2], [4, 2],             // 0111xxxxx\n  [4, 2], [4, 2], [4, 2], [4, 2],\n  [4, 2], [4, 2], [4, 2], [4, 2],\n  [4, 2], [4, 2], [4, 2], [4, 2],\n  [4, 2], [4, 2], [4, 2], [4, 2],\n  [4, 2], [4, 2], [4, 2], [4, 2],\n  [4, 2], [4, 2], [4, 2], [4, 2],\n  [4, 2], [4, 2], [4, 2], [4, 2],\n  [4, 3], [4, 3], [4, 3], [4, 3],             // 1000xxxxx\n  [4, 3], [4, 3], [4, 3], [4, 3],\n  [4, 3], [4, 3], [4, 3], [4, 3],\n  [4, 3], [4, 3], [4, 3], [4, 3],\n  [4, 3], [4, 3], [4, 3], [4, 3],\n  [4, 3], [4, 3], [4, 3], [4, 3],\n  [4, 3], [4, 3], [4, 3], [4, 3],\n  [4, 3], [4, 3], [4, 3], [4, 3],\n  [5, 128], [5, 128], [5, 128], [5, 128],     // 10010xxxx\n  [5, 128], [5, 128], [5, 128], [5, 128],\n  [5, 128], [5, 128], [5, 128], [5, 128],\n  [5, 128], [5, 128], [5, 128], [5, 128],\n  [5, 8], [5, 8], [5, 8], [5, 8],             // 10011xxxx\n  [5, 8], [5, 8], [5, 8], [5, 8],\n  [5, 8], [5, 8], [5, 8], [5, 8],\n  [5, 8], [5, 8], [5, 8], [5, 8],\n  [5, 9], [5, 9], [5, 9], [5, 9],             // 10100xxxx\n  [5, 9], [5, 9], [5, 9], [5, 9],\n  [5, 9], [5, 9], [5, 9], [5, 9],\n  [5, 9], [5, 9], [5, 9], [5, 9],\n  [6, 16], [6, 16], [6, 16], [6, 16],         // 101010xxx\n  [6, 16], [6, 16], [6, 16], [6, 16],\n  [6, 17], [6, 17], [6, 17], [6, 17],         // 101011xxx\n  [6, 17], [6, 17], [6, 17], [6, 17],\n  [4, 4], [4, 4], [4, 4], [4, 4],             // 1011xxxxx\n  [4, 4], [4, 4], [4, 4], [4, 4],\n  [4, 4], [4, 4], [4, 4], [4, 4],\n  [4, 4], [4, 4], [4, 4], [4, 4],\n  [4, 4], [4, 4], [4, 4], [4, 4],\n  [4, 4], [4, 4], [4, 4], [4, 4],\n  [4, 4], [4, 4], [4, 4], [4, 4],\n  [4, 4], [4, 4], [4, 4], [4, 4],\n  [4, 5], [4, 5], [4, 5], [4, 5],             // 1100xxxxx\n  [4, 5], [4, 5], [4, 5], [4, 5],\n  [4, 5], [4, 5], [4, 5], [4, 5],\n  [4, 5], [4, 5], [4, 5], [4, 5],\n  [4, 5], [4, 5], [4, 5], [4, 5],\n  [4, 5], [4, 5], [4, 5], [4, 5],\n  [4, 5], [4, 5], [4, 5], [4, 5],\n  [4, 5], [4, 5], [4, 5], [4, 5],\n  [6, 14], [6, 14], [6, 14], [6, 14],         // 110100xxx\n  [6, 14], [6, 14], [6, 14], [6, 14],\n  [6, 15], [6, 15], [6, 15], [6, 15],         // 110101xxx\n  [6, 15], [6, 15], [6, 15], [6, 15],\n  [5, 64], [5, 64], [5, 64], [5, 64],         // 11011xxxx\n  [5, 64], [5, 64], [5, 64], [5, 64],\n  [5, 64], [5, 64], [5, 64], [5, 64],\n  [5, 64], [5, 64], [5, 64], [5, 64],\n  [4, 6], [4, 6], [4, 6], [4, 6],             // 1110xxxxx\n  [4, 6], [4, 6], [4, 6], [4, 6],\n  [4, 6], [4, 6], [4, 6], [4, 6],\n  [4, 6], [4, 6], [4, 6], [4, 6],\n  [4, 6], [4, 6], [4, 6], [4, 6],\n  [4, 6], [4, 6], [4, 6], [4, 6],\n  [4, 6], [4, 6], [4, 6], [4, 6],\n  [4, 6], [4, 6], [4, 6], [4, 6],\n  [4, 7], [4, 7], [4, 7], [4, 7],             // 1111xxxxx\n  [4, 7], [4, 7], [4, 7], [4, 7],\n  [4, 7], [4, 7], [4, 7], [4, 7],\n  [4, 7], [4, 7], [4, 7], [4, 7],\n  [4, 7], [4, 7], [4, 7], [4, 7],\n  [4, 7], [4, 7], [4, 7], [4, 7],\n  [4, 7], [4, 7], [4, 7], [4, 7],\n  [4, 7], [4, 7], [4, 7], [4, 7]\n];\n\n// prettier-ignore\nconst blackTable1 = [\n  [-1, -1], [-1, -1],                             // 000000000000x\n  [12, ccittEOL], [12, ccittEOL],                 // 000000000001x\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000001xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000010xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000011xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000100xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000101xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000110xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000111xx\n  [11, 1792], [11, 1792], [11, 1792], [11, 1792], // 00000001000xx\n  [12, 1984], [12, 1984],                         // 000000010010x\n  [12, 2048], [12, 2048],                         // 000000010011x\n  [12, 2112], [12, 2112],                         // 000000010100x\n  [12, 2176], [12, 2176],                         // 000000010101x\n  [12, 2240], [12, 2240],                         // 000000010110x\n  [12, 2304], [12, 2304],                         // 000000010111x\n  [11, 1856], [11, 1856], [11, 1856], [11, 1856], // 00000001100xx\n  [11, 1920], [11, 1920], [11, 1920], [11, 1920], // 00000001101xx\n  [12, 2368], [12, 2368],                         // 000000011100x\n  [12, 2432], [12, 2432],                         // 000000011101x\n  [12, 2496], [12, 2496],                         // 000000011110x\n  [12, 2560], [12, 2560],                         // 000000011111x\n  [10, 18], [10, 18], [10, 18], [10, 18],         // 0000001000xxx\n  [10, 18], [10, 18], [10, 18], [10, 18],\n  [12, 52], [12, 52],                             // 000000100100x\n  [13, 640],                                      // 0000001001010\n  [13, 704],                                      // 0000001001011\n  [13, 768],                                      // 0000001001100\n  [13, 832],                                      // 0000001001101\n  [12, 55], [12, 55],                             // 000000100111x\n  [12, 56], [12, 56],                             // 000000101000x\n  [13, 1280],                                     // 0000001010010\n  [13, 1344],                                     // 0000001010011\n  [13, 1408],                                     // 0000001010100\n  [13, 1472],                                     // 0000001010101\n  [12, 59], [12, 59],                             // 000000101011x\n  [12, 60], [12, 60],                             // 000000101100x\n  [13, 1536],                                     // 0000001011010\n  [13, 1600],                                     // 0000001011011\n  [11, 24], [11, 24], [11, 24], [11, 24],         // 00000010111xx\n  [11, 25], [11, 25], [11, 25], [11, 25],         // 00000011000xx\n  [13, 1664],                                     // 0000001100100\n  [13, 1728],                                     // 0000001100101\n  [12, 320], [12, 320],                           // 000000110011x\n  [12, 384], [12, 384],                           // 000000110100x\n  [12, 448], [12, 448],                           // 000000110101x\n  [13, 512],                                      // 0000001101100\n  [13, 576],                                      // 0000001101101\n  [12, 53], [12, 53],                             // 000000110111x\n  [12, 54], [12, 54],                             // 000000111000x\n  [13, 896],                                      // 0000001110010\n  [13, 960],                                      // 0000001110011\n  [13, 1024],                                     // 0000001110100\n  [13, 1088],                                     // 0000001110101\n  [13, 1152],                                     // 0000001110110\n  [13, 1216],                                     // 0000001110111\n  [10, 64], [10, 64], [10, 64], [10, 64],         // 0000001111xxx\n  [10, 64], [10, 64], [10, 64], [10, 64]\n];\n\n// prettier-ignore\nconst blackTable2 = [\n  [8, 13], [8, 13], [8, 13], [8, 13],     // 00000100xxxx\n  [8, 13], [8, 13], [8, 13], [8, 13],\n  [8, 13], [8, 13], [8, 13], [8, 13],\n  [8, 13], [8, 13], [8, 13], [8, 13],\n  [11, 23], [11, 23],                     // 00000101000x\n  [12, 50],                               // 000001010010\n  [12, 51],                               // 000001010011\n  [12, 44],                               // 000001010100\n  [12, 45],                               // 000001010101\n  [12, 46],                               // 000001010110\n  [12, 47],                               // 000001010111\n  [12, 57],                               // 000001011000\n  [12, 58],                               // 000001011001\n  [12, 61],                               // 000001011010\n  [12, 256],                              // 000001011011\n  [10, 16], [10, 16], [10, 16], [10, 16], // 0000010111xx\n  [10, 17], [10, 17], [10, 17], [10, 17], // 0000011000xx\n  [12, 48],                               // 000001100100\n  [12, 49],                               // 000001100101\n  [12, 62],                               // 000001100110\n  [12, 63],                               // 000001100111\n  [12, 30],                               // 000001101000\n  [12, 31],                               // 000001101001\n  [12, 32],                               // 000001101010\n  [12, 33],                               // 000001101011\n  [12, 40],                               // 000001101100\n  [12, 41],                               // 000001101101\n  [11, 22], [11, 22],                     // 00000110111x\n  [8, 14], [8, 14], [8, 14], [8, 14],     // 00000111xxxx\n  [8, 14], [8, 14], [8, 14], [8, 14],\n  [8, 14], [8, 14], [8, 14], [8, 14],\n  [8, 14], [8, 14], [8, 14], [8, 14],\n  [7, 10], [7, 10], [7, 10], [7, 10],     // 0000100xxxxx\n  [7, 10], [7, 10], [7, 10], [7, 10],\n  [7, 10], [7, 10], [7, 10], [7, 10],\n  [7, 10], [7, 10], [7, 10], [7, 10],\n  [7, 10], [7, 10], [7, 10], [7, 10],\n  [7, 10], [7, 10], [7, 10], [7, 10],\n  [7, 10], [7, 10], [7, 10], [7, 10],\n  [7, 10], [7, 10], [7, 10], [7, 10],\n  [7, 11], [7, 11], [7, 11], [7, 11],     // 0000101xxxxx\n  [7, 11], [7, 11], [7, 11], [7, 11],\n  [7, 11], [7, 11], [7, 11], [7, 11],\n  [7, 11], [7, 11], [7, 11], [7, 11],\n  [7, 11], [7, 11], [7, 11], [7, 11],\n  [7, 11], [7, 11], [7, 11], [7, 11],\n  [7, 11], [7, 11], [7, 11], [7, 11],\n  [7, 11], [7, 11], [7, 11], [7, 11],\n  [9, 15], [9, 15], [9, 15], [9, 15],     // 000011000xxx\n  [9, 15], [9, 15], [9, 15], [9, 15],\n  [12, 128],                              // 000011001000\n  [12, 192],                              // 000011001001\n  [12, 26],                               // 000011001010\n  [12, 27],                               // 000011001011\n  [12, 28],                               // 000011001100\n  [12, 29],                               // 000011001101\n  [11, 19], [11, 19],                     // 00001100111x\n  [11, 20], [11, 20],                     // 00001101000x\n  [12, 34],                               // 000011010010\n  [12, 35],                               // 000011010011\n  [12, 36],                               // 000011010100\n  [12, 37],                               // 000011010101\n  [12, 38],                               // 000011010110\n  [12, 39],                               // 000011010111\n  [11, 21], [11, 21],                     // 00001101100x\n  [12, 42],                               // 000011011010\n  [12, 43],                               // 000011011011\n  [10, 0], [10, 0], [10, 0], [10, 0],     // 0000110111xx\n  [7, 12], [7, 12], [7, 12], [7, 12],     // 0000111xxxxx\n  [7, 12], [7, 12], [7, 12], [7, 12],\n  [7, 12], [7, 12], [7, 12], [7, 12],\n  [7, 12], [7, 12], [7, 12], [7, 12],\n  [7, 12], [7, 12], [7, 12], [7, 12],\n  [7, 12], [7, 12], [7, 12], [7, 12],\n  [7, 12], [7, 12], [7, 12], [7, 12],\n  [7, 12], [7, 12], [7, 12], [7, 12]\n];\n\n// prettier-ignore\nconst blackTable3 = [\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1], // 0000xx\n  [6, 9],                                 // 000100\n  [6, 8],                                 // 000101\n  [5, 7], [5, 7],                         // 00011x\n  [4, 6], [4, 6], [4, 6], [4, 6],         // 0010xx\n  [4, 5], [4, 5], [4, 5], [4, 5],         // 0011xx\n  [3, 1], [3, 1], [3, 1], [3, 1],         // 010xxx\n  [3, 1], [3, 1], [3, 1], [3, 1],\n  [3, 4], [3, 4], [3, 4], [3, 4],         // 011xxx\n  [3, 4], [3, 4], [3, 4], [3, 4],\n  [2, 3], [2, 3], [2, 3], [2, 3],         // 10xxxx\n  [2, 3], [2, 3], [2, 3], [2, 3],\n  [2, 3], [2, 3], [2, 3], [2, 3],\n  [2, 3], [2, 3], [2, 3], [2, 3],\n  [2, 2], [2, 2], [2, 2], [2, 2],         // 11xxxx\n  [2, 2], [2, 2], [2, 2], [2, 2],\n  [2, 2], [2, 2], [2, 2], [2, 2],\n  [2, 2], [2, 2], [2, 2], [2, 2]\n];\n\n/**\n * @param {CCITTFaxDecoderSource} source - The data which should be decoded.\n * @param {Object} [options] - Decoding options.\n */\nclass CCITTFaxDecoder {\n  constructor(source, options = {}) {\n    if (typeof source?.next !== \"function\") {\n      throw new Error('CCITTFaxDecoder - invalid \"source\" parameter.');\n    }\n    this.source = source;\n    this.eof = false;\n\n    this.encoding = options.K || 0;\n    this.eoline = options.EndOfLine || false;\n    this.byteAlign = options.EncodedByteAlign || false;\n    this.columns = options.Columns || 1728;\n    this.rows = options.Rows || 0;\n    this.eoblock = options.EndOfBlock ?? true;\n    this.black = options.BlackIs1 || false;\n\n    this.codingLine = new Uint32Array(this.columns + 1);\n    this.refLine = new Uint32Array(this.columns + 2);\n\n    this.codingLine[0] = this.columns;\n    this.codingPos = 0;\n\n    this.row = 0;\n    this.nextLine2D = this.encoding < 0;\n    this.inputBits = 0;\n    this.inputBuf = 0;\n    this.outputBits = 0;\n    this.rowsDone = false;\n\n    let code1;\n    while ((code1 = this._lookBits(12)) === 0) {\n      this._eatBits(1);\n    }\n    if (code1 === 1) {\n      this._eatBits(12);\n    }\n    if (this.encoding > 0) {\n      this.nextLine2D = !this._lookBits(1);\n      this._eatBits(1);\n    }\n  }\n\n  readNextChar() {\n    if (this.eof) {\n      return -1;\n    }\n    const refLine = this.refLine;\n    const codingLine = this.codingLine;\n    const columns = this.columns;\n\n    let refPos, blackPixels, bits, i;\n\n    if (this.outputBits === 0) {\n      if (this.rowsDone) {\n        this.eof = true;\n      }\n      if (this.eof) {\n        return -1;\n      }\n      this.err = false;\n\n      let code1, code2, code3;\n      if (this.nextLine2D) {\n        for (i = 0; codingLine[i] < columns; ++i) {\n          refLine[i] = codingLine[i];\n        }\n        refLine[i++] = columns;\n        refLine[i] = columns;\n        codingLine[0] = 0;\n        this.codingPos = 0;\n        refPos = 0;\n        blackPixels = 0;\n\n        while (codingLine[this.codingPos] < columns) {\n          code1 = this._getTwoDimCode();\n          switch (code1) {\n            case twoDimPass:\n              this._addPixels(refLine[refPos + 1], blackPixels);\n              if (refLine[refPos + 1] < columns) {\n                refPos += 2;\n              }\n              break;\n            case twoDimHoriz:\n              code1 = code2 = 0;\n              if (blackPixels) {\n                do {\n                  code1 += code3 = this._getBlackCode();\n                } while (code3 >= 64);\n                do {\n                  code2 += code3 = this._getWhiteCode();\n                } while (code3 >= 64);\n              } else {\n                do {\n                  code1 += code3 = this._getWhiteCode();\n                } while (code3 >= 64);\n                do {\n                  code2 += code3 = this._getBlackCode();\n                } while (code3 >= 64);\n              }\n              this._addPixels(codingLine[this.codingPos] + code1, blackPixels);\n              if (codingLine[this.codingPos] < columns) {\n                this._addPixels(\n                  codingLine[this.codingPos] + code2,\n                  blackPixels ^ 1\n                );\n              }\n              while (\n                refLine[refPos] <= codingLine[this.codingPos] &&\n                refLine[refPos] < columns\n              ) {\n                refPos += 2;\n              }\n              break;\n            case twoDimVertR3:\n              this._addPixels(refLine[refPos] + 3, blackPixels);\n              blackPixels ^= 1;\n              if (codingLine[this.codingPos] < columns) {\n                ++refPos;\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n              }\n              break;\n            case twoDimVertR2:\n              this._addPixels(refLine[refPos] + 2, blackPixels);\n              blackPixels ^= 1;\n              if (codingLine[this.codingPos] < columns) {\n                ++refPos;\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n              }\n              break;\n            case twoDimVertR1:\n              this._addPixels(refLine[refPos] + 1, blackPixels);\n              blackPixels ^= 1;\n              if (codingLine[this.codingPos] < columns) {\n                ++refPos;\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n              }\n              break;\n            case twoDimVert0:\n              this._addPixels(refLine[refPos], blackPixels);\n              blackPixels ^= 1;\n              if (codingLine[this.codingPos] < columns) {\n                ++refPos;\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n              }\n              break;\n            case twoDimVertL3:\n              this._addPixelsNeg(refLine[refPos] - 3, blackPixels);\n              blackPixels ^= 1;\n              if (codingLine[this.codingPos] < columns) {\n                if (refPos > 0) {\n                  --refPos;\n                } else {\n                  ++refPos;\n                }\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n              }\n              break;\n            case twoDimVertL2:\n              this._addPixelsNeg(refLine[refPos] - 2, blackPixels);\n              blackPixels ^= 1;\n              if (codingLine[this.codingPos] < columns) {\n                if (refPos > 0) {\n                  --refPos;\n                } else {\n                  ++refPos;\n                }\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n              }\n              break;\n            case twoDimVertL1:\n              this._addPixelsNeg(refLine[refPos] - 1, blackPixels);\n              blackPixels ^= 1;\n              if (codingLine[this.codingPos] < columns) {\n                if (refPos > 0) {\n                  --refPos;\n                } else {\n                  ++refPos;\n                }\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n              }\n              break;\n            case ccittEOF:\n              this._addPixels(columns, 0);\n              this.eof = true;\n              break;\n            default:\n              info(\"bad 2d code\");\n              this._addPixels(columns, 0);\n              this.err = true;\n          }\n        }\n      } else {\n        codingLine[0] = 0;\n        this.codingPos = 0;\n        blackPixels = 0;\n        while (codingLine[this.codingPos] < columns) {\n          code1 = 0;\n          if (blackPixels) {\n            do {\n              code1 += code3 = this._getBlackCode();\n            } while (code3 >= 64);\n          } else {\n            do {\n              code1 += code3 = this._getWhiteCode();\n            } while (code3 >= 64);\n          }\n          this._addPixels(codingLine[this.codingPos] + code1, blackPixels);\n          blackPixels ^= 1;\n        }\n      }\n\n      let gotEOL = false;\n\n      if (this.byteAlign) {\n        this.inputBits &= ~7;\n      }\n\n      if (!this.eoblock && this.row === this.rows - 1) {\n        this.rowsDone = true;\n      } else {\n        code1 = this._lookBits(12);\n        if (this.eoline) {\n          while (code1 !== ccittEOF && code1 !== 1) {\n            this._eatBits(1);\n            code1 = this._lookBits(12);\n          }\n        } else {\n          while (code1 === 0) {\n            this._eatBits(1);\n            code1 = this._lookBits(12);\n          }\n        }\n        if (code1 === 1) {\n          this._eatBits(12);\n          gotEOL = true;\n        } else if (code1 === ccittEOF) {\n          this.eof = true;\n        }\n      }\n\n      if (!this.eof && this.encoding > 0 && !this.rowsDone) {\n        this.nextLine2D = !this._lookBits(1);\n        this._eatBits(1);\n      }\n\n      if (this.eoblock && gotEOL && this.byteAlign) {\n        code1 = this._lookBits(12);\n        if (code1 === 1) {\n          this._eatBits(12);\n          if (this.encoding > 0) {\n            this._lookBits(1);\n            this._eatBits(1);\n          }\n          if (this.encoding >= 0) {\n            for (i = 0; i < 4; ++i) {\n              code1 = this._lookBits(12);\n              if (code1 !== 1) {\n                info(\"bad rtc code: \" + code1);\n              }\n              this._eatBits(12);\n              if (this.encoding > 0) {\n                this._lookBits(1);\n                this._eatBits(1);\n              }\n            }\n          }\n          this.eof = true;\n        }\n      } else if (this.err && this.eoline) {\n        while (true) {\n          code1 = this._lookBits(13);\n          if (code1 === ccittEOF) {\n            this.eof = true;\n            return -1;\n          }\n          if (code1 >> 1 === 1) {\n            break;\n          }\n          this._eatBits(1);\n        }\n        this._eatBits(12);\n        if (this.encoding > 0) {\n          this._eatBits(1);\n          this.nextLine2D = !(code1 & 1);\n        }\n      }\n\n      this.outputBits =\n        codingLine[0] > 0\n          ? codingLine[(this.codingPos = 0)]\n          : codingLine[(this.codingPos = 1)];\n      this.row++;\n    }\n\n    let c;\n    if (this.outputBits >= 8) {\n      c = this.codingPos & 1 ? 0 : 0xff;\n      this.outputBits -= 8;\n      if (this.outputBits === 0 && codingLine[this.codingPos] < columns) {\n        this.codingPos++;\n        this.outputBits =\n          codingLine[this.codingPos] - codingLine[this.codingPos - 1];\n      }\n    } else {\n      bits = 8;\n      c = 0;\n      do {\n        if (typeof this.outputBits !== \"number\") {\n          throw new FormatError(\n            'Invalid /CCITTFaxDecode data, \"outputBits\" must be a number.'\n          );\n        }\n\n        if (this.outputBits > bits) {\n          c <<= bits;\n          if (!(this.codingPos & 1)) {\n            c |= 0xff >> (8 - bits);\n          }\n          this.outputBits -= bits;\n          bits = 0;\n        } else {\n          c <<= this.outputBits;\n          if (!(this.codingPos & 1)) {\n            c |= 0xff >> (8 - this.outputBits);\n          }\n          bits -= this.outputBits;\n          this.outputBits = 0;\n          if (codingLine[this.codingPos] < columns) {\n            this.codingPos++;\n            this.outputBits =\n              codingLine[this.codingPos] - codingLine[this.codingPos - 1];\n          } else if (bits > 0) {\n            c <<= bits;\n            bits = 0;\n          }\n        }\n      } while (bits);\n    }\n    if (this.black) {\n      c ^= 0xff;\n    }\n    return c;\n  }\n\n  /**\n   * @private\n   */\n  _addPixels(a1, blackPixels) {\n    const codingLine = this.codingLine;\n    let codingPos = this.codingPos;\n\n    if (a1 > codingLine[codingPos]) {\n      if (a1 > this.columns) {\n        info(\"row is wrong length\");\n        this.err = true;\n        a1 = this.columns;\n      }\n      if ((codingPos & 1) ^ blackPixels) {\n        ++codingPos;\n      }\n\n      codingLine[codingPos] = a1;\n    }\n    this.codingPos = codingPos;\n  }\n\n  /**\n   * @private\n   */\n  _addPixelsNeg(a1, blackPixels) {\n    const codingLine = this.codingLine;\n    let codingPos = this.codingPos;\n\n    if (a1 > codingLine[codingPos]) {\n      if (a1 > this.columns) {\n        info(\"row is wrong length\");\n        this.err = true;\n        a1 = this.columns;\n      }\n      if ((codingPos & 1) ^ blackPixels) {\n        ++codingPos;\n      }\n\n      codingLine[codingPos] = a1;\n    } else if (a1 < codingLine[codingPos]) {\n      if (a1 < 0) {\n        info(\"invalid code\");\n        this.err = true;\n        a1 = 0;\n      }\n      while (codingPos > 0 && a1 < codingLine[codingPos - 1]) {\n        --codingPos;\n      }\n      codingLine[codingPos] = a1;\n    }\n\n    this.codingPos = codingPos;\n  }\n\n  /**\n   * This function returns the code found from the table.\n   * The start and end parameters set the boundaries for searching the table.\n   * The limit parameter is optional. Function returns an array with three\n   * values. The first array element indicates whether a valid code is being\n   * returned. The second array element is the actual code. The third array\n   * element indicates whether EOF was reached.\n   * @private\n   */\n  _findTableCode(start, end, table, limit) {\n    const limitValue = limit || 0;\n    for (let i = start; i <= end; ++i) {\n      let code = this._lookBits(i);\n      if (code === ccittEOF) {\n        return [true, 1, false];\n      }\n      if (i < end) {\n        code <<= end - i;\n      }\n      if (!limitValue || code >= limitValue) {\n        const p = table[code - limitValue];\n        if (p[0] === i) {\n          this._eatBits(i);\n          return [true, p[1], true];\n        }\n      }\n    }\n    return [false, 0, false];\n  }\n\n  /**\n   * @private\n   */\n  _getTwoDimCode() {\n    let code = 0;\n    let p;\n    if (this.eoblock) {\n      code = this._lookBits(7);\n      p = twoDimTable[code];\n      if (p?.[0] > 0) {\n        this._eatBits(p[0]);\n        return p[1];\n      }\n    } else {\n      const result = this._findTableCode(1, 7, twoDimTable);\n      if (result[0] && result[2]) {\n        return result[1];\n      }\n    }\n    info(\"Bad two dim code\");\n    return ccittEOF;\n  }\n\n  /**\n   * @private\n   */\n  _getWhiteCode() {\n    let code = 0;\n    let p;\n    if (this.eoblock) {\n      code = this._lookBits(12);\n      if (code === ccittEOF) {\n        return 1;\n      }\n\n      p = code >> 5 === 0 ? whiteTable1[code] : whiteTable2[code >> 3];\n\n      if (p[0] > 0) {\n        this._eatBits(p[0]);\n        return p[1];\n      }\n    } else {\n      let result = this._findTableCode(1, 9, whiteTable2);\n      if (result[0]) {\n        return result[1];\n      }\n\n      result = this._findTableCode(11, 12, whiteTable1);\n      if (result[0]) {\n        return result[1];\n      }\n    }\n    info(\"bad white code\");\n    this._eatBits(1);\n    return 1;\n  }\n\n  /**\n   * @private\n   */\n  _getBlackCode() {\n    let code, p;\n    if (this.eoblock) {\n      code = this._lookBits(13);\n      if (code === ccittEOF) {\n        return 1;\n      }\n      if (code >> 7 === 0) {\n        p = blackTable1[code];\n      } else if (code >> 9 === 0 && code >> 7 !== 0) {\n        p = blackTable2[(code >> 1) - 64];\n      } else {\n        p = blackTable3[code >> 7];\n      }\n\n      if (p[0] > 0) {\n        this._eatBits(p[0]);\n        return p[1];\n      }\n    } else {\n      let result = this._findTableCode(2, 6, blackTable3);\n      if (result[0]) {\n        return result[1];\n      }\n\n      result = this._findTableCode(7, 12, blackTable2, 64);\n      if (result[0]) {\n        return result[1];\n      }\n\n      result = this._findTableCode(10, 13, blackTable1);\n      if (result[0]) {\n        return result[1];\n      }\n    }\n    info(\"bad black code\");\n    this._eatBits(1);\n    return 1;\n  }\n\n  /**\n   * @private\n   */\n  _lookBits(n) {\n    let c;\n    while (this.inputBits < n) {\n      if ((c = this.source.next()) === -1) {\n        if (this.inputBits === 0) {\n          return ccittEOF;\n        }\n        return (this.inputBuf << (n - this.inputBits)) & (0xffff >> (16 - n));\n      }\n      this.inputBuf = (this.inputBuf << 8) | c;\n      this.inputBits += 8;\n    }\n    return (this.inputBuf >> (this.inputBits - n)) & (0xffff >> (16 - n));\n  }\n\n  /**\n   * @private\n   */\n  _eatBits(n) {\n    if ((this.inputBits -= n) < 0) {\n      this.inputBits = 0;\n    }\n  }\n}\n\nexport { CCITTFaxDecoder };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseException, shadow } from \"../shared/util.js\";\nimport {\n  log2,\n  MAX_INT_32,\n  MIN_INT_32,\n  readInt8,\n  readUint16,\n  readUint32,\n} from \"./core_utils.js\";\nimport { ArithmeticDecoder } from \"./arithmetic_decoder.js\";\nimport { CCITTFaxDecoder } from \"./ccitt.js\";\n\nclass Jbig2Error extends BaseException {\n  constructor(msg) {\n    super(msg, \"Jbig2Error\");\n  }\n}\n\n// Utility data structures\nclass ContextCache {\n  getContexts(id) {\n    if (id in this) {\n      return this[id];\n    }\n    return (this[id] = new Int8Array(1 << 16));\n  }\n}\n\nclass DecodingContext {\n  constructor(data, start, end) {\n    this.data = data;\n    this.start = start;\n    this.end = end;\n  }\n\n  get decoder() {\n    const decoder = new ArithmeticDecoder(this.data, this.start, this.end);\n    return shadow(this, \"decoder\", decoder);\n  }\n\n  get contextCache() {\n    const cache = new ContextCache();\n    return shadow(this, \"contextCache\", cache);\n  }\n}\n\n// Annex A. Arithmetic Integer Decoding Procedure\n// A.2 Procedure for decoding values\nfunction decodeInteger(contextCache, procedure, decoder) {\n  const contexts = contextCache.getContexts(procedure);\n  let prev = 1;\n\n  function readBits(length) {\n    let v = 0;\n    for (let i = 0; i < length; i++) {\n      const bit = decoder.readBit(contexts, prev);\n      prev = prev < 256 ? (prev << 1) | bit : (((prev << 1) | bit) & 511) | 256;\n      v = (v << 1) | bit;\n    }\n    return v >>> 0;\n  }\n\n  const sign = readBits(1);\n  // prettier-ignore\n  /* eslint-disable no-nested-ternary */\n  const value = readBits(1) ?\n                  (readBits(1) ?\n                    (readBits(1) ?\n                      (readBits(1) ?\n                        (readBits(1) ?\n                          (readBits(32) + 4436) :\n                        readBits(12) + 340) :\n                      readBits(8) + 84) :\n                    readBits(6) + 20) :\n                  readBits(4) + 4) :\n                readBits(2);\n  /* eslint-enable no-nested-ternary */\n  let signedValue;\n  if (sign === 0) {\n    signedValue = value;\n  } else if (value > 0) {\n    signedValue = -value;\n  }\n  // Ensure that the integer value doesn't underflow or overflow.\n  if (signedValue >= MIN_INT_32 && signedValue <= MAX_INT_32) {\n    return signedValue;\n  }\n  return null;\n}\n\n// A.3 The IAID decoding procedure\nfunction decodeIAID(contextCache, decoder, codeLength) {\n  const contexts = contextCache.getContexts(\"IAID\");\n\n  let prev = 1;\n  for (let i = 0; i < codeLength; i++) {\n    const bit = decoder.readBit(contexts, prev);\n    prev = (prev << 1) | bit;\n  }\n  if (codeLength < 31) {\n    return prev & ((1 << codeLength) - 1);\n  }\n  return prev & 0x7fffffff;\n}\n\n// 7.3 Segment types\nconst SegmentTypes = [\n  \"SymbolDictionary\",\n  null,\n  null,\n  null,\n  \"IntermediateTextRegion\",\n  null,\n  \"ImmediateTextRegion\",\n  \"ImmediateLosslessTextRegion\",\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  \"PatternDictionary\",\n  null,\n  null,\n  null,\n  \"IntermediateHalftoneRegion\",\n  null,\n  \"ImmediateHalftoneRegion\",\n  \"ImmediateLosslessHalftoneRegion\",\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  \"IntermediateGenericRegion\",\n  null,\n  \"ImmediateGenericRegion\",\n  \"ImmediateLosslessGenericRegion\",\n  \"IntermediateGenericRefinementRegion\",\n  null,\n  \"ImmediateGenericRefinementRegion\",\n  \"ImmediateLosslessGenericRefinementRegion\",\n  null,\n  null,\n  null,\n  null,\n  \"PageInformation\",\n  \"EndOfPage\",\n  \"EndOfStripe\",\n  \"EndOfFile\",\n  \"Profiles\",\n  \"Tables\",\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  \"Extension\",\n];\n\nconst CodingTemplates = [\n  [\n    { x: -1, y: -2 },\n    { x: 0, y: -2 },\n    { x: 1, y: -2 },\n    { x: -2, y: -1 },\n    { x: -1, y: -1 },\n    { x: 0, y: -1 },\n    { x: 1, y: -1 },\n    { x: 2, y: -1 },\n    { x: -4, y: 0 },\n    { x: -3, y: 0 },\n    { x: -2, y: 0 },\n    { x: -1, y: 0 },\n  ],\n  [\n    { x: -1, y: -2 },\n    { x: 0, y: -2 },\n    { x: 1, y: -2 },\n    { x: 2, y: -2 },\n    { x: -2, y: -1 },\n    { x: -1, y: -1 },\n    { x: 0, y: -1 },\n    { x: 1, y: -1 },\n    { x: 2, y: -1 },\n    { x: -3, y: 0 },\n    { x: -2, y: 0 },\n    { x: -1, y: 0 },\n  ],\n  [\n    { x: -1, y: -2 },\n    { x: 0, y: -2 },\n    { x: 1, y: -2 },\n    { x: -2, y: -1 },\n    { x: -1, y: -1 },\n    { x: 0, y: -1 },\n    { x: 1, y: -1 },\n    { x: -2, y: 0 },\n    { x: -1, y: 0 },\n  ],\n  [\n    { x: -3, y: -1 },\n    { x: -2, y: -1 },\n    { x: -1, y: -1 },\n    { x: 0, y: -1 },\n    { x: 1, y: -1 },\n    { x: -4, y: 0 },\n    { x: -3, y: 0 },\n    { x: -2, y: 0 },\n    { x: -1, y: 0 },\n  ],\n];\n\nconst RefinementTemplates = [\n  {\n    coding: [\n      { x: 0, y: -1 },\n      { x: 1, y: -1 },\n      { x: -1, y: 0 },\n    ],\n    reference: [\n      { x: 0, y: -1 },\n      { x: 1, y: -1 },\n      { x: -1, y: 0 },\n      { x: 0, y: 0 },\n      { x: 1, y: 0 },\n      { x: -1, y: 1 },\n      { x: 0, y: 1 },\n      { x: 1, y: 1 },\n    ],\n  },\n  {\n    coding: [\n      { x: -1, y: -1 },\n      { x: 0, y: -1 },\n      { x: 1, y: -1 },\n      { x: -1, y: 0 },\n    ],\n    reference: [\n      { x: 0, y: -1 },\n      { x: -1, y: 0 },\n      { x: 0, y: 0 },\n      { x: 1, y: 0 },\n      { x: 0, y: 1 },\n      { x: 1, y: 1 },\n    ],\n  },\n];\n\n// See 6.2.5.7 Decoding the bitmap.\nconst ReusedContexts = [\n  0x9b25, // 10011 0110010 0101\n  0x0795, // 0011 110010 101\n  0x00e5, // 001 11001 01\n  0x0195, // 011001 0101\n];\n\nconst RefinementReusedContexts = [\n  0x0020, // '000' + '0' (coding) + '00010000' + '0' (reference)\n  0x0008, // '0000' + '001000'\n];\n\nfunction decodeBitmapTemplate0(width, height, decodingContext) {\n  const decoder = decodingContext.decoder;\n  const contexts = decodingContext.contextCache.getContexts(\"GB\");\n  const bitmap = [];\n  let contextLabel, i, j, pixel, row, row1, row2;\n\n  // ...ooooo....\n  // ..ooooooo... Context template for current pixel (X)\n  // .ooooX...... (concatenate values of 'o'-pixels to get contextLabel)\n  const OLD_PIXEL_MASK = 0x7bf7; // 01111 0111111 0111\n\n  for (i = 0; i < height; i++) {\n    row = bitmap[i] = new Uint8Array(width);\n    row1 = i < 1 ? row : bitmap[i - 1];\n    row2 = i < 2 ? row : bitmap[i - 2];\n\n    // At the beginning of each row:\n    // Fill contextLabel with pixels that are above/right of (X)\n    contextLabel =\n      (row2[0] << 13) |\n      (row2[1] << 12) |\n      (row2[2] << 11) |\n      (row1[0] << 7) |\n      (row1[1] << 6) |\n      (row1[2] << 5) |\n      (row1[3] << 4);\n\n    for (j = 0; j < width; j++) {\n      row[j] = pixel = decoder.readBit(contexts, contextLabel);\n\n      // At each pixel: Clear contextLabel pixels that are shifted\n      // out of the context, then add new ones.\n      contextLabel =\n        ((contextLabel & OLD_PIXEL_MASK) << 1) |\n        (j + 3 < width ? row2[j + 3] << 11 : 0) |\n        (j + 4 < width ? row1[j + 4] << 4 : 0) |\n        pixel;\n    }\n  }\n\n  return bitmap;\n}\n\n// 6.2 Generic Region Decoding Procedure\nfunction decodeBitmap(\n  mmr,\n  width,\n  height,\n  templateIndex,\n  prediction,\n  skip,\n  at,\n  decodingContext\n) {\n  if (mmr) {\n    const input = new Reader(\n      decodingContext.data,\n      decodingContext.start,\n      decodingContext.end\n    );\n    return decodeMMRBitmap(input, width, height, false);\n  }\n\n  // Use optimized version for the most common case\n  if (\n    templateIndex === 0 &&\n    !skip &&\n    !prediction &&\n    at.length === 4 &&\n    at[0].x === 3 &&\n    at[0].y === -1 &&\n    at[1].x === -3 &&\n    at[1].y === -1 &&\n    at[2].x === 2 &&\n    at[2].y === -2 &&\n    at[3].x === -2 &&\n    at[3].y === -2\n  ) {\n    return decodeBitmapTemplate0(width, height, decodingContext);\n  }\n\n  const useskip = !!skip;\n  const template = CodingTemplates[templateIndex].concat(at);\n\n  // Sorting is non-standard, and it is not required. But sorting increases\n  // the number of template bits that can be reused from the previous\n  // contextLabel in the main loop.\n  template.sort((a, b) => a.y - b.y || a.x - b.x);\n\n  const templateLength = template.length;\n  const templateX = new Int8Array(templateLength);\n  const templateY = new Int8Array(templateLength);\n  const changingTemplateEntries = [];\n  let reuseMask = 0,\n    minX = 0,\n    maxX = 0,\n    minY = 0;\n  let c, k;\n\n  for (k = 0; k < templateLength; k++) {\n    templateX[k] = template[k].x;\n    templateY[k] = template[k].y;\n    minX = Math.min(minX, template[k].x);\n    maxX = Math.max(maxX, template[k].x);\n    minY = Math.min(minY, template[k].y);\n    // Check if the template pixel appears in two consecutive context labels,\n    // so it can be reused. Otherwise, we add it to the list of changing\n    // template entries.\n    if (\n      k < templateLength - 1 &&\n      template[k].y === template[k + 1].y &&\n      template[k].x === template[k + 1].x - 1\n    ) {\n      reuseMask |= 1 << (templateLength - 1 - k);\n    } else {\n      changingTemplateEntries.push(k);\n    }\n  }\n  const changingEntriesLength = changingTemplateEntries.length;\n\n  const changingTemplateX = new Int8Array(changingEntriesLength);\n  const changingTemplateY = new Int8Array(changingEntriesLength);\n  const changingTemplateBit = new Uint16Array(changingEntriesLength);\n  for (c = 0; c < changingEntriesLength; c++) {\n    k = changingTemplateEntries[c];\n    changingTemplateX[c] = template[k].x;\n    changingTemplateY[c] = template[k].y;\n    changingTemplateBit[c] = 1 << (templateLength - 1 - k);\n  }\n\n  // Get the safe bounding box edges from the width, height, minX, maxX, minY\n  const sbb_left = -minX;\n  const sbb_top = -minY;\n  const sbb_right = width - maxX;\n\n  const pseudoPixelContext = ReusedContexts[templateIndex];\n  let row = new Uint8Array(width);\n  const bitmap = [];\n\n  const decoder = decodingContext.decoder;\n  const contexts = decodingContext.contextCache.getContexts(\"GB\");\n\n  let ltp = 0,\n    j,\n    i0,\n    j0,\n    contextLabel = 0,\n    bit,\n    shift;\n  for (let i = 0; i < height; i++) {\n    if (prediction) {\n      const sltp = decoder.readBit(contexts, pseudoPixelContext);\n      ltp ^= sltp;\n      if (ltp) {\n        bitmap.push(row); // duplicate previous row\n        continue;\n      }\n    }\n    row = new Uint8Array(row);\n    bitmap.push(row);\n    for (j = 0; j < width; j++) {\n      if (useskip && skip[i][j]) {\n        row[j] = 0;\n        continue;\n      }\n      // Are we in the middle of a scanline, so we can reuse contextLabel\n      // bits?\n      if (j >= sbb_left && j < sbb_right && i >= sbb_top) {\n        // If yes, we can just shift the bits that are reusable and only\n        // fetch the remaining ones.\n        contextLabel = (contextLabel << 1) & reuseMask;\n        for (k = 0; k < changingEntriesLength; k++) {\n          i0 = i + changingTemplateY[k];\n          j0 = j + changingTemplateX[k];\n          bit = bitmap[i0][j0];\n          if (bit) {\n            bit = changingTemplateBit[k];\n            contextLabel |= bit;\n          }\n        }\n      } else {\n        // compute the contextLabel from scratch\n        contextLabel = 0;\n        shift = templateLength - 1;\n        for (k = 0; k < templateLength; k++, shift--) {\n          j0 = j + templateX[k];\n          if (j0 >= 0 && j0 < width) {\n            i0 = i + templateY[k];\n            if (i0 >= 0) {\n              bit = bitmap[i0][j0];\n              if (bit) {\n                contextLabel |= bit << shift;\n              }\n            }\n          }\n        }\n      }\n      const pixel = decoder.readBit(contexts, contextLabel);\n      row[j] = pixel;\n    }\n  }\n  return bitmap;\n}\n\n// 6.3.2 Generic Refinement Region Decoding Procedure\nfunction decodeRefinement(\n  width,\n  height,\n  templateIndex,\n  referenceBitmap,\n  offsetX,\n  offsetY,\n  prediction,\n  at,\n  decodingContext\n) {\n  let codingTemplate = RefinementTemplates[templateIndex].coding;\n  if (templateIndex === 0) {\n    codingTemplate = codingTemplate.concat([at[0]]);\n  }\n  const codingTemplateLength = codingTemplate.length;\n  const codingTemplateX = new Int32Array(codingTemplateLength);\n  const codingTemplateY = new Int32Array(codingTemplateLength);\n  let k;\n  for (k = 0; k < codingTemplateLength; k++) {\n    codingTemplateX[k] = codingTemplate[k].x;\n    codingTemplateY[k] = codingTemplate[k].y;\n  }\n\n  let referenceTemplate = RefinementTemplates[templateIndex].reference;\n  if (templateIndex === 0) {\n    referenceTemplate = referenceTemplate.concat([at[1]]);\n  }\n  const referenceTemplateLength = referenceTemplate.length;\n  const referenceTemplateX = new Int32Array(referenceTemplateLength);\n  const referenceTemplateY = new Int32Array(referenceTemplateLength);\n  for (k = 0; k < referenceTemplateLength; k++) {\n    referenceTemplateX[k] = referenceTemplate[k].x;\n    referenceTemplateY[k] = referenceTemplate[k].y;\n  }\n  const referenceWidth = referenceBitmap[0].length;\n  const referenceHeight = referenceBitmap.length;\n\n  const pseudoPixelContext = RefinementReusedContexts[templateIndex];\n  const bitmap = [];\n\n  const decoder = decodingContext.decoder;\n  const contexts = decodingContext.contextCache.getContexts(\"GR\");\n\n  let ltp = 0;\n  for (let i = 0; i < height; i++) {\n    if (prediction) {\n      const sltp = decoder.readBit(contexts, pseudoPixelContext);\n      ltp ^= sltp;\n      if (ltp) {\n        throw new Jbig2Error(\"prediction is not supported\");\n      }\n    }\n    const row = new Uint8Array(width);\n    bitmap.push(row);\n    for (let j = 0; j < width; j++) {\n      let i0, j0;\n      let contextLabel = 0;\n      for (k = 0; k < codingTemplateLength; k++) {\n        i0 = i + codingTemplateY[k];\n        j0 = j + codingTemplateX[k];\n        if (i0 < 0 || j0 < 0 || j0 >= width) {\n          contextLabel <<= 1; // out of bound pixel\n        } else {\n          contextLabel = (contextLabel << 1) | bitmap[i0][j0];\n        }\n      }\n      for (k = 0; k < referenceTemplateLength; k++) {\n        i0 = i + referenceTemplateY[k] - offsetY;\n        j0 = j + referenceTemplateX[k] - offsetX;\n        if (i0 < 0 || i0 >= referenceHeight || j0 < 0 || j0 >= referenceWidth) {\n          contextLabel <<= 1; // out of bound pixel\n        } else {\n          contextLabel = (contextLabel << 1) | referenceBitmap[i0][j0];\n        }\n      }\n      const pixel = decoder.readBit(contexts, contextLabel);\n      row[j] = pixel;\n    }\n  }\n\n  return bitmap;\n}\n\n// 6.5.5 Decoding the symbol dictionary\nfunction decodeSymbolDictionary(\n  huffman,\n  refinement,\n  symbols,\n  numberOfNewSymbols,\n  numberOfExportedSymbols,\n  huffmanTables,\n  templateIndex,\n  at,\n  refinementTemplateIndex,\n  refinementAt,\n  decodingContext,\n  huffmanInput\n) {\n  if (huffman && refinement) {\n    throw new Jbig2Error(\"symbol refinement with Huffman is not supported\");\n  }\n\n  const newSymbols = [];\n  let currentHeight = 0;\n  let symbolCodeLength = log2(symbols.length + numberOfNewSymbols);\n\n  const decoder = decodingContext.decoder;\n  const contextCache = decodingContext.contextCache;\n  let tableB1, symbolWidths;\n  if (huffman) {\n    tableB1 = getStandardTable(1); // standard table B.1\n    symbolWidths = [];\n    symbolCodeLength = Math.max(symbolCodeLength, 1); // 6.5.8.2.3\n  }\n\n  while (newSymbols.length < numberOfNewSymbols) {\n    const deltaHeight = huffman\n      ? huffmanTables.tableDeltaHeight.decode(huffmanInput)\n      : decodeInteger(contextCache, \"IADH\", decoder); // 6.5.6\n    currentHeight += deltaHeight;\n    let currentWidth = 0,\n      totalWidth = 0;\n    const firstSymbol = huffman ? symbolWidths.length : 0;\n    while (true) {\n      const deltaWidth = huffman\n        ? huffmanTables.tableDeltaWidth.decode(huffmanInput)\n        : decodeInteger(contextCache, \"IADW\", decoder); // 6.5.7\n      if (deltaWidth === null) {\n        break; // OOB\n      }\n      currentWidth += deltaWidth;\n      totalWidth += currentWidth;\n      let bitmap;\n      if (refinement) {\n        // 6.5.8.2 Refinement/aggregate-coded symbol bitmap\n        const numberOfInstances = decodeInteger(contextCache, \"IAAI\", decoder);\n        if (numberOfInstances > 1) {\n          bitmap = decodeTextRegion(\n            huffman,\n            refinement,\n            currentWidth,\n            currentHeight,\n            0,\n            numberOfInstances,\n            1, // strip size\n            symbols.concat(newSymbols),\n            symbolCodeLength,\n            0, // transposed\n            0, // ds offset\n            1, // top left 7.4.3.1.1\n            0, // OR operator\n            huffmanTables,\n            refinementTemplateIndex,\n            refinementAt,\n            decodingContext,\n            0,\n            huffmanInput\n          );\n        } else {\n          const symbolId = decodeIAID(contextCache, decoder, symbolCodeLength);\n          const rdx = decodeInteger(contextCache, \"IARDX\", decoder); // 6.4.11.3\n          const rdy = decodeInteger(contextCache, \"IARDY\", decoder); // 6.4.11.4\n          const symbol =\n            symbolId < symbols.length\n              ? symbols[symbolId]\n              : newSymbols[symbolId - symbols.length];\n          bitmap = decodeRefinement(\n            currentWidth,\n            currentHeight,\n            refinementTemplateIndex,\n            symbol,\n            rdx,\n            rdy,\n            false,\n            refinementAt,\n            decodingContext\n          );\n        }\n        newSymbols.push(bitmap);\n      } else if (huffman) {\n        // Store only symbol width and decode a collective bitmap when the\n        // height class is done.\n        symbolWidths.push(currentWidth);\n      } else {\n        // 6.5.8.1 Direct-coded symbol bitmap\n        bitmap = decodeBitmap(\n          false,\n          currentWidth,\n          currentHeight,\n          templateIndex,\n          false,\n          null,\n          at,\n          decodingContext\n        );\n        newSymbols.push(bitmap);\n      }\n    }\n    if (huffman && !refinement) {\n      // 6.5.9 Height class collective bitmap\n      const bitmapSize = huffmanTables.tableBitmapSize.decode(huffmanInput);\n      huffmanInput.byteAlign();\n      let collectiveBitmap;\n      if (bitmapSize === 0) {\n        // Uncompressed collective bitmap\n        collectiveBitmap = readUncompressedBitmap(\n          huffmanInput,\n          totalWidth,\n          currentHeight\n        );\n      } else {\n        // MMR collective bitmap\n        const originalEnd = huffmanInput.end;\n        const bitmapEnd = huffmanInput.position + bitmapSize;\n        huffmanInput.end = bitmapEnd;\n        collectiveBitmap = decodeMMRBitmap(\n          huffmanInput,\n          totalWidth,\n          currentHeight,\n          false\n        );\n        huffmanInput.end = originalEnd;\n        huffmanInput.position = bitmapEnd;\n      }\n      const numberOfSymbolsDecoded = symbolWidths.length;\n      if (firstSymbol === numberOfSymbolsDecoded - 1) {\n        // collectiveBitmap is a single symbol.\n        newSymbols.push(collectiveBitmap);\n      } else {\n        // Divide collectiveBitmap into symbols.\n        let i,\n          y,\n          xMin = 0,\n          xMax,\n          bitmapWidth,\n          symbolBitmap;\n        for (i = firstSymbol; i < numberOfSymbolsDecoded; i++) {\n          bitmapWidth = symbolWidths[i];\n          xMax = xMin + bitmapWidth;\n          symbolBitmap = [];\n          for (y = 0; y < currentHeight; y++) {\n            symbolBitmap.push(collectiveBitmap[y].subarray(xMin, xMax));\n          }\n          newSymbols.push(symbolBitmap);\n          xMin = xMax;\n        }\n      }\n    }\n  }\n\n  // 6.5.10 Exported symbols\n  const exportedSymbols = [],\n    flags = [];\n  let currentFlag = false,\n    i,\n    ii;\n  const totalSymbolsLength = symbols.length + numberOfNewSymbols;\n  while (flags.length < totalSymbolsLength) {\n    let runLength = huffman\n      ? tableB1.decode(huffmanInput)\n      : decodeInteger(contextCache, \"IAEX\", decoder);\n    while (runLength--) {\n      flags.push(currentFlag);\n    }\n    currentFlag = !currentFlag;\n  }\n  for (i = 0, ii = symbols.length; i < ii; i++) {\n    if (flags[i]) {\n      exportedSymbols.push(symbols[i]);\n    }\n  }\n  for (let j = 0; j < numberOfNewSymbols; i++, j++) {\n    if (flags[i]) {\n      exportedSymbols.push(newSymbols[j]);\n    }\n  }\n  return exportedSymbols;\n}\n\nfunction decodeTextRegion(\n  huffman,\n  refinement,\n  width,\n  height,\n  defaultPixelValue,\n  numberOfSymbolInstances,\n  stripSize,\n  inputSymbols,\n  symbolCodeLength,\n  transposed,\n  dsOffset,\n  referenceCorner,\n  combinationOperator,\n  huffmanTables,\n  refinementTemplateIndex,\n  refinementAt,\n  decodingContext,\n  logStripSize,\n  huffmanInput\n) {\n  if (huffman && refinement) {\n    throw new Jbig2Error(\"refinement with Huffman is not supported\");\n  }\n\n  // Prepare bitmap\n  const bitmap = [];\n  let i, row;\n  for (i = 0; i < height; i++) {\n    row = new Uint8Array(width);\n    if (defaultPixelValue) {\n      row.fill(defaultPixelValue);\n    }\n    bitmap.push(row);\n  }\n\n  const decoder = decodingContext.decoder;\n  const contextCache = decodingContext.contextCache;\n\n  let stripT = huffman\n    ? -huffmanTables.tableDeltaT.decode(huffmanInput)\n    : -decodeInteger(contextCache, \"IADT\", decoder); // 6.4.6\n  let firstS = 0;\n  i = 0;\n  while (i < numberOfSymbolInstances) {\n    const deltaT = huffman\n      ? huffmanTables.tableDeltaT.decode(huffmanInput)\n      : decodeInteger(contextCache, \"IADT\", decoder); // 6.4.6\n    stripT += deltaT;\n\n    const deltaFirstS = huffman\n      ? huffmanTables.tableFirstS.decode(huffmanInput)\n      : decodeInteger(contextCache, \"IAFS\", decoder); // 6.4.7\n    firstS += deltaFirstS;\n    let currentS = firstS;\n    do {\n      let currentT = 0; // 6.4.9\n      if (stripSize > 1) {\n        currentT = huffman\n          ? huffmanInput.readBits(logStripSize)\n          : decodeInteger(contextCache, \"IAIT\", decoder);\n      }\n      const t = stripSize * stripT + currentT;\n      const symbolId = huffman\n        ? huffmanTables.symbolIDTable.decode(huffmanInput)\n        : decodeIAID(contextCache, decoder, symbolCodeLength);\n      const applyRefinement =\n        refinement &&\n        (huffman\n          ? huffmanInput.readBit()\n          : decodeInteger(contextCache, \"IARI\", decoder));\n      let symbolBitmap = inputSymbols[symbolId];\n      let symbolWidth = symbolBitmap[0].length;\n      let symbolHeight = symbolBitmap.length;\n      if (applyRefinement) {\n        const rdw = decodeInteger(contextCache, \"IARDW\", decoder); // 6.4.11.1\n        const rdh = decodeInteger(contextCache, \"IARDH\", decoder); // 6.4.11.2\n        const rdx = decodeInteger(contextCache, \"IARDX\", decoder); // 6.4.11.3\n        const rdy = decodeInteger(contextCache, \"IARDY\", decoder); // 6.4.11.4\n        symbolWidth += rdw;\n        symbolHeight += rdh;\n        symbolBitmap = decodeRefinement(\n          symbolWidth,\n          symbolHeight,\n          refinementTemplateIndex,\n          symbolBitmap,\n          (rdw >> 1) + rdx,\n          (rdh >> 1) + rdy,\n          false,\n          refinementAt,\n          decodingContext\n        );\n      }\n\n      let increment = 0;\n      if (!transposed) {\n        if (referenceCorner > 1) {\n          currentS += symbolWidth - 1;\n        } else {\n          increment = symbolWidth - 1;\n        }\n      } else if (!(referenceCorner & 1)) {\n        currentS += symbolHeight - 1;\n      } else {\n        increment = symbolHeight - 1;\n      }\n\n      const offsetT = t - (referenceCorner & 1 ? 0 : symbolHeight - 1);\n      const offsetS = currentS - (referenceCorner & 2 ? symbolWidth - 1 : 0);\n      let s2, t2, symbolRow;\n      if (transposed) {\n        // Place Symbol Bitmap from T1,S1\n        for (s2 = 0; s2 < symbolHeight; s2++) {\n          row = bitmap[offsetS + s2];\n          if (!row) {\n            continue;\n          }\n          symbolRow = symbolBitmap[s2];\n          // To ignore Parts of Symbol bitmap which goes\n          // outside bitmap region\n          const maxWidth = Math.min(width - offsetT, symbolWidth);\n          switch (combinationOperator) {\n            case 0: // OR\n              for (t2 = 0; t2 < maxWidth; t2++) {\n                row[offsetT + t2] |= symbolRow[t2];\n              }\n              break;\n            case 2: // XOR\n              for (t2 = 0; t2 < maxWidth; t2++) {\n                row[offsetT + t2] ^= symbolRow[t2];\n              }\n              break;\n            default:\n              throw new Jbig2Error(\n                `operator ${combinationOperator} is not supported`\n              );\n          }\n        }\n      } else {\n        for (t2 = 0; t2 < symbolHeight; t2++) {\n          row = bitmap[offsetT + t2];\n          if (!row) {\n            continue;\n          }\n          symbolRow = symbolBitmap[t2];\n          switch (combinationOperator) {\n            case 0: // OR\n              for (s2 = 0; s2 < symbolWidth; s2++) {\n                row[offsetS + s2] |= symbolRow[s2];\n              }\n              break;\n            case 2: // XOR\n              for (s2 = 0; s2 < symbolWidth; s2++) {\n                row[offsetS + s2] ^= symbolRow[s2];\n              }\n              break;\n            default:\n              throw new Jbig2Error(\n                `operator ${combinationOperator} is not supported`\n              );\n          }\n        }\n      }\n      i++;\n      const deltaS = huffman\n        ? huffmanTables.tableDeltaS.decode(huffmanInput)\n        : decodeInteger(contextCache, \"IADS\", decoder); // 6.4.8\n      if (deltaS === null) {\n        break; // OOB\n      }\n      currentS += increment + deltaS + dsOffset;\n    } while (true);\n  }\n  return bitmap;\n}\n\nfunction decodePatternDictionary(\n  mmr,\n  patternWidth,\n  patternHeight,\n  maxPatternIndex,\n  template,\n  decodingContext\n) {\n  const at = [];\n  if (!mmr) {\n    at.push({\n      x: -patternWidth,\n      y: 0,\n    });\n    if (template === 0) {\n      at.push(\n        {\n          x: -3,\n          y: -1,\n        },\n        {\n          x: 2,\n          y: -2,\n        },\n        {\n          x: -2,\n          y: -2,\n        }\n      );\n    }\n  }\n  const collectiveWidth = (maxPatternIndex + 1) * patternWidth;\n  const collectiveBitmap = decodeBitmap(\n    mmr,\n    collectiveWidth,\n    patternHeight,\n    template,\n    false,\n    null,\n    at,\n    decodingContext\n  );\n  // Divide collective bitmap into patterns.\n  const patterns = [];\n  for (let i = 0; i <= maxPatternIndex; i++) {\n    const patternBitmap = [];\n    const xMin = patternWidth * i;\n    const xMax = xMin + patternWidth;\n    for (let y = 0; y < patternHeight; y++) {\n      patternBitmap.push(collectiveBitmap[y].subarray(xMin, xMax));\n    }\n    patterns.push(patternBitmap);\n  }\n  return patterns;\n}\n\nfunction decodeHalftoneRegion(\n  mmr,\n  patterns,\n  template,\n  regionWidth,\n  regionHeight,\n  defaultPixelValue,\n  enableSkip,\n  combinationOperator,\n  gridWidth,\n  gridHeight,\n  gridOffsetX,\n  gridOffsetY,\n  gridVectorX,\n  gridVectorY,\n  decodingContext\n) {\n  const skip = null;\n  if (enableSkip) {\n    throw new Jbig2Error(\"skip is not supported\");\n  }\n  if (combinationOperator !== 0) {\n    throw new Jbig2Error(\n      `operator \"${combinationOperator}\" is not supported in halftone region`\n    );\n  }\n\n  // Prepare bitmap.\n  const regionBitmap = [];\n  let i, j, row;\n  for (i = 0; i < regionHeight; i++) {\n    row = new Uint8Array(regionWidth);\n    if (defaultPixelValue) {\n      row.fill(defaultPixelValue);\n    }\n    regionBitmap.push(row);\n  }\n\n  const numberOfPatterns = patterns.length;\n  const pattern0 = patterns[0];\n  const patternWidth = pattern0[0].length,\n    patternHeight = pattern0.length;\n  const bitsPerValue = log2(numberOfPatterns);\n  const at = [];\n  if (!mmr) {\n    at.push({\n      x: template <= 1 ? 3 : 2,\n      y: -1,\n    });\n    if (template === 0) {\n      at.push(\n        {\n          x: -3,\n          y: -1,\n        },\n        {\n          x: 2,\n          y: -2,\n        },\n        {\n          x: -2,\n          y: -2,\n        }\n      );\n    }\n  }\n  // Annex C. Gray-scale Image Decoding Procedure.\n  const grayScaleBitPlanes = [];\n  let mmrInput, bitmap;\n  if (mmr) {\n    // MMR bit planes are in one continuous stream. Only EOFB codes indicate\n    // the end of each bitmap, so EOFBs must be decoded.\n    mmrInput = new Reader(\n      decodingContext.data,\n      decodingContext.start,\n      decodingContext.end\n    );\n  }\n  for (i = bitsPerValue - 1; i >= 0; i--) {\n    if (mmr) {\n      bitmap = decodeMMRBitmap(mmrInput, gridWidth, gridHeight, true);\n    } else {\n      bitmap = decodeBitmap(\n        false,\n        gridWidth,\n        gridHeight,\n        template,\n        false,\n        skip,\n        at,\n        decodingContext\n      );\n    }\n    grayScaleBitPlanes[i] = bitmap;\n  }\n  // 6.6.5.2 Rendering the patterns.\n  let mg, ng, bit, patternIndex, patternBitmap, x, y, patternRow, regionRow;\n  for (mg = 0; mg < gridHeight; mg++) {\n    for (ng = 0; ng < gridWidth; ng++) {\n      bit = 0;\n      patternIndex = 0;\n      for (j = bitsPerValue - 1; j >= 0; j--) {\n        bit ^= grayScaleBitPlanes[j][mg][ng]; // Gray decoding\n        patternIndex |= bit << j;\n      }\n      patternBitmap = patterns[patternIndex];\n      x = (gridOffsetX + mg * gridVectorY + ng * gridVectorX) >> 8;\n      y = (gridOffsetY + mg * gridVectorX - ng * gridVectorY) >> 8;\n      // Draw patternBitmap at (x, y).\n      if (\n        x >= 0 &&\n        x + patternWidth <= regionWidth &&\n        y >= 0 &&\n        y + patternHeight <= regionHeight\n      ) {\n        for (i = 0; i < patternHeight; i++) {\n          regionRow = regionBitmap[y + i];\n          patternRow = patternBitmap[i];\n          for (j = 0; j < patternWidth; j++) {\n            regionRow[x + j] |= patternRow[j];\n          }\n        }\n      } else {\n        let regionX, regionY;\n        for (i = 0; i < patternHeight; i++) {\n          regionY = y + i;\n          if (regionY < 0 || regionY >= regionHeight) {\n            continue;\n          }\n          regionRow = regionBitmap[regionY];\n          patternRow = patternBitmap[i];\n          for (j = 0; j < patternWidth; j++) {\n            regionX = x + j;\n            if (regionX >= 0 && regionX < regionWidth) {\n              regionRow[regionX] |= patternRow[j];\n            }\n          }\n        }\n      }\n    }\n  }\n  return regionBitmap;\n}\n\nfunction readSegmentHeader(data, start) {\n  const segmentHeader = {};\n  segmentHeader.number = readUint32(data, start);\n  const flags = data[start + 4];\n  const segmentType = flags & 0x3f;\n  if (!SegmentTypes[segmentType]) {\n    throw new Jbig2Error(\"invalid segment type: \" + segmentType);\n  }\n  segmentHeader.type = segmentType;\n  segmentHeader.typeName = SegmentTypes[segmentType];\n  segmentHeader.deferredNonRetain = !!(flags & 0x80);\n\n  const pageAssociationFieldSize = !!(flags & 0x40);\n  const referredFlags = data[start + 5];\n  let referredToCount = (referredFlags >> 5) & 7;\n  const retainBits = [referredFlags & 31];\n  let position = start + 6;\n  if (referredFlags === 7) {\n    referredToCount = readUint32(data, position - 1) & 0x1fffffff;\n    position += 3;\n    let bytes = (referredToCount + 7) >> 3;\n    retainBits[0] = data[position++];\n    while (--bytes > 0) {\n      retainBits.push(data[position++]);\n    }\n  } else if (referredFlags === 5 || referredFlags === 6) {\n    throw new Jbig2Error(\"invalid referred-to flags\");\n  }\n\n  segmentHeader.retainBits = retainBits;\n\n  let referredToSegmentNumberSize = 4;\n  if (segmentHeader.number <= 256) {\n    referredToSegmentNumberSize = 1;\n  } else if (segmentHeader.number <= 65536) {\n    referredToSegmentNumberSize = 2;\n  }\n  const referredTo = [];\n  let i, ii;\n  for (i = 0; i < referredToCount; i++) {\n    let number;\n    if (referredToSegmentNumberSize === 1) {\n      number = data[position];\n    } else if (referredToSegmentNumberSize === 2) {\n      number = readUint16(data, position);\n    } else {\n      number = readUint32(data, position);\n    }\n    referredTo.push(number);\n    position += referredToSegmentNumberSize;\n  }\n  segmentHeader.referredTo = referredTo;\n  if (!pageAssociationFieldSize) {\n    segmentHeader.pageAssociation = data[position++];\n  } else {\n    segmentHeader.pageAssociation = readUint32(data, position);\n    position += 4;\n  }\n  segmentHeader.length = readUint32(data, position);\n  position += 4;\n\n  if (segmentHeader.length === 0xffffffff) {\n    // 7.2.7 Segment data length, unknown segment length\n    if (segmentType === 38) {\n      // ImmediateGenericRegion\n      const genericRegionInfo = readRegionSegmentInformation(data, position);\n      const genericRegionSegmentFlags =\n        data[position + RegionSegmentInformationFieldLength];\n      const genericRegionMmr = !!(genericRegionSegmentFlags & 1);\n      // searching for the segment end\n      const searchPatternLength = 6;\n      const searchPattern = new Uint8Array(searchPatternLength);\n      if (!genericRegionMmr) {\n        searchPattern[0] = 0xff;\n        searchPattern[1] = 0xac;\n      }\n      searchPattern[2] = (genericRegionInfo.height >>> 24) & 0xff;\n      searchPattern[3] = (genericRegionInfo.height >> 16) & 0xff;\n      searchPattern[4] = (genericRegionInfo.height >> 8) & 0xff;\n      searchPattern[5] = genericRegionInfo.height & 0xff;\n      for (i = position, ii = data.length; i < ii; i++) {\n        let j = 0;\n        while (j < searchPatternLength && searchPattern[j] === data[i + j]) {\n          j++;\n        }\n        if (j === searchPatternLength) {\n          segmentHeader.length = i + searchPatternLength;\n          break;\n        }\n      }\n      if (segmentHeader.length === 0xffffffff) {\n        throw new Jbig2Error(\"segment end was not found\");\n      }\n    } else {\n      throw new Jbig2Error(\"invalid unknown segment length\");\n    }\n  }\n  segmentHeader.headerEnd = position;\n  return segmentHeader;\n}\n\nfunction readSegments(header, data, start, end) {\n  const segments = [];\n  let position = start;\n  while (position < end) {\n    const segmentHeader = readSegmentHeader(data, position);\n    position = segmentHeader.headerEnd;\n    const segment = {\n      header: segmentHeader,\n      data,\n    };\n    if (!header.randomAccess) {\n      segment.start = position;\n      position += segmentHeader.length;\n      segment.end = position;\n    }\n    segments.push(segment);\n    if (segmentHeader.type === 51) {\n      break; // end of file is found\n    }\n  }\n  if (header.randomAccess) {\n    for (let i = 0, ii = segments.length; i < ii; i++) {\n      segments[i].start = position;\n      position += segments[i].header.length;\n      segments[i].end = position;\n    }\n  }\n  return segments;\n}\n\n// 7.4.1 Region segment information field\nfunction readRegionSegmentInformation(data, start) {\n  return {\n    width: readUint32(data, start),\n    height: readUint32(data, start + 4),\n    x: readUint32(data, start + 8),\n    y: readUint32(data, start + 12),\n    combinationOperator: data[start + 16] & 7,\n  };\n}\nconst RegionSegmentInformationFieldLength = 17;\n\nfunction processSegment(segment, visitor) {\n  const header = segment.header;\n\n  const data = segment.data,\n    end = segment.end;\n  let position = segment.start;\n  let args, at, i, atLength;\n  switch (header.type) {\n    case 0: // SymbolDictionary\n      // 7.4.2 Symbol dictionary segment syntax\n      const dictionary = {};\n      const dictionaryFlags = readUint16(data, position); // 7.4.2.1.1\n      dictionary.huffman = !!(dictionaryFlags & 1);\n      dictionary.refinement = !!(dictionaryFlags & 2);\n      dictionary.huffmanDHSelector = (dictionaryFlags >> 2) & 3;\n      dictionary.huffmanDWSelector = (dictionaryFlags >> 4) & 3;\n      dictionary.bitmapSizeSelector = (dictionaryFlags >> 6) & 1;\n      dictionary.aggregationInstancesSelector = (dictionaryFlags >> 7) & 1;\n      dictionary.bitmapCodingContextUsed = !!(dictionaryFlags & 256);\n      dictionary.bitmapCodingContextRetained = !!(dictionaryFlags & 512);\n      dictionary.template = (dictionaryFlags >> 10) & 3;\n      dictionary.refinementTemplate = (dictionaryFlags >> 12) & 1;\n      position += 2;\n      if (!dictionary.huffman) {\n        atLength = dictionary.template === 0 ? 4 : 1;\n        at = [];\n        for (i = 0; i < atLength; i++) {\n          at.push({\n            x: readInt8(data, position),\n            y: readInt8(data, position + 1),\n          });\n          position += 2;\n        }\n        dictionary.at = at;\n      }\n      if (dictionary.refinement && !dictionary.refinementTemplate) {\n        at = [];\n        for (i = 0; i < 2; i++) {\n          at.push({\n            x: readInt8(data, position),\n            y: readInt8(data, position + 1),\n          });\n          position += 2;\n        }\n        dictionary.refinementAt = at;\n      }\n      dictionary.numberOfExportedSymbols = readUint32(data, position);\n      position += 4;\n      dictionary.numberOfNewSymbols = readUint32(data, position);\n      position += 4;\n      args = [\n        dictionary,\n        header.number,\n        header.referredTo,\n        data,\n        position,\n        end,\n      ];\n      break;\n    case 6: // ImmediateTextRegion\n    case 7: // ImmediateLosslessTextRegion\n      const textRegion = {};\n      textRegion.info = readRegionSegmentInformation(data, position);\n      position += RegionSegmentInformationFieldLength;\n      const textRegionSegmentFlags = readUint16(data, position);\n      position += 2;\n      textRegion.huffman = !!(textRegionSegmentFlags & 1);\n      textRegion.refinement = !!(textRegionSegmentFlags & 2);\n      textRegion.logStripSize = (textRegionSegmentFlags >> 2) & 3;\n      textRegion.stripSize = 1 << textRegion.logStripSize;\n      textRegion.referenceCorner = (textRegionSegmentFlags >> 4) & 3;\n      textRegion.transposed = !!(textRegionSegmentFlags & 64);\n      textRegion.combinationOperator = (textRegionSegmentFlags >> 7) & 3;\n      textRegion.defaultPixelValue = (textRegionSegmentFlags >> 9) & 1;\n      textRegion.dsOffset = (textRegionSegmentFlags << 17) >> 27;\n      textRegion.refinementTemplate = (textRegionSegmentFlags >> 15) & 1;\n      if (textRegion.huffman) {\n        const textRegionHuffmanFlags = readUint16(data, position);\n        position += 2;\n        textRegion.huffmanFS = textRegionHuffmanFlags & 3;\n        textRegion.huffmanDS = (textRegionHuffmanFlags >> 2) & 3;\n        textRegion.huffmanDT = (textRegionHuffmanFlags >> 4) & 3;\n        textRegion.huffmanRefinementDW = (textRegionHuffmanFlags >> 6) & 3;\n        textRegion.huffmanRefinementDH = (textRegionHuffmanFlags >> 8) & 3;\n        textRegion.huffmanRefinementDX = (textRegionHuffmanFlags >> 10) & 3;\n        textRegion.huffmanRefinementDY = (textRegionHuffmanFlags >> 12) & 3;\n        textRegion.huffmanRefinementSizeSelector = !!(\n          textRegionHuffmanFlags & 0x4000\n        );\n      }\n      if (textRegion.refinement && !textRegion.refinementTemplate) {\n        at = [];\n        for (i = 0; i < 2; i++) {\n          at.push({\n            x: readInt8(data, position),\n            y: readInt8(data, position + 1),\n          });\n          position += 2;\n        }\n        textRegion.refinementAt = at;\n      }\n      textRegion.numberOfSymbolInstances = readUint32(data, position);\n      position += 4;\n      args = [textRegion, header.referredTo, data, position, end];\n      break;\n    case 16: // PatternDictionary\n      // 7.4.4. Pattern dictionary segment syntax\n      const patternDictionary = {};\n      const patternDictionaryFlags = data[position++];\n      patternDictionary.mmr = !!(patternDictionaryFlags & 1);\n      patternDictionary.template = (patternDictionaryFlags >> 1) & 3;\n      patternDictionary.patternWidth = data[position++];\n      patternDictionary.patternHeight = data[position++];\n      patternDictionary.maxPatternIndex = readUint32(data, position);\n      position += 4;\n      args = [patternDictionary, header.number, data, position, end];\n      break;\n    case 22: // ImmediateHalftoneRegion\n    case 23: // ImmediateLosslessHalftoneRegion\n      // 7.4.5 Halftone region segment syntax\n      const halftoneRegion = {};\n      halftoneRegion.info = readRegionSegmentInformation(data, position);\n      position += RegionSegmentInformationFieldLength;\n      const halftoneRegionFlags = data[position++];\n      halftoneRegion.mmr = !!(halftoneRegionFlags & 1);\n      halftoneRegion.template = (halftoneRegionFlags >> 1) & 3;\n      halftoneRegion.enableSkip = !!(halftoneRegionFlags & 8);\n      halftoneRegion.combinationOperator = (halftoneRegionFlags >> 4) & 7;\n      halftoneRegion.defaultPixelValue = (halftoneRegionFlags >> 7) & 1;\n      halftoneRegion.gridWidth = readUint32(data, position);\n      position += 4;\n      halftoneRegion.gridHeight = readUint32(data, position);\n      position += 4;\n      halftoneRegion.gridOffsetX = readUint32(data, position) & 0xffffffff;\n      position += 4;\n      halftoneRegion.gridOffsetY = readUint32(data, position) & 0xffffffff;\n      position += 4;\n      halftoneRegion.gridVectorX = readUint16(data, position);\n      position += 2;\n      halftoneRegion.gridVectorY = readUint16(data, position);\n      position += 2;\n      args = [halftoneRegion, header.referredTo, data, position, end];\n      break;\n    case 38: // ImmediateGenericRegion\n    case 39: // ImmediateLosslessGenericRegion\n      const genericRegion = {};\n      genericRegion.info = readRegionSegmentInformation(data, position);\n      position += RegionSegmentInformationFieldLength;\n      const genericRegionSegmentFlags = data[position++];\n      genericRegion.mmr = !!(genericRegionSegmentFlags & 1);\n      genericRegion.template = (genericRegionSegmentFlags >> 1) & 3;\n      genericRegion.prediction = !!(genericRegionSegmentFlags & 8);\n      if (!genericRegion.mmr) {\n        atLength = genericRegion.template === 0 ? 4 : 1;\n        at = [];\n        for (i = 0; i < atLength; i++) {\n          at.push({\n            x: readInt8(data, position),\n            y: readInt8(data, position + 1),\n          });\n          position += 2;\n        }\n        genericRegion.at = at;\n      }\n      args = [genericRegion, data, position, end];\n      break;\n    case 48: // PageInformation\n      const pageInfo = {\n        width: readUint32(data, position),\n        height: readUint32(data, position + 4),\n        resolutionX: readUint32(data, position + 8),\n        resolutionY: readUint32(data, position + 12),\n      };\n      if (pageInfo.height === 0xffffffff) {\n        delete pageInfo.height;\n      }\n      const pageSegmentFlags = data[position + 16];\n      readUint16(data, position + 17); // pageStripingInformation\n      pageInfo.lossless = !!(pageSegmentFlags & 1);\n      pageInfo.refinement = !!(pageSegmentFlags & 2);\n      pageInfo.defaultPixelValue = (pageSegmentFlags >> 2) & 1;\n      pageInfo.combinationOperator = (pageSegmentFlags >> 3) & 3;\n      pageInfo.requiresBuffer = !!(pageSegmentFlags & 32);\n      pageInfo.combinationOperatorOverride = !!(pageSegmentFlags & 64);\n      args = [pageInfo];\n      break;\n    case 49: // EndOfPage\n      break;\n    case 50: // EndOfStripe\n      break;\n    case 51: // EndOfFile\n      break;\n    case 53: // Tables\n      args = [header.number, data, position, end];\n      break;\n    case 62: // 7.4.15 defines 2 extension types which\n      // are comments and can be ignored.\n      break;\n    default:\n      throw new Jbig2Error(\n        `segment type ${header.typeName}(${header.type}) is not implemented`\n      );\n  }\n  const callbackName = \"on\" + header.typeName;\n  if (callbackName in visitor) {\n    // eslint-disable-next-line prefer-spread\n    visitor[callbackName].apply(visitor, args);\n  }\n}\n\nfunction processSegments(segments, visitor) {\n  for (let i = 0, ii = segments.length; i < ii; i++) {\n    processSegment(segments[i], visitor);\n  }\n}\n\nfunction parseJbig2Chunks(chunks) {\n  const visitor = new SimpleSegmentVisitor();\n  for (let i = 0, ii = chunks.length; i < ii; i++) {\n    const chunk = chunks[i];\n    const segments = readSegments({}, chunk.data, chunk.start, chunk.end);\n    processSegments(segments, visitor);\n  }\n  return visitor.buffer;\n}\n\nfunction parseJbig2(data) {\n  if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"IMAGE_DECODERS\")) {\n    throw new Error(\"Not implemented: parseJbig2\");\n  }\n  const end = data.length;\n  let position = 0;\n\n  if (\n    data[position] !== 0x97 ||\n    data[position + 1] !== 0x4a ||\n    data[position + 2] !== 0x42 ||\n    data[position + 3] !== 0x32 ||\n    data[position + 4] !== 0x0d ||\n    data[position + 5] !== 0x0a ||\n    data[position + 6] !== 0x1a ||\n    data[position + 7] !== 0x0a\n  ) {\n    throw new Jbig2Error(\"parseJbig2 - invalid header.\");\n  }\n\n  const header = Object.create(null);\n  position += 8;\n  const flags = data[position++];\n  header.randomAccess = !(flags & 1);\n  if (!(flags & 2)) {\n    header.numberOfPages = readUint32(data, position);\n    position += 4;\n  }\n\n  const segments = readSegments(header, data, position, end);\n  const visitor = new SimpleSegmentVisitor();\n  processSegments(segments, visitor);\n\n  const { width, height } = visitor.currentPageInfo;\n  const bitPacked = visitor.buffer;\n  const imgData = new Uint8ClampedArray(width * height);\n  let q = 0,\n    k = 0;\n  for (let i = 0; i < height; i++) {\n    let mask = 0,\n      buffer;\n    for (let j = 0; j < width; j++) {\n      if (!mask) {\n        mask = 128;\n        buffer = bitPacked[k++];\n      }\n      imgData[q++] = buffer & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  return { imgData, width, height };\n}\n\nclass SimpleSegmentVisitor {\n  onPageInformation(info) {\n    this.currentPageInfo = info;\n    const rowSize = (info.width + 7) >> 3;\n    const buffer = new Uint8ClampedArray(rowSize * info.height);\n    // The contents of ArrayBuffers are initialized to 0.\n    // Fill the buffer with 0xFF only if info.defaultPixelValue is set\n    if (info.defaultPixelValue) {\n      buffer.fill(0xff);\n    }\n    this.buffer = buffer;\n  }\n\n  drawBitmap(regionInfo, bitmap) {\n    const pageInfo = this.currentPageInfo;\n    const width = regionInfo.width,\n      height = regionInfo.height;\n    const rowSize = (pageInfo.width + 7) >> 3;\n    const combinationOperator = pageInfo.combinationOperatorOverride\n      ? regionInfo.combinationOperator\n      : pageInfo.combinationOperator;\n    const buffer = this.buffer;\n    const mask0 = 128 >> (regionInfo.x & 7);\n    let offset0 = regionInfo.y * rowSize + (regionInfo.x >> 3);\n    let i, j, mask, offset;\n    switch (combinationOperator) {\n      case 0: // OR\n        for (i = 0; i < height; i++) {\n          mask = mask0;\n          offset = offset0;\n          for (j = 0; j < width; j++) {\n            if (bitmap[i][j]) {\n              buffer[offset] |= mask;\n            }\n            mask >>= 1;\n            if (!mask) {\n              mask = 128;\n              offset++;\n            }\n          }\n          offset0 += rowSize;\n        }\n        break;\n      case 2: // XOR\n        for (i = 0; i < height; i++) {\n          mask = mask0;\n          offset = offset0;\n          for (j = 0; j < width; j++) {\n            if (bitmap[i][j]) {\n              buffer[offset] ^= mask;\n            }\n            mask >>= 1;\n            if (!mask) {\n              mask = 128;\n              offset++;\n            }\n          }\n          offset0 += rowSize;\n        }\n        break;\n      default:\n        throw new Jbig2Error(\n          `operator ${combinationOperator} is not supported`\n        );\n    }\n  }\n\n  onImmediateGenericRegion(region, data, start, end) {\n    const regionInfo = region.info;\n    const decodingContext = new DecodingContext(data, start, end);\n    const bitmap = decodeBitmap(\n      region.mmr,\n      regionInfo.width,\n      regionInfo.height,\n      region.template,\n      region.prediction,\n      null,\n      region.at,\n      decodingContext\n    );\n    this.drawBitmap(regionInfo, bitmap);\n  }\n\n  onImmediateLosslessGenericRegion() {\n    this.onImmediateGenericRegion(...arguments);\n  }\n\n  onSymbolDictionary(\n    dictionary,\n    currentSegment,\n    referredSegments,\n    data,\n    start,\n    end\n  ) {\n    let huffmanTables, huffmanInput;\n    if (dictionary.huffman) {\n      huffmanTables = getSymbolDictionaryHuffmanTables(\n        dictionary,\n        referredSegments,\n        this.customTables\n      );\n      huffmanInput = new Reader(data, start, end);\n    }\n\n    // Combines exported symbols from all referred segments\n    let symbols = this.symbols;\n    if (!symbols) {\n      this.symbols = symbols = {};\n    }\n\n    const inputSymbols = [];\n    for (const referredSegment of referredSegments) {\n      const referredSymbols = symbols[referredSegment];\n      // referredSymbols is undefined when we have a reference to a Tables\n      // segment instead of a SymbolDictionary.\n      if (referredSymbols) {\n        inputSymbols.push(...referredSymbols);\n      }\n    }\n\n    const decodingContext = new DecodingContext(data, start, end);\n    symbols[currentSegment] = decodeSymbolDictionary(\n      dictionary.huffman,\n      dictionary.refinement,\n      inputSymbols,\n      dictionary.numberOfNewSymbols,\n      dictionary.numberOfExportedSymbols,\n      huffmanTables,\n      dictionary.template,\n      dictionary.at,\n      dictionary.refinementTemplate,\n      dictionary.refinementAt,\n      decodingContext,\n      huffmanInput\n    );\n  }\n\n  onImmediateTextRegion(region, referredSegments, data, start, end) {\n    const regionInfo = region.info;\n    let huffmanTables, huffmanInput;\n\n    // Combines exported symbols from all referred segments\n    const symbols = this.symbols;\n    const inputSymbols = [];\n    for (const referredSegment of referredSegments) {\n      const referredSymbols = symbols[referredSegment];\n      // referredSymbols is undefined when we have a reference to a Tables\n      // segment instead of a SymbolDictionary.\n      if (referredSymbols) {\n        inputSymbols.push(...referredSymbols);\n      }\n    }\n    const symbolCodeLength = log2(inputSymbols.length);\n    if (region.huffman) {\n      huffmanInput = new Reader(data, start, end);\n      huffmanTables = getTextRegionHuffmanTables(\n        region,\n        referredSegments,\n        this.customTables,\n        inputSymbols.length,\n        huffmanInput\n      );\n    }\n\n    const decodingContext = new DecodingContext(data, start, end);\n    const bitmap = decodeTextRegion(\n      region.huffman,\n      region.refinement,\n      regionInfo.width,\n      regionInfo.height,\n      region.defaultPixelValue,\n      region.numberOfSymbolInstances,\n      region.stripSize,\n      inputSymbols,\n      symbolCodeLength,\n      region.transposed,\n      region.dsOffset,\n      region.referenceCorner,\n      region.combinationOperator,\n      huffmanTables,\n      region.refinementTemplate,\n      region.refinementAt,\n      decodingContext,\n      region.logStripSize,\n      huffmanInput\n    );\n    this.drawBitmap(regionInfo, bitmap);\n  }\n\n  onImmediateLosslessTextRegion() {\n    this.onImmediateTextRegion(...arguments);\n  }\n\n  onPatternDictionary(dictionary, currentSegment, data, start, end) {\n    let patterns = this.patterns;\n    if (!patterns) {\n      this.patterns = patterns = {};\n    }\n    const decodingContext = new DecodingContext(data, start, end);\n    patterns[currentSegment] = decodePatternDictionary(\n      dictionary.mmr,\n      dictionary.patternWidth,\n      dictionary.patternHeight,\n      dictionary.maxPatternIndex,\n      dictionary.template,\n      decodingContext\n    );\n  }\n\n  onImmediateHalftoneRegion(region, referredSegments, data, start, end) {\n    // HalftoneRegion refers to exactly one PatternDictionary.\n    const patterns = this.patterns[referredSegments[0]];\n    const regionInfo = region.info;\n    const decodingContext = new DecodingContext(data, start, end);\n    const bitmap = decodeHalftoneRegion(\n      region.mmr,\n      patterns,\n      region.template,\n      regionInfo.width,\n      regionInfo.height,\n      region.defaultPixelValue,\n      region.enableSkip,\n      region.combinationOperator,\n      region.gridWidth,\n      region.gridHeight,\n      region.gridOffsetX,\n      region.gridOffsetY,\n      region.gridVectorX,\n      region.gridVectorY,\n      decodingContext\n    );\n    this.drawBitmap(regionInfo, bitmap);\n  }\n\n  onImmediateLosslessHalftoneRegion() {\n    this.onImmediateHalftoneRegion(...arguments);\n  }\n\n  onTables(currentSegment, data, start, end) {\n    let customTables = this.customTables;\n    if (!customTables) {\n      this.customTables = customTables = {};\n    }\n    customTables[currentSegment] = decodeTablesSegment(data, start, end);\n  }\n}\n\nclass HuffmanLine {\n  constructor(lineData) {\n    if (lineData.length === 2) {\n      // OOB line.\n      this.isOOB = true;\n      this.rangeLow = 0;\n      this.prefixLength = lineData[0];\n      this.rangeLength = 0;\n      this.prefixCode = lineData[1];\n      this.isLowerRange = false;\n    } else {\n      // Normal, upper range or lower range line.\n      // Upper range lines are processed like normal lines.\n      this.isOOB = false;\n      this.rangeLow = lineData[0];\n      this.prefixLength = lineData[1];\n      this.rangeLength = lineData[2];\n      this.prefixCode = lineData[3];\n      this.isLowerRange = lineData[4] === \"lower\";\n    }\n  }\n}\n\nclass HuffmanTreeNode {\n  constructor(line) {\n    this.children = [];\n    if (line) {\n      // Leaf node\n      this.isLeaf = true;\n      this.rangeLength = line.rangeLength;\n      this.rangeLow = line.rangeLow;\n      this.isLowerRange = line.isLowerRange;\n      this.isOOB = line.isOOB;\n    } else {\n      // Intermediate or root node\n      this.isLeaf = false;\n    }\n  }\n\n  buildTree(line, shift) {\n    const bit = (line.prefixCode >> shift) & 1;\n    if (shift <= 0) {\n      // Create a leaf node.\n      this.children[bit] = new HuffmanTreeNode(line);\n    } else {\n      // Create an intermediate node and continue recursively.\n      let node = this.children[bit];\n      if (!node) {\n        this.children[bit] = node = new HuffmanTreeNode(null);\n      }\n      node.buildTree(line, shift - 1);\n    }\n  }\n\n  decodeNode(reader) {\n    if (this.isLeaf) {\n      if (this.isOOB) {\n        return null;\n      }\n      const htOffset = reader.readBits(this.rangeLength);\n      return this.rangeLow + (this.isLowerRange ? -htOffset : htOffset);\n    }\n    const node = this.children[reader.readBit()];\n    if (!node) {\n      throw new Jbig2Error(\"invalid Huffman data\");\n    }\n    return node.decodeNode(reader);\n  }\n}\n\nclass HuffmanTable {\n  constructor(lines, prefixCodesDone) {\n    if (!prefixCodesDone) {\n      this.assignPrefixCodes(lines);\n    }\n    // Create Huffman tree.\n    this.rootNode = new HuffmanTreeNode(null);\n    for (let i = 0, ii = lines.length; i < ii; i++) {\n      const line = lines[i];\n      if (line.prefixLength > 0) {\n        this.rootNode.buildTree(line, line.prefixLength - 1);\n      }\n    }\n  }\n\n  decode(reader) {\n    return this.rootNode.decodeNode(reader);\n  }\n\n  assignPrefixCodes(lines) {\n    // Annex B.3 Assigning the prefix codes.\n    const linesLength = lines.length;\n    let prefixLengthMax = 0;\n    for (let i = 0; i < linesLength; i++) {\n      prefixLengthMax = Math.max(prefixLengthMax, lines[i].prefixLength);\n    }\n\n    const histogram = new Uint32Array(prefixLengthMax + 1);\n    for (let i = 0; i < linesLength; i++) {\n      histogram[lines[i].prefixLength]++;\n    }\n    let currentLength = 1,\n      firstCode = 0,\n      currentCode,\n      currentTemp,\n      line;\n    histogram[0] = 0;\n\n    while (currentLength <= prefixLengthMax) {\n      firstCode = (firstCode + histogram[currentLength - 1]) << 1;\n      currentCode = firstCode;\n      currentTemp = 0;\n      while (currentTemp < linesLength) {\n        line = lines[currentTemp];\n        if (line.prefixLength === currentLength) {\n          line.prefixCode = currentCode;\n          currentCode++;\n        }\n        currentTemp++;\n      }\n      currentLength++;\n    }\n  }\n}\n\nfunction decodeTablesSegment(data, start, end) {\n  // Decodes a Tables segment, i.e., a custom Huffman table.\n  // Annex B.2 Code table structure.\n  const flags = data[start];\n  const lowestValue = readUint32(data, start + 1) & 0xffffffff;\n  const highestValue = readUint32(data, start + 5) & 0xffffffff;\n  const reader = new Reader(data, start + 9, end);\n\n  const prefixSizeBits = ((flags >> 1) & 7) + 1;\n  const rangeSizeBits = ((flags >> 4) & 7) + 1;\n  const lines = [];\n  let prefixLength,\n    rangeLength,\n    currentRangeLow = lowestValue;\n\n  // Normal table lines\n  do {\n    prefixLength = reader.readBits(prefixSizeBits);\n    rangeLength = reader.readBits(rangeSizeBits);\n    lines.push(\n      new HuffmanLine([currentRangeLow, prefixLength, rangeLength, 0])\n    );\n    currentRangeLow += 1 << rangeLength;\n  } while (currentRangeLow < highestValue);\n\n  // Lower range table line\n  prefixLength = reader.readBits(prefixSizeBits);\n  lines.push(new HuffmanLine([lowestValue - 1, prefixLength, 32, 0, \"lower\"]));\n\n  // Upper range table line\n  prefixLength = reader.readBits(prefixSizeBits);\n  lines.push(new HuffmanLine([highestValue, prefixLength, 32, 0]));\n\n  if (flags & 1) {\n    // Out-of-band table line\n    prefixLength = reader.readBits(prefixSizeBits);\n    lines.push(new HuffmanLine([prefixLength, 0]));\n  }\n\n  return new HuffmanTable(lines, false);\n}\n\nconst standardTablesCache = {};\n\nfunction getStandardTable(number) {\n  // Annex B.5 Standard Huffman tables.\n  let table = standardTablesCache[number];\n  if (table) {\n    return table;\n  }\n  let lines;\n  switch (number) {\n    case 1:\n      lines = [\n        [0, 1, 4, 0x0],\n        [16, 2, 8, 0x2],\n        [272, 3, 16, 0x6],\n        [65808, 3, 32, 0x7], // upper\n      ];\n      break;\n    case 2:\n      lines = [\n        [0, 1, 0, 0x0],\n        [1, 2, 0, 0x2],\n        [2, 3, 0, 0x6],\n        [3, 4, 3, 0xe],\n        [11, 5, 6, 0x1e],\n        [75, 6, 32, 0x3e], // upper\n        [6, 0x3f], // OOB\n      ];\n      break;\n    case 3:\n      lines = [\n        [-256, 8, 8, 0xfe],\n        [0, 1, 0, 0x0],\n        [1, 2, 0, 0x2],\n        [2, 3, 0, 0x6],\n        [3, 4, 3, 0xe],\n        [11, 5, 6, 0x1e],\n        [-257, 8, 32, 0xff, \"lower\"],\n        [75, 7, 32, 0x7e], // upper\n        [6, 0x3e], // OOB\n      ];\n      break;\n    case 4:\n      lines = [\n        [1, 1, 0, 0x0],\n        [2, 2, 0, 0x2],\n        [3, 3, 0, 0x6],\n        [4, 4, 3, 0xe],\n        [12, 5, 6, 0x1e],\n        [76, 5, 32, 0x1f], // upper\n      ];\n      break;\n    case 5:\n      lines = [\n        [-255, 7, 8, 0x7e],\n        [1, 1, 0, 0x0],\n        [2, 2, 0, 0x2],\n        [3, 3, 0, 0x6],\n        [4, 4, 3, 0xe],\n        [12, 5, 6, 0x1e],\n        [-256, 7, 32, 0x7f, \"lower\"],\n        [76, 6, 32, 0x3e], // upper\n      ];\n      break;\n    case 6:\n      lines = [\n        [-2048, 5, 10, 0x1c],\n        [-1024, 4, 9, 0x8],\n        [-512, 4, 8, 0x9],\n        [-256, 4, 7, 0xa],\n        [-128, 5, 6, 0x1d],\n        [-64, 5, 5, 0x1e],\n        [-32, 4, 5, 0xb],\n        [0, 2, 7, 0x0],\n        [128, 3, 7, 0x2],\n        [256, 3, 8, 0x3],\n        [512, 4, 9, 0xc],\n        [1024, 4, 10, 0xd],\n        [-2049, 6, 32, 0x3e, \"lower\"],\n        [2048, 6, 32, 0x3f], // upper\n      ];\n      break;\n    case 7:\n      lines = [\n        [-1024, 4, 9, 0x8],\n        [-512, 3, 8, 0x0],\n        [-256, 4, 7, 0x9],\n        [-128, 5, 6, 0x1a],\n        [-64, 5, 5, 0x1b],\n        [-32, 4, 5, 0xa],\n        [0, 4, 5, 0xb],\n        [32, 5, 5, 0x1c],\n        [64, 5, 6, 0x1d],\n        [128, 4, 7, 0xc],\n        [256, 3, 8, 0x1],\n        [512, 3, 9, 0x2],\n        [1024, 3, 10, 0x3],\n        [-1025, 5, 32, 0x1e, \"lower\"],\n        [2048, 5, 32, 0x1f], // upper\n      ];\n      break;\n    case 8:\n      lines = [\n        [-15, 8, 3, 0xfc],\n        [-7, 9, 1, 0x1fc],\n        [-5, 8, 1, 0xfd],\n        [-3, 9, 0, 0x1fd],\n        [-2, 7, 0, 0x7c],\n        [-1, 4, 0, 0xa],\n        [0, 2, 1, 0x0],\n        [2, 5, 0, 0x1a],\n        [3, 6, 0, 0x3a],\n        [4, 3, 4, 0x4],\n        [20, 6, 1, 0x3b],\n        [22, 4, 4, 0xb],\n        [38, 4, 5, 0xc],\n        [70, 5, 6, 0x1b],\n        [134, 5, 7, 0x1c],\n        [262, 6, 7, 0x3c],\n        [390, 7, 8, 0x7d],\n        [646, 6, 10, 0x3d],\n        [-16, 9, 32, 0x1fe, \"lower\"],\n        [1670, 9, 32, 0x1ff], // upper\n        [2, 0x1], // OOB\n      ];\n      break;\n    case 9:\n      lines = [\n        [-31, 8, 4, 0xfc],\n        [-15, 9, 2, 0x1fc],\n        [-11, 8, 2, 0xfd],\n        [-7, 9, 1, 0x1fd],\n        [-5, 7, 1, 0x7c],\n        [-3, 4, 1, 0xa],\n        [-1, 3, 1, 0x2],\n        [1, 3, 1, 0x3],\n        [3, 5, 1, 0x1a],\n        [5, 6, 1, 0x3a],\n        [7, 3, 5, 0x4],\n        [39, 6, 2, 0x3b],\n        [43, 4, 5, 0xb],\n        [75, 4, 6, 0xc],\n        [139, 5, 7, 0x1b],\n        [267, 5, 8, 0x1c],\n        [523, 6, 8, 0x3c],\n        [779, 7, 9, 0x7d],\n        [1291, 6, 11, 0x3d],\n        [-32, 9, 32, 0x1fe, \"lower\"],\n        [3339, 9, 32, 0x1ff], // upper\n        [2, 0x0], // OOB\n      ];\n      break;\n    case 10:\n      lines = [\n        [-21, 7, 4, 0x7a],\n        [-5, 8, 0, 0xfc],\n        [-4, 7, 0, 0x7b],\n        [-3, 5, 0, 0x18],\n        [-2, 2, 2, 0x0],\n        [2, 5, 0, 0x19],\n        [3, 6, 0, 0x36],\n        [4, 7, 0, 0x7c],\n        [5, 8, 0, 0xfd],\n        [6, 2, 6, 0x1],\n        [70, 5, 5, 0x1a],\n        [102, 6, 5, 0x37],\n        [134, 6, 6, 0x38],\n        [198, 6, 7, 0x39],\n        [326, 6, 8, 0x3a],\n        [582, 6, 9, 0x3b],\n        [1094, 6, 10, 0x3c],\n        [2118, 7, 11, 0x7d],\n        [-22, 8, 32, 0xfe, \"lower\"],\n        [4166, 8, 32, 0xff], // upper\n        [2, 0x2], // OOB\n      ];\n      break;\n    case 11:\n      lines = [\n        [1, 1, 0, 0x0],\n        [2, 2, 1, 0x2],\n        [4, 4, 0, 0xc],\n        [5, 4, 1, 0xd],\n        [7, 5, 1, 0x1c],\n        [9, 5, 2, 0x1d],\n        [13, 6, 2, 0x3c],\n        [17, 7, 2, 0x7a],\n        [21, 7, 3, 0x7b],\n        [29, 7, 4, 0x7c],\n        [45, 7, 5, 0x7d],\n        [77, 7, 6, 0x7e],\n        [141, 7, 32, 0x7f], // upper\n      ];\n      break;\n    case 12:\n      lines = [\n        [1, 1, 0, 0x0],\n        [2, 2, 0, 0x2],\n        [3, 3, 1, 0x6],\n        [5, 5, 0, 0x1c],\n        [6, 5, 1, 0x1d],\n        [8, 6, 1, 0x3c],\n        [10, 7, 0, 0x7a],\n        [11, 7, 1, 0x7b],\n        [13, 7, 2, 0x7c],\n        [17, 7, 3, 0x7d],\n        [25, 7, 4, 0x7e],\n        [41, 8, 5, 0xfe],\n        [73, 8, 32, 0xff], // upper\n      ];\n      break;\n    case 13:\n      lines = [\n        [1, 1, 0, 0x0],\n        [2, 3, 0, 0x4],\n        [3, 4, 0, 0xc],\n        [4, 5, 0, 0x1c],\n        [5, 4, 1, 0xd],\n        [7, 3, 3, 0x5],\n        [15, 6, 1, 0x3a],\n        [17, 6, 2, 0x3b],\n        [21, 6, 3, 0x3c],\n        [29, 6, 4, 0x3d],\n        [45, 6, 5, 0x3e],\n        [77, 7, 6, 0x7e],\n        [141, 7, 32, 0x7f], // upper\n      ];\n      break;\n    case 14:\n      lines = [\n        [-2, 3, 0, 0x4],\n        [-1, 3, 0, 0x5],\n        [0, 1, 0, 0x0],\n        [1, 3, 0, 0x6],\n        [2, 3, 0, 0x7],\n      ];\n      break;\n    case 15:\n      lines = [\n        [-24, 7, 4, 0x7c],\n        [-8, 6, 2, 0x3c],\n        [-4, 5, 1, 0x1c],\n        [-2, 4, 0, 0xc],\n        [-1, 3, 0, 0x4],\n        [0, 1, 0, 0x0],\n        [1, 3, 0, 0x5],\n        [2, 4, 0, 0xd],\n        [3, 5, 1, 0x1d],\n        [5, 6, 2, 0x3d],\n        [9, 7, 4, 0x7d],\n        [-25, 7, 32, 0x7e, \"lower\"],\n        [25, 7, 32, 0x7f], // upper\n      ];\n      break;\n    default:\n      throw new Jbig2Error(`standard table B.${number} does not exist`);\n  }\n\n  for (let i = 0, ii = lines.length; i < ii; i++) {\n    lines[i] = new HuffmanLine(lines[i]);\n  }\n  table = new HuffmanTable(lines, true);\n  standardTablesCache[number] = table;\n  return table;\n}\n\nclass Reader {\n  constructor(data, start, end) {\n    this.data = data;\n    this.start = start;\n    this.end = end;\n    this.position = start;\n    this.shift = -1;\n    this.currentByte = 0;\n  }\n\n  readBit() {\n    if (this.shift < 0) {\n      if (this.position >= this.end) {\n        throw new Jbig2Error(\"end of data while reading bit\");\n      }\n      this.currentByte = this.data[this.position++];\n      this.shift = 7;\n    }\n    const bit = (this.currentByte >> this.shift) & 1;\n    this.shift--;\n    return bit;\n  }\n\n  readBits(numBits) {\n    let result = 0,\n      i;\n    for (i = numBits - 1; i >= 0; i--) {\n      result |= this.readBit() << i;\n    }\n    return result;\n  }\n\n  byteAlign() {\n    this.shift = -1;\n  }\n\n  next() {\n    if (this.position >= this.end) {\n      return -1;\n    }\n    return this.data[this.position++];\n  }\n}\n\nfunction getCustomHuffmanTable(index, referredTo, customTables) {\n  // Returns a Tables segment that has been earlier decoded.\n  // See 7.4.2.1.6 (symbol dictionary) or 7.4.3.1.6 (text region).\n  let currentIndex = 0;\n  for (let i = 0, ii = referredTo.length; i < ii; i++) {\n    const table = customTables[referredTo[i]];\n    if (table) {\n      if (index === currentIndex) {\n        return table;\n      }\n      currentIndex++;\n    }\n  }\n  throw new Jbig2Error(\"can't find custom Huffman table\");\n}\n\nfunction getTextRegionHuffmanTables(\n  textRegion,\n  referredTo,\n  customTables,\n  numberOfSymbols,\n  reader\n) {\n  // 7.4.3.1.7 Symbol ID Huffman table decoding\n\n  // Read code lengths for RUNCODEs 0...34.\n  const codes = [];\n  for (let i = 0; i <= 34; i++) {\n    const codeLength = reader.readBits(4);\n    codes.push(new HuffmanLine([i, codeLength, 0, 0]));\n  }\n  // Assign Huffman codes for RUNCODEs.\n  const runCodesTable = new HuffmanTable(codes, false);\n\n  // Read a Huffman code using the assignment above.\n  // Interpret the RUNCODE codes and the additional bits (if any).\n  codes.length = 0;\n  for (let i = 0; i < numberOfSymbols; ) {\n    const codeLength = runCodesTable.decode(reader);\n    if (codeLength >= 32) {\n      let repeatedLength, numberOfRepeats, j;\n      switch (codeLength) {\n        case 32:\n          if (i === 0) {\n            throw new Jbig2Error(\"no previous value in symbol ID table\");\n          }\n          numberOfRepeats = reader.readBits(2) + 3;\n          repeatedLength = codes[i - 1].prefixLength;\n          break;\n        case 33:\n          numberOfRepeats = reader.readBits(3) + 3;\n          repeatedLength = 0;\n          break;\n        case 34:\n          numberOfRepeats = reader.readBits(7) + 11;\n          repeatedLength = 0;\n          break;\n        default:\n          throw new Jbig2Error(\"invalid code length in symbol ID table\");\n      }\n      for (j = 0; j < numberOfRepeats; j++) {\n        codes.push(new HuffmanLine([i, repeatedLength, 0, 0]));\n        i++;\n      }\n    } else {\n      codes.push(new HuffmanLine([i, codeLength, 0, 0]));\n      i++;\n    }\n  }\n  reader.byteAlign();\n  const symbolIDTable = new HuffmanTable(codes, false);\n\n  // 7.4.3.1.6 Text region segment Huffman table selection\n\n  let customIndex = 0,\n    tableFirstS,\n    tableDeltaS,\n    tableDeltaT;\n\n  switch (textRegion.huffmanFS) {\n    case 0:\n    case 1:\n      tableFirstS = getStandardTable(textRegion.huffmanFS + 6);\n      break;\n    case 3:\n      tableFirstS = getCustomHuffmanTable(\n        customIndex,\n        referredTo,\n        customTables\n      );\n      customIndex++;\n      break;\n    default:\n      throw new Jbig2Error(\"invalid Huffman FS selector\");\n  }\n\n  switch (textRegion.huffmanDS) {\n    case 0:\n    case 1:\n    case 2:\n      tableDeltaS = getStandardTable(textRegion.huffmanDS + 8);\n      break;\n    case 3:\n      tableDeltaS = getCustomHuffmanTable(\n        customIndex,\n        referredTo,\n        customTables\n      );\n      customIndex++;\n      break;\n    default:\n      throw new Jbig2Error(\"invalid Huffman DS selector\");\n  }\n\n  switch (textRegion.huffmanDT) {\n    case 0:\n    case 1:\n    case 2:\n      tableDeltaT = getStandardTable(textRegion.huffmanDT + 11);\n      break;\n    case 3:\n      tableDeltaT = getCustomHuffmanTable(\n        customIndex,\n        referredTo,\n        customTables\n      );\n      customIndex++;\n      break;\n    default:\n      throw new Jbig2Error(\"invalid Huffman DT selector\");\n  }\n\n  if (textRegion.refinement) {\n    // Load tables RDW, RDH, RDX and RDY.\n    throw new Jbig2Error(\"refinement with Huffman is not supported\");\n  }\n\n  return {\n    symbolIDTable,\n    tableFirstS,\n    tableDeltaS,\n    tableDeltaT,\n  };\n}\n\nfunction getSymbolDictionaryHuffmanTables(\n  dictionary,\n  referredTo,\n  customTables\n) {\n  // 7.4.2.1.6 Symbol dictionary segment Huffman table selection\n\n  let customIndex = 0,\n    tableDeltaHeight,\n    tableDeltaWidth;\n  switch (dictionary.huffmanDHSelector) {\n    case 0:\n    case 1:\n      tableDeltaHeight = getStandardTable(dictionary.huffmanDHSelector + 4);\n      break;\n    case 3:\n      tableDeltaHeight = getCustomHuffmanTable(\n        customIndex,\n        referredTo,\n        customTables\n      );\n      customIndex++;\n      break;\n    default:\n      throw new Jbig2Error(\"invalid Huffman DH selector\");\n  }\n\n  switch (dictionary.huffmanDWSelector) {\n    case 0:\n    case 1:\n      tableDeltaWidth = getStandardTable(dictionary.huffmanDWSelector + 2);\n      break;\n    case 3:\n      tableDeltaWidth = getCustomHuffmanTable(\n        customIndex,\n        referredTo,\n        customTables\n      );\n      customIndex++;\n      break;\n    default:\n      throw new Jbig2Error(\"invalid Huffman DW selector\");\n  }\n\n  let tableBitmapSize, tableAggregateInstances;\n  if (dictionary.bitmapSizeSelector) {\n    tableBitmapSize = getCustomHuffmanTable(\n      customIndex,\n      referredTo,\n      customTables\n    );\n    customIndex++;\n  } else {\n    tableBitmapSize = getStandardTable(1);\n  }\n\n  if (dictionary.aggregationInstancesSelector) {\n    tableAggregateInstances = getCustomHuffmanTable(\n      customIndex,\n      referredTo,\n      customTables\n    );\n  } else {\n    tableAggregateInstances = getStandardTable(1);\n  }\n\n  return {\n    tableDeltaHeight,\n    tableDeltaWidth,\n    tableBitmapSize,\n    tableAggregateInstances,\n  };\n}\n\nfunction readUncompressedBitmap(reader, width, height) {\n  const bitmap = [];\n  for (let y = 0; y < height; y++) {\n    const row = new Uint8Array(width);\n    bitmap.push(row);\n    for (let x = 0; x < width; x++) {\n      row[x] = reader.readBit();\n    }\n    reader.byteAlign();\n  }\n  return bitmap;\n}\n\nfunction decodeMMRBitmap(input, width, height, endOfBlock) {\n  // MMR is the same compression algorithm as the PDF filter\n  // CCITTFaxDecode with /K -1.\n  const params = {\n    K: -1,\n    Columns: width,\n    Rows: height,\n    BlackIs1: true,\n    EndOfBlock: endOfBlock,\n  };\n  const decoder = new CCITTFaxDecoder(input, params);\n  const bitmap = [];\n  let currentByte,\n    eof = false;\n\n  for (let y = 0; y < height; y++) {\n    const row = new Uint8Array(width);\n    bitmap.push(row);\n    let shift = -1;\n    for (let x = 0; x < width; x++) {\n      if (shift < 0) {\n        currentByte = decoder.readNextChar();\n        if (currentByte === -1) {\n          // Set the rest of the bits to zero.\n          currentByte = 0;\n          eof = true;\n        }\n        shift = 7;\n      }\n      row[x] = (currentByte >> shift) & 1;\n      shift--;\n    }\n  }\n\n  if (endOfBlock && !eof) {\n    // Read until EOFB has been consumed.\n    const lookForEOFLimit = 5;\n    for (let i = 0; i < lookForEOFLimit; i++) {\n      if (decoder.readNextChar() === -1) {\n        break;\n      }\n    }\n  }\n\n  return bitmap;\n}\n\nclass Jbig2Image {\n  parseChunks(chunks) {\n    return parseJbig2Chunks(chunks);\n  }\n\n  parse(data) {\n    if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      throw new Error(\"Not implemented: Jbig2Image.parse\");\n    }\n    const { imgData, width, height } = parseJbig2(data);\n    this.width = width;\n    this.height = height;\n    return imgData;\n  }\n}\n\nexport { Jbig2Error, Jbig2Image };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  FeatureTest,\n  FormatError,\n  info,\n  MathClamp,\n  shadow,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { BaseStream } from \"./base_stream.js\";\n\n/**\n * Resizes an RGB image with 3 components.\n * @param {TypedArray} src - The source buffer.\n * @param {TypedArray} dest - The destination buffer.\n * @param {number} w1 - Original width.\n * @param {number} h1 - Original height.\n * @param {number} w2 - New width.\n * @param {number} h2 - New height.\n * @param {number} alpha01 - Size reserved for the alpha channel.\n */\nfunction resizeRgbImage(src, dest, w1, h1, w2, h2, alpha01) {\n  const COMPONENTS = 3;\n  alpha01 = alpha01 !== 1 ? 0 : alpha01;\n  const xRatio = w1 / w2;\n  const yRatio = h1 / h2;\n  let newIndex = 0,\n    oldIndex;\n  const xScaled = new Uint16Array(w2);\n  const w1Scanline = w1 * COMPONENTS;\n\n  for (let i = 0; i < w2; i++) {\n    xScaled[i] = Math.floor(i * xRatio) * COMPONENTS;\n  }\n  for (let i = 0; i < h2; i++) {\n    const py = Math.floor(i * yRatio) * w1Scanline;\n    for (let j = 0; j < w2; j++) {\n      oldIndex = py + xScaled[j];\n      dest[newIndex++] = src[oldIndex++];\n      dest[newIndex++] = src[oldIndex++];\n      dest[newIndex++] = src[oldIndex++];\n      newIndex += alpha01;\n    }\n  }\n}\n\nfunction resizeRgbaImage(src, dest, w1, h1, w2, h2, alpha01) {\n  const xRatio = w1 / w2;\n  const yRatio = h1 / h2;\n  let newIndex = 0;\n  const xScaled = new Uint16Array(w2);\n\n  if (alpha01 === 1) {\n    for (let i = 0; i < w2; i++) {\n      xScaled[i] = Math.floor(i * xRatio);\n    }\n    const src32 = new Uint32Array(src.buffer);\n    const dest32 = new Uint32Array(dest.buffer);\n    const rgbMask = FeatureTest.isLittleEndian ? 0x00ffffff : 0xffffff00;\n    for (let i = 0; i < h2; i++) {\n      const buf = src32.subarray(Math.floor(i * yRatio) * w1);\n      for (let j = 0; j < w2; j++) {\n        dest32[newIndex++] |= buf[xScaled[j]] & rgbMask;\n      }\n    }\n  } else {\n    const COMPONENTS = 4;\n    const w1Scanline = w1 * COMPONENTS;\n    for (let i = 0; i < w2; i++) {\n      xScaled[i] = Math.floor(i * xRatio) * COMPONENTS;\n    }\n    for (let i = 0; i < h2; i++) {\n      const buf = src.subarray(Math.floor(i * yRatio) * w1Scanline);\n      for (let j = 0; j < w2; j++) {\n        const oldIndex = xScaled[j];\n        dest[newIndex++] = buf[oldIndex];\n        dest[newIndex++] = buf[oldIndex + 1];\n        dest[newIndex++] = buf[oldIndex + 2];\n      }\n    }\n  }\n}\n\nfunction copyRgbaImage(src, dest, alpha01) {\n  if (alpha01 === 1) {\n    const src32 = new Uint32Array(src.buffer);\n    const dest32 = new Uint32Array(dest.buffer);\n    const rgbMask = FeatureTest.isLittleEndian ? 0x00ffffff : 0xffffff00;\n    for (let i = 0, ii = src32.length; i < ii; i++) {\n      dest32[i] |= src32[i] & rgbMask;\n    }\n  } else {\n    let j = 0;\n    for (let i = 0, ii = src.length; i < ii; i += 4) {\n      dest[j++] = src[i];\n      dest[j++] = src[i + 1];\n      dest[j++] = src[i + 2];\n    }\n  }\n}\n\nclass ColorSpace {\n  static #rgbBuf = new Uint8ClampedArray(3);\n\n  constructor(name, numComps) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === ColorSpace\n    ) {\n      unreachable(\"Cannot initialize ColorSpace.\");\n    }\n    this.name = name;\n    this.numComps = numComps;\n  }\n\n  /**\n   * Converts the color value to the RGB color. The color components are\n   * located in the src array starting from the srcOffset. Returns the array\n   * of the rgb components, each value ranging from [0,255].\n   */\n  getRgb(src, srcOffset, output = new Uint8ClampedArray(3)) {\n    this.getRgbItem(src, srcOffset, output, 0);\n    return output;\n  }\n\n  getRgbHex(src, srcOffset) {\n    const buffer = this.getRgb(src, srcOffset, ColorSpace.#rgbBuf);\n    return Util.makeHexColor(buffer[0], buffer[1], buffer[2]);\n  }\n\n  /**\n   * Converts the color value to the RGB color, similar to the getRgb method.\n   * The result placed into the dest array starting from the destOffset.\n   */\n  getRgbItem(src, srcOffset, dest, destOffset) {\n    unreachable(\"Should not call ColorSpace.getRgbItem\");\n  }\n\n  /**\n   * Converts the specified number of the color values to the RGB colors.\n   * The colors are located in the src array starting from the srcOffset.\n   * The result is placed into the dest array starting from the destOffset.\n   * The src array items shall be in [0,2^bits) range, the dest array items\n   * will be in [0,255] range. alpha01 indicates how many alpha components\n   * there are in the dest array; it will be either 0 (RGB array) or 1 (RGBA\n   * array).\n   */\n  getRgbBuffer(src, srcOffset, count, dest, destOffset, bits, alpha01) {\n    unreachable(\"Should not call ColorSpace.getRgbBuffer\");\n  }\n\n  /**\n   * Determines the number of bytes required to store the result of the\n   * conversion done by the getRgbBuffer method. As in getRgbBuffer,\n   * |alpha01| is either 0 (RGB output) or 1 (RGBA output).\n   */\n  getOutputLength(inputLength, alpha01) {\n    unreachable(\"Should not call ColorSpace.getOutputLength\");\n  }\n\n  /**\n   * Returns true if source data will be equal the result/output data.\n   */\n  isPassthrough(bits) {\n    return false;\n  }\n\n  /**\n   * Refer to the static `ColorSpace.isDefaultDecode` method below.\n   */\n  isDefaultDecode(decodeMap, bpc) {\n    return ColorSpace.isDefaultDecode(decodeMap, this.numComps);\n  }\n\n  /**\n   * Fills in the RGB colors in the destination buffer.  alpha01 indicates\n   * how many alpha components there are in the dest array; it will be either\n   * 0 (RGB array) or 1 (RGBA array).\n   */\n  fillRgb(\n    dest,\n    originalWidth,\n    originalHeight,\n    width,\n    height,\n    actualHeight,\n    bpc,\n    comps,\n    alpha01\n  ) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'ColorSpace.fillRgb: Unsupported \"dest\" type.'\n      );\n    }\n    const count = originalWidth * originalHeight;\n    let rgbBuf = null;\n    const numComponentColors = 1 << bpc;\n    const needsResizing = originalHeight !== height || originalWidth !== width;\n\n    if (this.isPassthrough(bpc)) {\n      rgbBuf = comps;\n    } else if (\n      this.numComps === 1 &&\n      count > numComponentColors &&\n      this.name !== \"DeviceGray\" &&\n      this.name !== \"DeviceRGB\"\n    ) {\n      // Optimization: create a color map when there is just one component and\n      // we are converting more colors than the size of the color map. We\n      // don't build the map if the colorspace is gray or rgb since those\n      // methods are faster than building a map. This mainly offers big speed\n      // ups for indexed and alternate colorspaces.\n      //\n      // TODO it may be worth while to cache the color map. While running\n      // testing I never hit a cache so I will leave that out for now (perhaps\n      // we are reparsing colorspaces too much?).\n      const allColors =\n        bpc <= 8\n          ? new Uint8Array(numComponentColors)\n          : new Uint16Array(numComponentColors);\n      for (let i = 0; i < numComponentColors; i++) {\n        allColors[i] = i;\n      }\n      const colorMap = new Uint8ClampedArray(numComponentColors * 3);\n      this.getRgbBuffer(\n        allColors,\n        0,\n        numComponentColors,\n        colorMap,\n        0,\n        bpc,\n        /* alpha01 = */ 0\n      );\n\n      if (!needsResizing) {\n        // Fill in the RGB values directly into |dest|.\n        let destPos = 0;\n        for (let i = 0; i < count; ++i) {\n          const key = comps[i] * 3;\n          dest[destPos++] = colorMap[key];\n          dest[destPos++] = colorMap[key + 1];\n          dest[destPos++] = colorMap[key + 2];\n          destPos += alpha01;\n        }\n      } else {\n        rgbBuf = new Uint8Array(count * 3);\n        let rgbPos = 0;\n        for (let i = 0; i < count; ++i) {\n          const key = comps[i] * 3;\n          rgbBuf[rgbPos++] = colorMap[key];\n          rgbBuf[rgbPos++] = colorMap[key + 1];\n          rgbBuf[rgbPos++] = colorMap[key + 2];\n        }\n      }\n    } else if (!needsResizing) {\n      // Fill in the RGB values directly into |dest|.\n      this.getRgbBuffer(comps, 0, width * actualHeight, dest, 0, bpc, alpha01);\n    } else {\n      rgbBuf = new Uint8ClampedArray(count * 3);\n      this.getRgbBuffer(comps, 0, count, rgbBuf, 0, bpc, /* alpha01 = */ 0);\n    }\n\n    if (rgbBuf) {\n      if (needsResizing) {\n        resizeRgbImage(\n          rgbBuf,\n          dest,\n          originalWidth,\n          originalHeight,\n          width,\n          height,\n          alpha01\n        );\n      } else {\n        let destPos = 0,\n          rgbPos = 0;\n        for (let i = 0, ii = width * actualHeight; i < ii; i++) {\n          dest[destPos++] = rgbBuf[rgbPos++];\n          dest[destPos++] = rgbBuf[rgbPos++];\n          dest[destPos++] = rgbBuf[rgbPos++];\n          destPos += alpha01;\n        }\n      }\n    }\n  }\n\n  /**\n   * True if the colorspace has components in the default range of [0, 1].\n   * This should be true for all colorspaces except for lab color spaces\n   * which are [0,100], [-128, 127], [-128, 127].\n   */\n  get usesZeroToOneRange() {\n    return shadow(this, \"usesZeroToOneRange\", true);\n  }\n\n  /**\n   * Checks if a decode map matches the default decode map for a color space.\n   * This handles the general decode maps where there are two values per\n   * component, e.g. [0, 1, 0, 1, 0, 1] for a RGB color.\n   * This does not handle Lab, Indexed, or Pattern decode maps since they are\n   * slightly different.\n   * @param {Array} decode - Decode map (usually from an image).\n   * @param {number} numComps - Number of components the color space has.\n   */\n  static isDefaultDecode(decode, numComps) {\n    if (!Array.isArray(decode)) {\n      return true;\n    }\n    if (numComps * 2 !== decode.length) {\n      warn(\"The decode map is not the correct length\");\n      return true;\n    }\n    for (let i = 0, ii = decode.length; i < ii; i += 2) {\n      if (decode[i] !== 0 || decode[i + 1] !== 1) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\n/**\n * Alternate color space handles both Separation and DeviceN color spaces.  A\n * Separation color space is actually just a DeviceN with one color component.\n * Both color spaces use a tinting function to convert colors to a base color\n * space.\n *\n * The default color is `new Float32Array(new Array(numComps).fill(1))`.\n */\nclass AlternateCS extends ColorSpace {\n  constructor(numComps, base, tintFn) {\n    super(\"Alternate\", numComps);\n    this.base = base;\n    this.tintFn = tintFn;\n    this.tmpBuf = new Float32Array(base.numComps);\n  }\n\n  getRgbItem(src, srcOffset, dest, destOffset) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'AlternateCS.getRgbItem: Unsupported \"dest\" type.'\n      );\n    }\n    const tmpBuf = this.tmpBuf;\n    this.tintFn(src, srcOffset, tmpBuf, 0);\n    this.base.getRgbItem(tmpBuf, 0, dest, destOffset);\n  }\n\n  getRgbBuffer(src, srcOffset, count, dest, destOffset, bits, alpha01) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'AlternateCS.getRgbBuffer: Unsupported \"dest\" type.'\n      );\n    }\n    const tintFn = this.tintFn;\n    const base = this.base;\n    const scale = 1 / ((1 << bits) - 1);\n    const baseNumComps = base.numComps;\n    const usesZeroToOneRange = base.usesZeroToOneRange;\n    const isPassthrough =\n      (base.isPassthrough(8) || !usesZeroToOneRange) && alpha01 === 0;\n    let pos = isPassthrough ? destOffset : 0;\n    const baseBuf = isPassthrough\n      ? dest\n      : new Uint8ClampedArray(baseNumComps * count);\n    const numComps = this.numComps;\n\n    const scaled = new Float32Array(numComps);\n    const tinted = new Float32Array(baseNumComps);\n    let i, j;\n\n    for (i = 0; i < count; i++) {\n      for (j = 0; j < numComps; j++) {\n        scaled[j] = src[srcOffset++] * scale;\n      }\n      tintFn(scaled, 0, tinted, 0);\n      if (usesZeroToOneRange) {\n        for (j = 0; j < baseNumComps; j++) {\n          baseBuf[pos++] = tinted[j] * 255;\n        }\n      } else {\n        base.getRgbItem(tinted, 0, baseBuf, pos);\n        pos += baseNumComps;\n      }\n    }\n\n    if (!isPassthrough) {\n      base.getRgbBuffer(baseBuf, 0, count, dest, destOffset, 8, alpha01);\n    }\n  }\n\n  getOutputLength(inputLength, alpha01) {\n    return this.base.getOutputLength(\n      (inputLength * this.base.numComps) / this.numComps,\n      alpha01\n    );\n  }\n}\n\nclass PatternCS extends ColorSpace {\n  constructor(baseCS) {\n    super(\"Pattern\", null);\n    this.base = baseCS;\n  }\n\n  isDefaultDecode(decodeMap, bpc) {\n    unreachable(\"Should not call PatternCS.isDefaultDecode\");\n  }\n}\n\n/**\n * The default color is `new Uint8Array([0])`.\n */\nclass IndexedCS extends ColorSpace {\n  constructor(base, highVal, lookup) {\n    super(\"Indexed\", 1);\n    this.base = base;\n    this.highVal = highVal;\n\n    const length = base.numComps * (highVal + 1);\n    this.lookup = new Uint8Array(length);\n\n    if (lookup instanceof BaseStream) {\n      const bytes = lookup.getBytes(length);\n      this.lookup.set(bytes);\n    } else if (typeof lookup === \"string\") {\n      for (let i = 0; i < length; ++i) {\n        this.lookup[i] = lookup.charCodeAt(i) & 0xff;\n      }\n    } else {\n      throw new FormatError(`IndexedCS - unrecognized lookup table: ${lookup}`);\n    }\n  }\n\n  getRgbItem(src, srcOffset, dest, destOffset) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'IndexedCS.getRgbItem: Unsupported \"dest\" type.'\n      );\n    }\n    const { base, highVal, lookup } = this;\n    const start =\n      MathClamp(Math.round(src[srcOffset]), 0, highVal) * base.numComps;\n    base.getRgbBuffer(lookup, start, 1, dest, destOffset, 8, 0);\n  }\n\n  getRgbBuffer(src, srcOffset, count, dest, destOffset, bits, alpha01) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'IndexedCS.getRgbBuffer: Unsupported \"dest\" type.'\n      );\n    }\n    const { base, highVal, lookup } = this;\n    const { numComps } = base;\n    const outputDelta = base.getOutputLength(numComps, alpha01);\n\n    for (let i = 0; i < count; ++i) {\n      const lookupPos =\n        MathClamp(Math.round(src[srcOffset++]), 0, highVal) * numComps;\n      base.getRgbBuffer(lookup, lookupPos, 1, dest, destOffset, 8, alpha01);\n      destOffset += outputDelta;\n    }\n  }\n\n  getOutputLength(inputLength, alpha01) {\n    return this.base.getOutputLength(inputLength * this.base.numComps, alpha01);\n  }\n\n  isDefaultDecode(decodeMap, bpc) {\n    if (!Array.isArray(decodeMap)) {\n      return true;\n    }\n    if (decodeMap.length !== 2) {\n      warn(\"Decode map length is not correct\");\n      return true;\n    }\n    if (!Number.isInteger(bpc) || bpc < 1) {\n      warn(\"Bits per component is not correct\");\n      return true;\n    }\n    return decodeMap[0] === 0 && decodeMap[1] === (1 << bpc) - 1;\n  }\n}\n\n/**\n * The default color is `new Float32Array([0])`.\n */\nclass DeviceGrayCS extends ColorSpace {\n  constructor() {\n    super(\"DeviceGray\", 1);\n  }\n\n  getRgbItem(src, srcOffset, dest, destOffset) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'DeviceGrayCS.getRgbItem: Unsupported \"dest\" type.'\n      );\n    }\n    const c = src[srcOffset] * 255;\n    dest[destOffset] = dest[destOffset + 1] = dest[destOffset + 2] = c;\n  }\n\n  getRgbBuffer(src, srcOffset, count, dest, destOffset, bits, alpha01) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'DeviceGrayCS.getRgbBuffer: Unsupported \"dest\" type.'\n      );\n    }\n    const scale = 255 / ((1 << bits) - 1);\n    let j = srcOffset,\n      q = destOffset;\n    for (let i = 0; i < count; ++i) {\n      const c = scale * src[j++];\n      dest[q++] = c;\n      dest[q++] = c;\n      dest[q++] = c;\n      q += alpha01;\n    }\n  }\n\n  getOutputLength(inputLength, alpha01) {\n    return inputLength * (3 + alpha01);\n  }\n}\n\n/**\n * The default color is `new Float32Array([0, 0, 0])`.\n */\nclass DeviceRgbCS extends ColorSpace {\n  constructor() {\n    super(\"DeviceRGB\", 3);\n  }\n\n  getRgbItem(src, srcOffset, dest, destOffset) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'DeviceRgbCS.getRgbItem: Unsupported \"dest\" type.'\n      );\n    }\n    dest[destOffset] = src[srcOffset] * 255;\n    dest[destOffset + 1] = src[srcOffset + 1] * 255;\n    dest[destOffset + 2] = src[srcOffset + 2] * 255;\n  }\n\n  getRgbBuffer(src, srcOffset, count, dest, destOffset, bits, alpha01) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'DeviceRgbCS.getRgbBuffer: Unsupported \"dest\" type.'\n      );\n    }\n    if (bits === 8 && alpha01 === 0) {\n      dest.set(src.subarray(srcOffset, srcOffset + count * 3), destOffset);\n      return;\n    }\n    const scale = 255 / ((1 << bits) - 1);\n    let j = srcOffset,\n      q = destOffset;\n    for (let i = 0; i < count; ++i) {\n      dest[q++] = scale * src[j++];\n      dest[q++] = scale * src[j++];\n      dest[q++] = scale * src[j++];\n      q += alpha01;\n    }\n  }\n\n  getOutputLength(inputLength, alpha01) {\n    return ((inputLength * (3 + alpha01)) / 3) | 0;\n  }\n\n  isPassthrough(bits) {\n    return bits === 8;\n  }\n}\n\n/**\n * The default color is `new Float32Array([0, 0, 0, 1])`.\n */\nclass DeviceRgbaCS extends ColorSpace {\n  constructor() {\n    super(\"DeviceRGBA\", 4);\n  }\n\n  getOutputLength(inputLength, _alpha01) {\n    return inputLength * 4;\n  }\n\n  isPassthrough(bits) {\n    return bits === 8;\n  }\n\n  fillRgb(\n    dest,\n    originalWidth,\n    originalHeight,\n    width,\n    height,\n    actualHeight,\n    bpc,\n    comps,\n    alpha01\n  ) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'DeviceRgbaCS.fillRgb: Unsupported \"dest\" type.'\n      );\n    }\n    if (originalHeight !== height || originalWidth !== width) {\n      resizeRgbaImage(\n        comps,\n        dest,\n        originalWidth,\n        originalHeight,\n        width,\n        height,\n        alpha01\n      );\n    } else {\n      copyRgbaImage(comps, dest, alpha01);\n    }\n  }\n}\n\n/**\n * The default color is `new Float32Array([0, 0, 0, 1])`.\n */\nclass DeviceCmykCS extends ColorSpace {\n  constructor() {\n    super(\"DeviceCMYK\", 4);\n  }\n\n  // The coefficients below was found using numerical analysis: the method of\n  // steepest descent for the sum((f_i - color_value_i)^2) for r/g/b colors,\n  // where color_value is the tabular value from the table of sampled RGB colors\n  // from CMYK US Web Coated (SWOP) colorspace, and f_i is the corresponding\n  // CMYK color conversion using the estimation below:\n  //   f(A, B,.. N) = Acc+Bcm+Ccy+Dck+c+Fmm+Gmy+Hmk+Im+Jyy+Kyk+Ly+Mkk+Nk+255\n  #toRgb(src, srcOffset, srcScale, dest, destOffset) {\n    const c = src[srcOffset] * srcScale;\n    const m = src[srcOffset + 1] * srcScale;\n    const y = src[srcOffset + 2] * srcScale;\n    const k = src[srcOffset + 3] * srcScale;\n\n    dest[destOffset] =\n      255 +\n      c *\n        (-4.387332384609988 * c +\n          54.48615194189176 * m +\n          18.82290502165302 * y +\n          212.25662451639585 * k +\n          -285.2331026137004) +\n      m *\n        (1.7149763477362134 * m -\n          5.6096736904047315 * y +\n          -17.873870861415444 * k -\n          5.497006427196366) +\n      y *\n        (-2.5217340131683033 * y - 21.248923337353073 * k + 17.5119270841813) +\n      k * (-21.86122147463605 * k - 189.48180835922747);\n\n    dest[destOffset + 1] =\n      255 +\n      c *\n        (8.841041422036149 * c +\n          60.118027045597366 * m +\n          6.871425592049007 * y +\n          31.159100130055922 * k +\n          -79.2970844816548) +\n      m *\n        (-15.310361306967817 * m +\n          17.575251261109482 * y +\n          131.35250912493976 * k -\n          190.9453302588951) +\n      y * (4.444339102852739 * y + 9.8632861493405 * k - 24.86741582555878) +\n      k * (-20.737325471181034 * k - 187.80453709719578);\n\n    dest[destOffset + 2] =\n      255 +\n      c *\n        (0.8842522430003296 * c +\n          8.078677503112928 * m +\n          30.89978309703729 * y -\n          0.23883238689178934 * k +\n          -14.183576799673286) +\n      m *\n        (10.49593273432072 * m +\n          63.02378494754052 * y +\n          50.606957656360734 * k -\n          112.23884253719248) +\n      y *\n        (0.03296041114873217 * y +\n          115.60384449646641 * k +\n          -193.58209356861505) +\n      k * (-22.33816807309886 * k - 180.12613974708367);\n  }\n\n  getRgbItem(src, srcOffset, dest, destOffset) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'DeviceCmykCS.getRgbItem: Unsupported \"dest\" type.'\n      );\n    }\n    this.#toRgb(src, srcOffset, 1, dest, destOffset);\n  }\n\n  getRgbBuffer(src, srcOffset, count, dest, destOffset, bits, alpha01) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'DeviceCmykCS.getRgbBuffer: Unsupported \"dest\" type.'\n      );\n    }\n    const scale = 1 / ((1 << bits) - 1);\n    for (let i = 0; i < count; i++) {\n      this.#toRgb(src, srcOffset, scale, dest, destOffset);\n      srcOffset += 4;\n      destOffset += 3 + alpha01;\n    }\n  }\n\n  getOutputLength(inputLength, alpha01) {\n    return ((inputLength / 4) * (3 + alpha01)) | 0;\n  }\n}\n\n/**\n * CalGrayCS: Based on \"PDF Reference, Sixth Ed\", p.245\n *\n * The default color is `new Float32Array([0])`.\n */\nclass CalGrayCS extends ColorSpace {\n  constructor(whitePoint, blackPoint, gamma) {\n    super(\"CalGray\", 1);\n\n    if (!whitePoint) {\n      throw new FormatError(\n        \"WhitePoint missing - required for color space CalGray\"\n      );\n    }\n    // Translate arguments to spec variables.\n    [this.XW, this.YW, this.ZW] = whitePoint;\n    [this.XB, this.YB, this.ZB] = blackPoint || [0, 0, 0];\n    this.G = gamma || 1;\n\n    // Validate variables as per spec.\n    if (this.XW < 0 || this.ZW < 0 || this.YW !== 1) {\n      throw new FormatError(\n        `Invalid WhitePoint components for ${this.name}, no fallback available`\n      );\n    }\n\n    if (this.XB < 0 || this.YB < 0 || this.ZB < 0) {\n      info(`Invalid BlackPoint for ${this.name}, falling back to default.`);\n      this.XB = this.YB = this.ZB = 0;\n    }\n\n    if (this.XB !== 0 || this.YB !== 0 || this.ZB !== 0) {\n      warn(\n        `${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ` +\n          `ZB: ${this.ZB}, only default values are supported.`\n      );\n    }\n\n    if (this.G < 1) {\n      info(\n        `Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`\n      );\n      this.G = 1;\n    }\n  }\n\n  #toRgb(src, srcOffset, dest, destOffset, scale) {\n    // A represents a gray component of a calibrated gray space.\n    // A <---> AG in the spec\n    const A = src[srcOffset] * scale;\n    const AG = A ** this.G;\n\n    // Computes L as per spec. ( = this.YW * AG )\n    // Except if other than default BlackPoint values are used.\n    const L = this.YW * AG;\n    // http://www.poynton.com/notes/colour_and_gamma/ColorFAQ.html, Ch 4.\n    // Convert values to rgb range [0, 255].\n    const val = Math.max(295.8 * L ** 0.3333333333333333 - 40.8, 0);\n    dest[destOffset] = val;\n    dest[destOffset + 1] = val;\n    dest[destOffset + 2] = val;\n  }\n\n  getRgbItem(src, srcOffset, dest, destOffset) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'CalGrayCS.getRgbItem: Unsupported \"dest\" type.'\n      );\n    }\n    this.#toRgb(src, srcOffset, dest, destOffset, 1);\n  }\n\n  getRgbBuffer(src, srcOffset, count, dest, destOffset, bits, alpha01) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'CalGrayCS.getRgbBuffer: Unsupported \"dest\" type.'\n      );\n    }\n    const scale = 1 / ((1 << bits) - 1);\n\n    for (let i = 0; i < count; ++i) {\n      this.#toRgb(src, srcOffset, dest, destOffset, scale);\n      srcOffset += 1;\n      destOffset += 3 + alpha01;\n    }\n  }\n\n  getOutputLength(inputLength, alpha01) {\n    return inputLength * (3 + alpha01);\n  }\n}\n\n/**\n * CalRGBCS: Based on \"PDF Reference, Sixth Ed\", p.247\n *\n * The default color is `new Float32Array([0, 0, 0])`.\n */\nclass CalRGBCS extends ColorSpace {\n  // See http://www.brucelindbloom.com/index.html?Eqn_ChromAdapt.html for these\n  // matrices.\n  // prettier-ignore\n  static #BRADFORD_SCALE_MATRIX = new Float32Array([\n    0.8951, 0.2664, -0.1614,\n    -0.7502, 1.7135, 0.0367,\n    0.0389, -0.0685, 1.0296]);\n\n  // prettier-ignore\n  static #BRADFORD_SCALE_INVERSE_MATRIX = new Float32Array([\n    0.9869929, -0.1470543, 0.1599627,\n    0.4323053, 0.5183603, 0.0492912,\n    -0.0085287, 0.0400428, 0.9684867]);\n\n  // See http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html.\n  // prettier-ignore\n  static #SRGB_D65_XYZ_TO_RGB_MATRIX = new Float32Array([\n    3.2404542, -1.5371385, -0.4985314,\n    -0.9692660, 1.8760108, 0.0415560,\n    0.0556434, -0.2040259, 1.0572252]);\n\n  static #FLAT_WHITEPOINT_MATRIX = new Float32Array([1, 1, 1]);\n\n  static #tempNormalizeMatrix = new Float32Array(3);\n\n  static #tempConvertMatrix1 = new Float32Array(3);\n\n  static #tempConvertMatrix2 = new Float32Array(3);\n\n  static #DECODE_L_CONSTANT = ((8 + 16) / 116) ** 3 / 8.0;\n\n  constructor(whitePoint, blackPoint, gamma, matrix) {\n    super(\"CalRGB\", 3);\n\n    if (!whitePoint) {\n      throw new FormatError(\n        \"WhitePoint missing - required for color space CalRGB\"\n      );\n    }\n    // Translate arguments to spec variables.\n    const [XW, YW, ZW] = (this.whitePoint = whitePoint);\n    const [XB, YB, ZB] = (this.blackPoint = blackPoint || new Float32Array(3));\n\n    [this.GR, this.GG, this.GB] = gamma || new Float32Array([1, 1, 1]);\n    [\n      this.MXA,\n      this.MYA,\n      this.MZA,\n      this.MXB,\n      this.MYB,\n      this.MZB,\n      this.MXC,\n      this.MYC,\n      this.MZC,\n    ] = matrix || new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);\n\n    // Validate variables as per spec.\n    if (XW < 0 || ZW < 0 || YW !== 1) {\n      throw new FormatError(\n        `Invalid WhitePoint components for ${this.name}, no fallback available`\n      );\n    }\n\n    if (XB < 0 || YB < 0 || ZB < 0) {\n      info(\n        `Invalid BlackPoint for ${this.name} [${XB}, ${YB}, ${ZB}], ` +\n          \"falling back to default.\"\n      );\n      this.blackPoint = new Float32Array(3);\n    }\n\n    if (this.GR < 0 || this.GG < 0 || this.GB < 0) {\n      info(\n        `Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ` +\n          `${this.name}, falling back to default.`\n      );\n      this.GR = this.GG = this.GB = 1;\n    }\n  }\n\n  #matrixProduct(a, b, result) {\n    result[0] = a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n    result[1] = a[3] * b[0] + a[4] * b[1] + a[5] * b[2];\n    result[2] = a[6] * b[0] + a[7] * b[1] + a[8] * b[2];\n  }\n\n  #toFlat(sourceWhitePoint, LMS, result) {\n    result[0] = (LMS[0] * 1) / sourceWhitePoint[0];\n    result[1] = (LMS[1] * 1) / sourceWhitePoint[1];\n    result[2] = (LMS[2] * 1) / sourceWhitePoint[2];\n  }\n\n  #toD65(sourceWhitePoint, LMS, result) {\n    const D65X = 0.95047;\n    const D65Y = 1;\n    const D65Z = 1.08883;\n\n    result[0] = (LMS[0] * D65X) / sourceWhitePoint[0];\n    result[1] = (LMS[1] * D65Y) / sourceWhitePoint[1];\n    result[2] = (LMS[2] * D65Z) / sourceWhitePoint[2];\n  }\n\n  #sRGBTransferFunction(color) {\n    // See http://en.wikipedia.org/wiki/SRGB.\n    if (color <= 0.0031308) {\n      return MathClamp(12.92 * color, 0, 1);\n    }\n    // Optimization:\n    // If color is close enough to 1, skip calling the following transform\n    // since calling Math.pow is expensive. If color is larger than\n    // the threshold, the final result is larger than 254.5 since\n    // ((1 + 0.055) * 0.99554525 ** (1 / 2.4) - 0.055) * 255 ===\n    // 254.50000003134699\n    if (color >= 0.99554525) {\n      return 1;\n    }\n    return MathClamp((1 + 0.055) * color ** (1 / 2.4) - 0.055, 0, 1);\n  }\n\n  #decodeL(L) {\n    if (L < 0) {\n      return -this.#decodeL(-L);\n    }\n    if (L > 8.0) {\n      return ((L + 16) / 116) ** 3;\n    }\n    return L * CalRGBCS.#DECODE_L_CONSTANT;\n  }\n\n  #compensateBlackPoint(sourceBlackPoint, XYZ_Flat, result) {\n    // In case the blackPoint is already the default blackPoint then there is\n    // no need to do compensation.\n    if (\n      sourceBlackPoint[0] === 0 &&\n      sourceBlackPoint[1] === 0 &&\n      sourceBlackPoint[2] === 0\n    ) {\n      result[0] = XYZ_Flat[0];\n      result[1] = XYZ_Flat[1];\n      result[2] = XYZ_Flat[2];\n      return;\n    }\n\n    // For the blackPoint calculation details, please see\n    // http://www.adobe.com/content/dam/Adobe/en/devnet/photoshop/sdk/\n    // AdobeBPC.pdf.\n    // The destination blackPoint is the default blackPoint [0, 0, 0].\n    const zeroDecodeL = this.#decodeL(0);\n\n    const X_DST = zeroDecodeL;\n    const X_SRC = this.#decodeL(sourceBlackPoint[0]);\n\n    const Y_DST = zeroDecodeL;\n    const Y_SRC = this.#decodeL(sourceBlackPoint[1]);\n\n    const Z_DST = zeroDecodeL;\n    const Z_SRC = this.#decodeL(sourceBlackPoint[2]);\n\n    const X_Scale = (1 - X_DST) / (1 - X_SRC);\n    const X_Offset = 1 - X_Scale;\n\n    const Y_Scale = (1 - Y_DST) / (1 - Y_SRC);\n    const Y_Offset = 1 - Y_Scale;\n\n    const Z_Scale = (1 - Z_DST) / (1 - Z_SRC);\n    const Z_Offset = 1 - Z_Scale;\n\n    result[0] = XYZ_Flat[0] * X_Scale + X_Offset;\n    result[1] = XYZ_Flat[1] * Y_Scale + Y_Offset;\n    result[2] = XYZ_Flat[2] * Z_Scale + Z_Offset;\n  }\n\n  #normalizeWhitePointToFlat(sourceWhitePoint, XYZ_In, result) {\n    // In case the whitePoint is already flat then there is no need to do\n    // normalization.\n    if (sourceWhitePoint[0] === 1 && sourceWhitePoint[2] === 1) {\n      result[0] = XYZ_In[0];\n      result[1] = XYZ_In[1];\n      result[2] = XYZ_In[2];\n      return;\n    }\n\n    const LMS = result;\n    this.#matrixProduct(CalRGBCS.#BRADFORD_SCALE_MATRIX, XYZ_In, LMS);\n\n    const LMS_Flat = CalRGBCS.#tempNormalizeMatrix;\n    this.#toFlat(sourceWhitePoint, LMS, LMS_Flat);\n\n    this.#matrixProduct(\n      CalRGBCS.#BRADFORD_SCALE_INVERSE_MATRIX,\n      LMS_Flat,\n      result\n    );\n  }\n\n  #normalizeWhitePointToD65(sourceWhitePoint, XYZ_In, result) {\n    const LMS = result;\n    this.#matrixProduct(CalRGBCS.#BRADFORD_SCALE_MATRIX, XYZ_In, LMS);\n\n    const LMS_D65 = CalRGBCS.#tempNormalizeMatrix;\n    this.#toD65(sourceWhitePoint, LMS, LMS_D65);\n\n    this.#matrixProduct(\n      CalRGBCS.#BRADFORD_SCALE_INVERSE_MATRIX,\n      LMS_D65,\n      result\n    );\n  }\n\n  #toRgb(src, srcOffset, dest, destOffset, scale) {\n    // A, B and C represent a red, green and blue components of a calibrated\n    // rgb space.\n    const A = MathClamp(src[srcOffset] * scale, 0, 1);\n    const B = MathClamp(src[srcOffset + 1] * scale, 0, 1);\n    const C = MathClamp(src[srcOffset + 2] * scale, 0, 1);\n\n    // A <---> AGR in the spec\n    // B <---> BGG in the spec\n    // C <---> CGB in the spec\n    const AGR = A === 1 ? 1 : A ** this.GR;\n    const BGG = B === 1 ? 1 : B ** this.GG;\n    const CGB = C === 1 ? 1 : C ** this.GB;\n\n    // Computes intermediate variables L, M, N as per spec.\n    // To decode X, Y, Z values map L, M, N directly to them.\n    const X = this.MXA * AGR + this.MXB * BGG + this.MXC * CGB;\n    const Y = this.MYA * AGR + this.MYB * BGG + this.MYC * CGB;\n    const Z = this.MZA * AGR + this.MZB * BGG + this.MZC * CGB;\n\n    // The following calculations are based on this document:\n    // http://www.adobe.com/content/dam/Adobe/en/devnet/photoshop/sdk/\n    // AdobeBPC.pdf.\n    const XYZ = CalRGBCS.#tempConvertMatrix1;\n    XYZ[0] = X;\n    XYZ[1] = Y;\n    XYZ[2] = Z;\n    const XYZ_Flat = CalRGBCS.#tempConvertMatrix2;\n\n    this.#normalizeWhitePointToFlat(this.whitePoint, XYZ, XYZ_Flat);\n\n    const XYZ_Black = CalRGBCS.#tempConvertMatrix1;\n    this.#compensateBlackPoint(this.blackPoint, XYZ_Flat, XYZ_Black);\n\n    const XYZ_D65 = CalRGBCS.#tempConvertMatrix2;\n    this.#normalizeWhitePointToD65(\n      CalRGBCS.#FLAT_WHITEPOINT_MATRIX,\n      XYZ_Black,\n      XYZ_D65\n    );\n\n    const SRGB = CalRGBCS.#tempConvertMatrix1;\n    this.#matrixProduct(CalRGBCS.#SRGB_D65_XYZ_TO_RGB_MATRIX, XYZ_D65, SRGB);\n\n    // Convert the values to rgb range [0, 255].\n    dest[destOffset] = this.#sRGBTransferFunction(SRGB[0]) * 255;\n    dest[destOffset + 1] = this.#sRGBTransferFunction(SRGB[1]) * 255;\n    dest[destOffset + 2] = this.#sRGBTransferFunction(SRGB[2]) * 255;\n  }\n\n  getRgbItem(src, srcOffset, dest, destOffset) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'CalRGBCS.getRgbItem: Unsupported \"dest\" type.'\n      );\n    }\n    this.#toRgb(src, srcOffset, dest, destOffset, 1);\n  }\n\n  getRgbBuffer(src, srcOffset, count, dest, destOffset, bits, alpha01) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'CalRGBCS.getRgbBuffer: Unsupported \"dest\" type.'\n      );\n    }\n    const scale = 1 / ((1 << bits) - 1);\n\n    for (let i = 0; i < count; ++i) {\n      this.#toRgb(src, srcOffset, dest, destOffset, scale);\n      srcOffset += 3;\n      destOffset += 3 + alpha01;\n    }\n  }\n\n  getOutputLength(inputLength, alpha01) {\n    return ((inputLength * (3 + alpha01)) / 3) | 0;\n  }\n}\n\n/**\n * LabCS: Based on \"PDF Reference, Sixth Ed\", p.250\n *\n * The default color is `new Float32Array([0, 0, 0])`.\n */\nclass LabCS extends ColorSpace {\n  constructor(whitePoint, blackPoint, range) {\n    super(\"Lab\", 3);\n\n    if (!whitePoint) {\n      throw new FormatError(\n        \"WhitePoint missing - required for color space Lab\"\n      );\n    }\n    // Translate args to spec variables\n    [this.XW, this.YW, this.ZW] = whitePoint;\n    [this.amin, this.amax, this.bmin, this.bmax] = range || [\n      -100, 100, -100, 100,\n    ];\n\n    // These are here just for completeness - the spec doesn't offer any\n    // formulas that use BlackPoint in Lab\n    [this.XB, this.YB, this.ZB] = blackPoint || [0, 0, 0];\n\n    // Validate vars as per spec\n    if (this.XW < 0 || this.ZW < 0 || this.YW !== 1) {\n      throw new FormatError(\n        \"Invalid WhitePoint components, no fallback available\"\n      );\n    }\n\n    if (this.XB < 0 || this.YB < 0 || this.ZB < 0) {\n      info(\"Invalid BlackPoint, falling back to default\");\n      this.XB = this.YB = this.ZB = 0;\n    }\n\n    if (this.amin > this.amax || this.bmin > this.bmax) {\n      info(\"Invalid Range, falling back to defaults\");\n      this.amin = -100;\n      this.amax = 100;\n      this.bmin = -100;\n      this.bmax = 100;\n    }\n  }\n\n  // Function g(x) from spec\n  #fn_g(x) {\n    return x >= 6 / 29 ? x ** 3 : (108 / 841) * (x - 4 / 29);\n  }\n\n  #decode(value, high1, low2, high2) {\n    return low2 + (value * (high2 - low2)) / high1;\n  }\n\n  // If decoding is needed maxVal should be 2^bits per component - 1.\n  #toRgb(src, srcOffset, maxVal, dest, destOffset) {\n    // XXX: Lab input is in the range of [0, 100], [amin, amax], [bmin, bmax]\n    // not the usual [0, 1]. If a command like setFillColor is used the src\n    // values will already be within the correct range. However, if we are\n    // converting an image we have to map the values to the correct range given\n    // above.\n    // Ls,as,bs <---> L*,a*,b* in the spec\n    let Ls = src[srcOffset];\n    let as = src[srcOffset + 1];\n    let bs = src[srcOffset + 2];\n    if (maxVal !== false) {\n      Ls = this.#decode(Ls, maxVal, 0, 100);\n      as = this.#decode(as, maxVal, this.amin, this.amax);\n      bs = this.#decode(bs, maxVal, this.bmin, this.bmax);\n    }\n\n    // Adjust limits of 'as' and 'bs'\n    if (as > this.amax) {\n      as = this.amax;\n    } else if (as < this.amin) {\n      as = this.amin;\n    }\n    if (bs > this.bmax) {\n      bs = this.bmax;\n    } else if (bs < this.bmin) {\n      bs = this.bmin;\n    }\n\n    // Computes intermediate variables X,Y,Z as per spec\n    const M = (Ls + 16) / 116;\n    const L = M + as / 500;\n    const N = M - bs / 200;\n\n    const X = this.XW * this.#fn_g(L);\n    const Y = this.YW * this.#fn_g(M);\n    const Z = this.ZW * this.#fn_g(N);\n\n    let r, g, b;\n    // Using different conversions for D50 and D65 white points,\n    // per http://www.color.org/srgb.pdf\n    if (this.ZW < 1) {\n      // Assuming D50 (X=0.9642, Y=1.00, Z=0.8249)\n      r = X * 3.1339 + Y * -1.617 + Z * -0.4906;\n      g = X * -0.9785 + Y * 1.916 + Z * 0.0333;\n      b = X * 0.072 + Y * -0.229 + Z * 1.4057;\n    } else {\n      // Assuming D65 (X=0.9505, Y=1.00, Z=1.0888)\n      r = X * 3.2406 + Y * -1.5372 + Z * -0.4986;\n      g = X * -0.9689 + Y * 1.8758 + Z * 0.0415;\n      b = X * 0.0557 + Y * -0.204 + Z * 1.057;\n    }\n    // Convert the color values to the [0,255] range (clamping is automatic).\n    dest[destOffset] = Math.sqrt(r) * 255;\n    dest[destOffset + 1] = Math.sqrt(g) * 255;\n    dest[destOffset + 2] = Math.sqrt(b) * 255;\n  }\n\n  getRgbItem(src, srcOffset, dest, destOffset) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'LabCS.getRgbItem: Unsupported \"dest\" type.'\n      );\n    }\n    this.#toRgb(src, srcOffset, false, dest, destOffset);\n  }\n\n  getRgbBuffer(src, srcOffset, count, dest, destOffset, bits, alpha01) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        dest instanceof Uint8ClampedArray,\n        'LabCS.getRgbBuffer: Unsupported \"dest\" type.'\n      );\n    }\n    const maxVal = (1 << bits) - 1;\n    for (let i = 0; i < count; i++) {\n      this.#toRgb(src, srcOffset, maxVal, dest, destOffset);\n      srcOffset += 3;\n      destOffset += 3 + alpha01;\n    }\n  }\n\n  getOutputLength(inputLength, alpha01) {\n    return ((inputLength * (3 + alpha01)) / 3) | 0;\n  }\n\n  isDefaultDecode(decodeMap, bpc) {\n    // XXX: Decoding is handled with the lab conversion because of the strange\n    // ranges that are used.\n    return true;\n  }\n\n  get usesZeroToOneRange() {\n    return shadow(this, \"usesZeroToOneRange\", false);\n  }\n}\n\nexport {\n  AlternateCS,\n  CalGrayCS,\n  CalRGBCS,\n  ColorSpace,\n  DeviceCmykCS,\n  DeviceGrayCS,\n  DeviceRgbaCS,\n  DeviceRgbCS,\n  IndexedCS,\n  LabCS,\n  PatternCS,\n};\n","/* Copyright 2025 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass QCMS {\n  static #memoryArray = null;\n\n  static _memory = null;\n\n  static _mustAddAlpha = false;\n\n  static _destBuffer = null;\n\n  static _destOffset = 0;\n\n  static _destLength = 0;\n\n  static _cssColor = \"\";\n\n  static _makeHexColor = null;\n\n  static get _memoryArray() {\n    const array = this.#memoryArray;\n    if (array?.byteLength) {\n      return array;\n    }\n    return (this.#memoryArray = new Uint8Array(this._memory.buffer));\n  }\n}\n\nfunction copy_result(ptr, len) {\n  // This function is called from the wasm module (it's an external\n  // \"C\" function). Its goal is to copy the result from the wasm memory\n  // to the destination buffer without any intermediate copies.\n  const { _mustAddAlpha, _destBuffer, _destOffset, _destLength, _memoryArray } =\n    QCMS;\n  if (len === _destLength) {\n    _destBuffer.set(_memoryArray.subarray(ptr, ptr + len), _destOffset);\n    return;\n  }\n  if (_mustAddAlpha) {\n    for (let i = ptr, ii = ptr + len, j = _destOffset; i < ii; i += 3, j += 4) {\n      _destBuffer[j] = _memoryArray[i];\n      _destBuffer[j + 1] = _memoryArray[i + 1];\n      _destBuffer[j + 2] = _memoryArray[i + 2];\n      _destBuffer[j + 3] = 255;\n    }\n  } else {\n    for (let i = ptr, ii = ptr + len, j = _destOffset; i < ii; i += 3, j += 4) {\n      _destBuffer[j] = _memoryArray[i];\n      _destBuffer[j + 1] = _memoryArray[i + 1];\n      _destBuffer[j + 2] = _memoryArray[i + 2];\n    }\n  }\n}\n\nfunction copy_rgb(ptr) {\n  const { _destBuffer, _destOffset, _memoryArray } = QCMS;\n  _destBuffer[_destOffset] = _memoryArray[ptr];\n  _destBuffer[_destOffset + 1] = _memoryArray[ptr + 1];\n  _destBuffer[_destOffset + 2] = _memoryArray[ptr + 2];\n}\n\nfunction make_cssRGB(ptr) {\n  const { _memoryArray } = QCMS;\n  QCMS._cssColor = QCMS._makeHexColor(\n    _memoryArray[ptr],\n    _memoryArray[ptr + 1],\n    _memoryArray[ptr + 2]\n  );\n}\n\nexport { copy_result, copy_rgb, make_cssRGB, QCMS };\n","/* THIS FILE IS GENERATED - DO NOT EDIT */\nimport { copy_result, copy_rgb, make_cssRGB } from './qcms_utils.js';\n\nlet wasm;\n\nconst cachedTextDecoder = (typeof TextDecoder !== 'undefined' ? new TextDecoder('utf-8', { ignoreBOM: true, fatal: true }) : { decode: () => { throw Error('TextDecoder not available') } } );\n\nif (typeof TextDecoder !== 'undefined') { cachedTextDecoder.decode(); };\n\nlet cachedUint8ArrayMemory0 = null;\n\nfunction getUint8ArrayMemory0() {\n    if (cachedUint8ArrayMemory0 === null || cachedUint8ArrayMemory0.byteLength === 0) {\n        cachedUint8ArrayMemory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachedUint8ArrayMemory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return cachedTextDecoder.decode(getUint8ArrayMemory0().subarray(ptr, ptr + len));\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nfunction passArray8ToWasm0(arg, malloc) {\n    const ptr = malloc(arg.length * 1, 1) >>> 0;\n    getUint8ArrayMemory0().set(arg, ptr / 1);\n    WASM_VECTOR_LEN = arg.length;\n    return ptr;\n}\n/**\n * # Safety\n *\n * This function is called directly from JavaScript.\n * @param {number} transformer\n * @param {Uint8Array} src\n */\nexport function qcms_convert_array(transformer, src) {\n    const ptr0 = passArray8ToWasm0(src, wasm.__wbindgen_malloc);\n    const len0 = WASM_VECTOR_LEN;\n    wasm.qcms_convert_array(transformer, ptr0, len0);\n}\n\n/**\n * # Safety\n *\n * This function is called directly from JavaScript.\n * @param {number} transformer\n * @param {number} src\n * @param {boolean} css\n */\nexport function qcms_convert_one(transformer, src, css) {\n    wasm.qcms_convert_one(transformer, src, css);\n}\n\n/**\n * # Safety\n *\n * This function is called directly from JavaScript.\n * @param {number} transformer\n * @param {number} src1\n * @param {number} src2\n * @param {number} src3\n * @param {boolean} css\n */\nexport function qcms_convert_three(transformer, src1, src2, src3, css) {\n    wasm.qcms_convert_three(transformer, src1, src2, src3, css);\n}\n\n/**\n * # Safety\n *\n * This function is called directly from JavaScript.\n * @param {number} transformer\n * @param {number} src1\n * @param {number} src2\n * @param {number} src3\n * @param {number} src4\n * @param {boolean} css\n */\nexport function qcms_convert_four(transformer, src1, src2, src3, src4, css) {\n    wasm.qcms_convert_four(transformer, src1, src2, src3, src4, css);\n}\n\n/**\n * # Safety\n *\n * This function is called directly from JavaScript.\n * @param {Uint8Array} mem\n * @param {DataType} in_type\n * @param {Intent} intent\n * @returns {number}\n */\nexport function qcms_transformer_from_memory(mem, in_type, intent) {\n    const ptr0 = passArray8ToWasm0(mem, wasm.__wbindgen_malloc);\n    const len0 = WASM_VECTOR_LEN;\n    const ret = wasm.qcms_transformer_from_memory(ptr0, len0, in_type, intent);\n    return ret >>> 0;\n}\n\n/**\n * # Safety\n *\n * This function is called directly from JavaScript.\n * @param {number} transformer\n */\nexport function qcms_drop_transformer(transformer) {\n    wasm.qcms_drop_transformer(transformer);\n}\n\n/**\n * @enum {0 | 1 | 2 | 3 | 4 | 5}\n */\nexport const DataType = Object.freeze({\n    RGB8: 0, \"0\": \"RGB8\",\n    RGBA8: 1, \"1\": \"RGBA8\",\n    BGRA8: 2, \"2\": \"BGRA8\",\n    Gray8: 3, \"3\": \"Gray8\",\n    GrayA8: 4, \"4\": \"GrayA8\",\n    CMYK: 5, \"5\": \"CMYK\",\n});\n/**\n * @enum {0 | 1 | 2 | 3}\n */\nexport const Intent = Object.freeze({\n    Perceptual: 0, \"0\": \"Perceptual\",\n    RelativeColorimetric: 1, \"1\": \"RelativeColorimetric\",\n    Saturation: 2, \"2\": \"Saturation\",\n    AbsoluteColorimetric: 3, \"3\": \"AbsoluteColorimetric\",\n});\n\nasync function __wbg_load(module, imports) {\n    if (typeof Response === 'function' && module instanceof Response) {\n        if (typeof WebAssembly.instantiateStreaming === 'function') {\n            try {\n                return await WebAssembly.instantiateStreaming(module, imports);\n\n            } catch (e) {\n                if (module.headers.get('Content-Type') != 'application/wasm') {\n                    console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n\n                } else {\n                    throw e;\n                }\n            }\n        }\n\n        const bytes = await module.arrayBuffer();\n        return await WebAssembly.instantiate(bytes, imports);\n\n    } else {\n        const instance = await WebAssembly.instantiate(module, imports);\n\n        if (instance instanceof WebAssembly.Instance) {\n            return { instance, module };\n\n        } else {\n            return instance;\n        }\n    }\n}\n\nfunction __wbg_get_imports() {\n    const imports = {};\n    imports.wbg = {};\n    imports.wbg.__wbg_copyresult_b08ee7d273f295dd = function(arg0, arg1) {\n        copy_result(arg0 >>> 0, arg1 >>> 0);\n    };\n    imports.wbg.__wbg_copyrgb_d60ce17bb05d9b67 = function(arg0) {\n        copy_rgb(arg0 >>> 0);\n    };\n    imports.wbg.__wbg_makecssRGB_893bf0cd9fdb302d = function(arg0) {\n        make_cssRGB(arg0 >>> 0);\n    };\n    imports.wbg.__wbindgen_init_externref_table = function() {\n        const table = wasm.__wbindgen_export_0;\n        const offset = table.grow(4);\n        table.set(0, undefined);\n        table.set(offset + 0, undefined);\n        table.set(offset + 1, null);\n        table.set(offset + 2, true);\n        table.set(offset + 3, false);\n        ;\n    };\n    imports.wbg.__wbindgen_throw = function(arg0, arg1) {\n        throw new Error(getStringFromWasm0(arg0, arg1));\n    };\n\n    return imports;\n}\n\nfunction __wbg_init_memory(imports, memory) {\n\n}\n\nfunction __wbg_finalize_init(instance, module) {\n    wasm = instance.exports;\n    __wbg_init.__wbindgen_wasm_module = module;\n    cachedUint8ArrayMemory0 = null;\n\n\n    wasm.__wbindgen_start();\n    return wasm;\n}\n\nfunction initSync(module) {\n    if (wasm !== undefined) return wasm;\n\n\n    if (typeof module !== 'undefined') {\n        if (Object.getPrototypeOf(module) === Object.prototype) {\n            ({module} = module)\n        } else {\n            console.warn('using deprecated parameters for `initSync()`; pass a single object instead')\n        }\n    }\n\n    const imports = __wbg_get_imports();\n\n    __wbg_init_memory(imports);\n\n    if (!(module instanceof WebAssembly.Module)) {\n        module = new WebAssembly.Module(module);\n    }\n\n    const instance = new WebAssembly.Instance(module, imports);\n\n    return __wbg_finalize_init(instance, module);\n}\n\nasync function __wbg_init(module_or_path) {\n    if (wasm !== undefined) return wasm;\n\n\n    if (typeof module_or_path !== 'undefined') {\n        if (Object.getPrototypeOf(module_or_path) === Object.prototype) {\n            ({module_or_path} = module_or_path)\n        } else {\n            console.warn('using deprecated parameters for the initialization function; pass a single object instead')\n        }\n    }\n\n\n    const imports = __wbg_get_imports();\n\n    if (typeof module_or_path === 'string' || (typeof Request === 'function' && module_or_path instanceof Request) || (typeof URL === 'function' && module_or_path instanceof URL)) {\n        module_or_path = fetch(module_or_path);\n    }\n\n    __wbg_init_memory(imports);\n\n    const { instance, module } = await __wbg_load(await module_or_path, imports);\n\n    return __wbg_finalize_init(instance, module);\n}\n\nexport { initSync };\nexport default __wbg_init;\n","/* Copyright 2025 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  DataType,\n  initSync,\n  Intent,\n  qcms_convert_array,\n  qcms_convert_four,\n  qcms_convert_one,\n  qcms_convert_three,\n  qcms_drop_transformer,\n  qcms_transformer_from_memory,\n} from \"../../external/qcms/qcms.js\";\nimport { shadow, Util, warn } from \"../shared/util.js\";\nimport { ColorSpace } from \"./colorspace.js\";\nimport { QCMS } from \"../../external/qcms/qcms_utils.js\";\n\nfunction fetchSync(url) {\n  // Parsing and using color spaces is still synchronous,\n  // so we must load the wasm module synchronously.\n  // TODO: Make the color space stuff asynchronous and use fetch.\n  const xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", url, false);\n  xhr.responseType = \"arraybuffer\";\n  xhr.send(null);\n  return xhr.response;\n}\n\nclass IccColorSpace extends ColorSpace {\n  #transformer;\n\n  #convertPixel;\n\n  static #useWasm = true;\n\n  static #wasmUrl = null;\n\n  static #finalizer = new FinalizationRegistry(transformer => {\n    qcms_drop_transformer(transformer);\n  });\n\n  constructor(iccProfile, name, numComps) {\n    if (!IccColorSpace.isUsable) {\n      throw new Error(\"No ICC color space support\");\n    }\n\n    super(name, numComps);\n\n    let inType;\n    switch (numComps) {\n      case 1:\n        inType = DataType.Gray8;\n        this.#convertPixel = (src, srcOffset, css) =>\n          qcms_convert_one(this.#transformer, src[srcOffset] * 255, css);\n        break;\n      case 3:\n        inType = DataType.RGB8;\n        this.#convertPixel = (src, srcOffset, css) =>\n          qcms_convert_three(\n            this.#transformer,\n            src[srcOffset] * 255,\n            src[srcOffset + 1] * 255,\n            src[srcOffset + 2] * 255,\n            css\n          );\n        break;\n      case 4:\n        inType = DataType.CMYK;\n        this.#convertPixel = (src, srcOffset, css) =>\n          qcms_convert_four(\n            this.#transformer,\n            src[srcOffset] * 255,\n            src[srcOffset + 1] * 255,\n            src[srcOffset + 2] * 255,\n            src[srcOffset + 3] * 255,\n            css\n          );\n        break;\n      default:\n        throw new Error(`Unsupported number of components: ${numComps}`);\n    }\n    this.#transformer = qcms_transformer_from_memory(\n      iccProfile,\n      inType,\n      Intent.Perceptual\n    );\n    if (!this.#transformer) {\n      throw new Error(\"Failed to create ICC color space\");\n    }\n    IccColorSpace.#finalizer.register(this, this.#transformer);\n  }\n\n  getRgbHex(src, srcOffset) {\n    this.#convertPixel(src, srcOffset, /* css */ true);\n    return QCMS._cssColor;\n  }\n\n  getRgbItem(src, srcOffset, dest, destOffset) {\n    QCMS._destBuffer = dest;\n    QCMS._destOffset = destOffset;\n    QCMS._destLength = 3;\n    this.#convertPixel(src, srcOffset, /* css */ false);\n    QCMS._destBuffer = null;\n  }\n\n  getRgbBuffer(src, srcOffset, count, dest, destOffset, bits, alpha01) {\n    src = src.subarray(srcOffset, srcOffset + count * this.numComps);\n    if (bits !== 8) {\n      const scale = 255 / ((1 << bits) - 1);\n      for (let i = 0, ii = src.length; i < ii; i++) {\n        src[i] *= scale;\n      }\n    }\n    QCMS._mustAddAlpha = alpha01 && dest.buffer === src.buffer;\n    QCMS._destBuffer = dest;\n    QCMS._destOffset = destOffset;\n    QCMS._destLength = count * (3 + alpha01);\n    qcms_convert_array(this.#transformer, src);\n    QCMS._mustAddAlpha = false;\n    QCMS._destBuffer = null;\n  }\n\n  getOutputLength(inputLength, alpha01) {\n    return ((inputLength / this.numComps) * (3 + alpha01)) | 0;\n  }\n\n  static setOptions({ useWasm, useWorkerFetch, wasmUrl }) {\n    if (!useWorkerFetch) {\n      this.#useWasm = false;\n      return;\n    }\n    this.#useWasm = useWasm;\n    this.#wasmUrl = wasmUrl;\n  }\n\n  static get isUsable() {\n    let isUsable = false;\n    if (this.#useWasm) {\n      if (this.#wasmUrl) {\n        try {\n          this._module = initSync({\n            module: fetchSync(`${this.#wasmUrl}qcms_bg.wasm`),\n          });\n          isUsable = !!this._module;\n          QCMS._memory = this._module.memory;\n          QCMS._makeHexColor = Util.makeHexColor;\n        } catch (e) {\n          warn(`ICCBased color space: \"${e}\".`);\n        }\n      } else {\n        warn(\"No ICC color space support due to missing `wasmUrl` API option\");\n      }\n    }\n\n    return shadow(this, \"isUsable\", isUsable);\n  }\n}\n\nclass CmykICCBasedCS extends IccColorSpace {\n  static #iccUrl;\n\n  constructor() {\n    const iccProfile = new Uint8Array(\n      fetchSync(`${CmykICCBasedCS.#iccUrl}CGATS001Compat-v2-micro.icc`)\n    );\n    super(iccProfile, \"DeviceCMYK\", 4);\n  }\n\n  static setOptions({ iccUrl }) {\n    this.#iccUrl = iccUrl;\n  }\n\n  static get isUsable() {\n    let isUsable = false;\n    if (IccColorSpace.isUsable) {\n      if (this.#iccUrl) {\n        isUsable = true;\n      } else {\n        warn(\"No CMYK ICC profile support due to missing `iccUrl` API option\");\n      }\n    }\n\n    return shadow(this, \"isUsable\", isUsable);\n  }\n}\n\nexport { CmykICCBasedCS, IccColorSpace };\n","/* Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AlternateCS,\n  CalGrayCS,\n  CalRGBCS,\n  DeviceCmykCS,\n  DeviceGrayCS,\n  DeviceRgbaCS,\n  DeviceRgbCS,\n  IndexedCS,\n  LabCS,\n  PatternCS,\n} from \"./colorspace.js\";\nimport { CmykICCBasedCS, IccColorSpace } from \"./icc_colorspace.js\";\nimport { Dict, Name, Ref } from \"./primitives.js\";\nimport { MathClamp, shadow, unreachable, warn } from \"../shared/util.js\";\nimport { MissingDataException } from \"./core_utils.js\";\n\nclass ColorSpaceUtils {\n  static parse({\n    cs,\n    xref,\n    resources = null,\n    pdfFunctionFactory,\n    globalColorSpaceCache,\n    localColorSpaceCache,\n    asyncIfNotCached = false,\n  }) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      (!globalColorSpaceCache || !localColorSpaceCache)\n    ) {\n      unreachable(\n        'ColorSpaceUtils.parse - expected \"globalColorSpaceCache\"/\"localColorSpaceCache\" argument.'\n      );\n    }\n    const options = {\n      xref,\n      resources,\n      pdfFunctionFactory,\n      globalColorSpaceCache,\n      localColorSpaceCache,\n    };\n    let csName, csRef, parsedCS;\n\n    // Check if the ColorSpace is cached first, to avoid re-parsing it.\n    if (cs instanceof Ref) {\n      csRef = cs;\n\n      const cachedCS =\n        globalColorSpaceCache.getByRef(csRef) ||\n        localColorSpaceCache.getByRef(csRef);\n      if (cachedCS) {\n        return cachedCS;\n      }\n      cs = xref.fetch(cs);\n    }\n    if (cs instanceof Name) {\n      csName = cs.name;\n\n      const cachedCS = localColorSpaceCache.getByName(csName);\n      if (cachedCS) {\n        return cachedCS;\n      }\n    }\n\n    try {\n      parsedCS = this.#parse(cs, options);\n    } catch (ex) {\n      if (asyncIfNotCached && !(ex instanceof MissingDataException)) {\n        return Promise.reject(ex);\n      }\n      throw ex;\n    }\n\n    // Attempt to cache the parsed ColorSpace, by name and/or reference.\n    if (csName || csRef) {\n      localColorSpaceCache.set(csName, csRef, parsedCS);\n\n      if (csRef) {\n        globalColorSpaceCache.set(/* name = */ null, csRef, parsedCS);\n      }\n    }\n    return asyncIfNotCached ? Promise.resolve(parsedCS) : parsedCS;\n  }\n\n  /**\n   * NOTE: This method should *only* be invoked from `this.#parse`,\n   *       when parsing \"sub\" ColorSpaces.\n   */\n  static #subParse(cs, options) {\n    const { globalColorSpaceCache } = options;\n    let csRef;\n\n    // Check if the ColorSpace is cached first, to avoid re-parsing it.\n    if (cs instanceof Ref) {\n      csRef = cs;\n\n      const cachedCS = globalColorSpaceCache.getByRef(csRef);\n      if (cachedCS) {\n        return cachedCS;\n      }\n    }\n    const parsedCS = this.#parse(cs, options);\n\n    // Only cache the parsed ColorSpace globally, by reference.\n    if (csRef) {\n      globalColorSpaceCache.set(/* name = */ null, csRef, parsedCS);\n    }\n    return parsedCS;\n  }\n\n  static #parse(cs, options) {\n    const { xref, resources, pdfFunctionFactory, globalColorSpaceCache } =\n      options;\n\n    cs = xref.fetchIfRef(cs);\n    if (cs instanceof Name) {\n      switch (cs.name) {\n        case \"G\":\n        case \"DeviceGray\":\n          return this.gray;\n        case \"RGB\":\n        case \"DeviceRGB\":\n          return this.rgb;\n        case \"DeviceRGBA\":\n          return this.rgba;\n        case \"CMYK\":\n        case \"DeviceCMYK\":\n          return this.cmyk;\n        case \"Pattern\":\n          return new PatternCS(/* baseCS = */ null);\n        default:\n          if (resources instanceof Dict) {\n            const colorSpaces = resources.get(\"ColorSpace\");\n            if (colorSpaces instanceof Dict) {\n              const resourcesCS = colorSpaces.get(cs.name);\n              if (resourcesCS) {\n                if (resourcesCS instanceof Name) {\n                  return this.#parse(resourcesCS, options);\n                }\n                cs = resourcesCS;\n                break;\n              }\n            }\n          }\n          // Fallback to the default gray color space.\n          warn(`Unrecognized ColorSpace: ${cs.name}`);\n          return this.gray;\n      }\n    }\n    if (Array.isArray(cs)) {\n      const mode = xref.fetchIfRef(cs[0]).name;\n      let params, numComps, baseCS, whitePoint, blackPoint, gamma;\n\n      switch (mode) {\n        case \"G\":\n        case \"DeviceGray\":\n          return this.gray;\n        case \"RGB\":\n        case \"DeviceRGB\":\n          return this.rgb;\n        case \"CMYK\":\n        case \"DeviceCMYK\":\n          return this.cmyk;\n        case \"CalGray\":\n          params = xref.fetchIfRef(cs[1]);\n          whitePoint = params.getArray(\"WhitePoint\");\n          blackPoint = params.getArray(\"BlackPoint\");\n          gamma = params.get(\"Gamma\");\n          return new CalGrayCS(whitePoint, blackPoint, gamma);\n        case \"CalRGB\":\n          params = xref.fetchIfRef(cs[1]);\n          whitePoint = params.getArray(\"WhitePoint\");\n          blackPoint = params.getArray(\"BlackPoint\");\n          gamma = params.getArray(\"Gamma\");\n          const matrix = params.getArray(\"Matrix\");\n          return new CalRGBCS(whitePoint, blackPoint, gamma, matrix);\n        case \"ICCBased\":\n          const isRef = cs[1] instanceof Ref;\n          if (isRef) {\n            const cachedCS = globalColorSpaceCache.getByRef(cs[1]);\n            if (cachedCS) {\n              return cachedCS;\n            }\n          }\n\n          const stream = xref.fetchIfRef(cs[1]);\n          const dict = stream.dict;\n          numComps = dict.get(\"N\");\n\n          if (IccColorSpace.isUsable) {\n            try {\n              const iccCS = new IccColorSpace(\n                stream.getBytes(),\n                \"ICCBased\",\n                numComps\n              );\n              if (isRef) {\n                globalColorSpaceCache.set(/* name = */ null, cs[1], iccCS);\n              }\n              return iccCS;\n            } catch (ex) {\n              if (ex instanceof MissingDataException) {\n                throw ex;\n              }\n              warn(`ICCBased color space (${cs[1]}): \"${ex}\".`);\n            }\n          }\n\n          const altRaw = dict.getRaw(\"Alternate\");\n          if (altRaw) {\n            const altCS = this.#subParse(altRaw, options);\n            // Ensure that the number of components are correct,\n            // and also (indirectly) that it is not a PatternCS.\n            if (altCS.numComps === numComps) {\n              return altCS;\n            }\n            warn(\"ICCBased color space: Ignoring incorrect /Alternate entry.\");\n          }\n          if (numComps === 1) {\n            return this.gray;\n          } else if (numComps === 3) {\n            return this.rgb;\n          } else if (numComps === 4) {\n            return this.cmyk;\n          }\n          break;\n        case \"Pattern\":\n          baseCS = cs[1] || null;\n          if (baseCS) {\n            baseCS = this.#subParse(baseCS, options);\n          }\n          return new PatternCS(baseCS);\n        case \"I\":\n        case \"Indexed\":\n          baseCS = this.#subParse(cs[1], options);\n          const hiVal = MathClamp(xref.fetchIfRef(cs[2]), 0, 255);\n          const lookup = xref.fetchIfRef(cs[3]);\n          return new IndexedCS(baseCS, hiVal, lookup);\n        case \"Separation\":\n        case \"DeviceN\":\n          const name = xref.fetchIfRef(cs[1]);\n          numComps = Array.isArray(name) ? name.length : 1;\n          baseCS = this.#subParse(cs[2], options);\n          const tintFn = pdfFunctionFactory.create(cs[3]);\n          return new AlternateCS(numComps, baseCS, tintFn);\n        case \"Lab\":\n          params = xref.fetchIfRef(cs[1]);\n          whitePoint = params.getArray(\"WhitePoint\");\n          blackPoint = params.getArray(\"BlackPoint\");\n          const range = params.getArray(\"Range\");\n          return new LabCS(whitePoint, blackPoint, range);\n        default:\n          // Fallback to the default gray color space.\n          warn(`Unimplemented ColorSpace object: ${mode}`);\n          return this.gray;\n      }\n    }\n    // Fallback to the default gray color space.\n    warn(`Unrecognized ColorSpace object: ${cs}`);\n    return this.gray;\n  }\n\n  static get gray() {\n    return shadow(this, \"gray\", new DeviceGrayCS());\n  }\n\n  static get rgb() {\n    return shadow(this, \"rgb\", new DeviceRgbCS());\n  }\n\n  static get rgba() {\n    return shadow(this, \"rgba\", new DeviceRgbaCS());\n  }\n\n  static get cmyk() {\n    if (CmykICCBasedCS.isUsable) {\n      try {\n        return shadow(this, \"cmyk\", new CmykICCBasedCS());\n      } catch {\n        warn(\"CMYK fallback: DeviceCMYK\");\n      }\n    }\n    return shadow(this, \"cmyk\", new DeviceCmykCS());\n  }\n}\n\nexport { ColorSpaceUtils };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FeatureTest, ImageKind } from \"./util.js\";\n\nfunction convertToRGBA(params) {\n  switch (params.kind) {\n    case ImageKind.GRAYSCALE_1BPP:\n      return convertBlackAndWhiteToRGBA(params);\n    case ImageKind.RGB_24BPP:\n      return convertRGBToRGBA(params);\n  }\n\n  return null;\n}\n\nfunction convertBlackAndWhiteToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  width,\n  height,\n  nonBlackColor = 0xffffffff,\n  inverseDecode = false,\n}) {\n  const black = FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n  const [zeroMapping, oneMapping] = inverseDecode\n    ? [nonBlackColor, black]\n    : [black, nonBlackColor];\n  const widthInSource = width >> 3;\n  const widthRemainder = width & 7;\n  const srcLength = src.length;\n  dest = new Uint32Array(dest.buffer);\n  let destPos = 0;\n\n  for (let i = 0; i < height; i++) {\n    for (const max = srcPos + widthInSource; srcPos < max; srcPos++) {\n      const elem = srcPos < srcLength ? src[srcPos] : 255;\n      dest[destPos++] = elem & 0b10000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1 ? oneMapping : zeroMapping;\n    }\n    if (widthRemainder === 0) {\n      continue;\n    }\n    const elem = srcPos < srcLength ? src[srcPos++] : 255;\n    for (let j = 0; j < widthRemainder; j++) {\n      dest[destPos++] = elem & (1 << (7 - j)) ? oneMapping : zeroMapping;\n    }\n  }\n  return { srcPos, destPos };\n}\n\nfunction convertRGBToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  destPos = 0,\n  width,\n  height,\n}) {\n  let i = 0;\n  const len = width * height * 3;\n  const len32 = len >> 2;\n  const src32 = new Uint32Array(src.buffer, srcPos, len32);\n\n  if (FeatureTest.isLittleEndian) {\n    // It's a way faster to do the shuffle manually instead of working\n    // component by component with some Uint8 arrays.\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i]; // R2B1G1R1\n      const s2 = src32[i + 1]; // G3R3B2G2\n      const s3 = src32[i + 2]; // B4G4R4B3\n\n      dest[destPos] = s1 | 0xff000000;\n      dest[destPos + 1] = (s1 >>> 24) | (s2 << 8) | 0xff000000;\n      dest[destPos + 2] = (s2 >>> 16) | (s3 << 16) | 0xff000000;\n      dest[destPos + 3] = (s3 >>> 8) | 0xff000000;\n    }\n\n    for (let j = i * 4, jj = srcPos + len; j < jj; j += 3) {\n      dest[destPos++] =\n        src[j] | (src[j + 1] << 8) | (src[j + 2] << 16) | 0xff000000;\n    }\n  } else {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i]; // R1G1B1R2\n      const s2 = src32[i + 1]; // G2B2R3G3\n      const s3 = src32[i + 2]; // B3R4G4B4\n\n      dest[destPos] = s1 | 0xff;\n      dest[destPos + 1] = (s1 << 24) | (s2 >>> 8) | 0xff;\n      dest[destPos + 2] = (s2 << 16) | (s3 >>> 16) | 0xff;\n      dest[destPos + 3] = (s3 << 8) | 0xff;\n    }\n\n    for (let j = i * 4, jj = srcPos + len; j < jj; j += 3) {\n      dest[destPos++] =\n        (src[j] << 24) | (src[j + 1] << 16) | (src[j + 2] << 8) | 0xff;\n    }\n  }\n\n  return { srcPos: srcPos + len, destPos };\n}\n\nfunction grayToRGBA(src, dest) {\n  if (FeatureTest.isLittleEndian) {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = (src[i] * 0x10101) | 0xff000000;\n    }\n  } else {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = (src[i] * 0x1010100) | 0x000000ff;\n    }\n  }\n}\n\nexport { convertBlackAndWhiteToRGBA, convertToRGBA, grayToRGBA };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, BaseException, warn } from \"../shared/util.js\";\nimport { ColorSpaceUtils } from \"./colorspace_utils.js\";\nimport { DeviceCmykCS } from \"./colorspace.js\";\nimport { grayToRGBA } from \"../shared/image_utils.js\";\nimport { readUint16 } from \"./core_utils.js\";\n\nclass JpegError extends BaseException {\n  constructor(msg) {\n    super(msg, \"JpegError\");\n  }\n}\n\nclass DNLMarkerError extends BaseException {\n  constructor(message, scanLines) {\n    super(message, \"DNLMarkerError\");\n    this.scanLines = scanLines;\n  }\n}\n\nclass EOIMarkerError extends BaseException {\n  constructor(msg) {\n    super(msg, \"EOIMarkerError\");\n  }\n}\n\n/**\n * This code was forked from https://github.com/notmasteryet/jpgjs.\n * The original version was created by GitHub user notmasteryet.\n *\n * - The JPEG specification can be found in the ITU CCITT Recommendation T.81\n *   (www.w3.org/Graphics/JPEG/itu-t81.pdf)\n * - The JFIF specification can be found in the JPEG File Interchange Format\n *   (www.w3.org/Graphics/JPEG/jfif3.pdf)\n * - The Adobe Application-Specific JPEG markers in the\n *   Supporting the DCT Filters in PostScript Level 2, Technical Note #5116\n *   (partners.adobe.com/public/developer/en/ps/sdk/5116.DCT_Filter.pdf)\n */\n\n// prettier-ignore\nconst dctZigZag = new Uint8Array([\n   0,\n   1,  8,\n  16,  9,  2,\n   3, 10, 17, 24,\n  32, 25, 18, 11, 4,\n   5, 12, 19, 26, 33, 40,\n  48, 41, 34, 27, 20, 13,  6,\n   7, 14, 21, 28, 35, 42, 49, 56,\n  57, 50, 43, 36, 29, 22, 15,\n  23, 30, 37, 44, 51, 58,\n  59, 52, 45, 38, 31,\n  39, 46, 53, 60,\n  61, 54, 47,\n  55, 62,\n  63\n]);\n\nconst dctCos1 = 4017; // cos(pi/16)\nconst dctSin1 = 799; // sin(pi/16)\nconst dctCos3 = 3406; // cos(3*pi/16)\nconst dctSin3 = 2276; // sin(3*pi/16)\nconst dctCos6 = 1567; // cos(6*pi/16)\nconst dctSin6 = 3784; // sin(6*pi/16)\nconst dctSqrt2 = 5793; // sqrt(2)\nconst dctSqrt1d2 = 2896; // sqrt(2) / 2\n\nfunction buildHuffmanTable(codeLengths, values) {\n  let k = 0,\n    i,\n    j,\n    length = 16;\n  while (length > 0 && !codeLengths[length - 1]) {\n    length--;\n  }\n  const code = [{ children: [], index: 0 }];\n  let p = code[0],\n    q;\n  for (i = 0; i < length; i++) {\n    for (j = 0; j < codeLengths[i]; j++) {\n      p = code.pop();\n      p.children[p.index] = values[k];\n      while (p.index > 0) {\n        p = code.pop();\n      }\n      p.index++;\n      code.push(p);\n      while (code.length <= i) {\n        code.push((q = { children: [], index: 0 }));\n        p.children[p.index] = q.children;\n        p = q;\n      }\n      k++;\n    }\n    if (i + 1 < length) {\n      // p here points to last code\n      code.push((q = { children: [], index: 0 }));\n      p.children[p.index] = q.children;\n      p = q;\n    }\n  }\n  return code[0].children;\n}\n\nfunction getBlockBufferOffset(component, row, col) {\n  return 64 * ((component.blocksPerLine + 1) * row + col);\n}\n\nfunction decodeScan(\n  data,\n  offset,\n  frame,\n  components,\n  resetInterval,\n  spectralStart,\n  spectralEnd,\n  successivePrev,\n  successive,\n  parseDNLMarker = false\n) {\n  const mcusPerLine = frame.mcusPerLine;\n  const progressive = frame.progressive;\n\n  const startOffset = offset;\n  let bitsData = 0,\n    bitsCount = 0;\n\n  function readBit() {\n    if (bitsCount > 0) {\n      bitsCount--;\n      return (bitsData >> bitsCount) & 1;\n    }\n    bitsData = data[offset++];\n    if (bitsData === 0xff) {\n      const nextByte = data[offset++];\n      if (nextByte) {\n        if (nextByte === /* DNL = */ 0xdc && parseDNLMarker) {\n          offset += 2; // Skip marker length.\n\n          const scanLines = readUint16(data, offset);\n          offset += 2;\n          if (scanLines > 0 && scanLines !== frame.scanLines) {\n            throw new DNLMarkerError(\n              \"Found DNL marker (0xFFDC) while parsing scan data\",\n              scanLines\n            );\n          }\n        } else if (nextByte === /* EOI = */ 0xd9) {\n          if (parseDNLMarker) {\n            // NOTE: only 8-bit JPEG images are supported in this decoder.\n            const maybeScanLines = blockRow * (frame.precision === 8 ? 8 : 0);\n            // Heuristic to attempt to handle corrupt JPEG images with too\n            // large `scanLines` parameter, by falling back to the currently\n            // parsed number of scanLines when it's at least (approximately)\n            // one \"half\" order of magnitude smaller than expected (fixes\n            // issue10880.pdf, issue10989.pdf, issue15492.pdf).\n            if (\n              maybeScanLines > 0 &&\n              Math.round(frame.scanLines / maybeScanLines) >= 5\n            ) {\n              throw new DNLMarkerError(\n                \"Found EOI marker (0xFFD9) while parsing scan data, \" +\n                  \"possibly caused by incorrect `scanLines` parameter\",\n                maybeScanLines\n              );\n            }\n          }\n          throw new EOIMarkerError(\n            \"Found EOI marker (0xFFD9) while parsing scan data\"\n          );\n        }\n        throw new JpegError(\n          `unexpected marker ${((bitsData << 8) | nextByte).toString(16)}`\n        );\n      }\n      // unstuff 0\n    }\n    bitsCount = 7;\n    return bitsData >>> 7;\n  }\n\n  function decodeHuffman(tree) {\n    let node = tree;\n    while (true) {\n      node = node[readBit()];\n      switch (typeof node) {\n        case \"number\":\n          return node;\n        case \"object\":\n          continue;\n      }\n      throw new JpegError(\"invalid huffman sequence\");\n    }\n  }\n\n  function receive(length) {\n    let n = 0;\n    while (length > 0) {\n      n = (n << 1) | readBit();\n      length--;\n    }\n    return n;\n  }\n\n  function receiveAndExtend(length) {\n    if (length === 1) {\n      return readBit() === 1 ? 1 : -1;\n    }\n    const n = receive(length);\n    if (n >= 1 << (length - 1)) {\n      return n;\n    }\n    return n + (-1 << length) + 1;\n  }\n\n  function decodeBaseline(component, blockOffset) {\n    const t = decodeHuffman(component.huffmanTableDC);\n    const diff = t === 0 ? 0 : receiveAndExtend(t);\n    component.blockData[blockOffset] = component.pred += diff;\n    let k = 1;\n    while (k < 64) {\n      const rs = decodeHuffman(component.huffmanTableAC);\n      const s = rs & 15,\n        r = rs >> 4;\n      if (s === 0) {\n        if (r < 15) {\n          break;\n        }\n        k += 16;\n        continue;\n      }\n      k += r;\n      const z = dctZigZag[k];\n      component.blockData[blockOffset + z] = receiveAndExtend(s);\n      k++;\n    }\n  }\n\n  function decodeDCFirst(component, blockOffset) {\n    const t = decodeHuffman(component.huffmanTableDC);\n    const diff = t === 0 ? 0 : receiveAndExtend(t) << successive;\n    component.blockData[blockOffset] = component.pred += diff;\n  }\n\n  function decodeDCSuccessive(component, blockOffset) {\n    component.blockData[blockOffset] |= readBit() << successive;\n  }\n\n  let eobrun = 0;\n  function decodeACFirst(component, blockOffset) {\n    if (eobrun > 0) {\n      eobrun--;\n      return;\n    }\n    let k = spectralStart;\n    const e = spectralEnd;\n    while (k <= e) {\n      const rs = decodeHuffman(component.huffmanTableAC);\n      const s = rs & 15,\n        r = rs >> 4;\n      if (s === 0) {\n        if (r < 15) {\n          eobrun = receive(r) + (1 << r) - 1;\n          break;\n        }\n        k += 16;\n        continue;\n      }\n      k += r;\n      const z = dctZigZag[k];\n      component.blockData[blockOffset + z] =\n        receiveAndExtend(s) * (1 << successive);\n      k++;\n    }\n  }\n\n  let successiveACState = 0,\n    successiveACNextValue;\n  function decodeACSuccessive(component, blockOffset) {\n    let k = spectralStart;\n    const e = spectralEnd;\n    let r = 0;\n    let s;\n    let rs;\n    while (k <= e) {\n      const offsetZ = blockOffset + dctZigZag[k];\n      const sign = component.blockData[offsetZ] < 0 ? -1 : 1;\n      switch (successiveACState) {\n        case 0: // initial state\n          rs = decodeHuffman(component.huffmanTableAC);\n          s = rs & 15;\n          r = rs >> 4;\n          if (s === 0) {\n            if (r < 15) {\n              eobrun = receive(r) + (1 << r);\n              successiveACState = 4;\n            } else {\n              r = 16;\n              successiveACState = 1;\n            }\n          } else {\n            if (s !== 1) {\n              throw new JpegError(\"invalid ACn encoding\");\n            }\n            successiveACNextValue = receiveAndExtend(s);\n            successiveACState = r ? 2 : 3;\n          }\n          continue;\n        case 1: // skipping r zero items\n        case 2:\n          if (component.blockData[offsetZ]) {\n            component.blockData[offsetZ] += sign * (readBit() << successive);\n          } else {\n            r--;\n            if (r === 0) {\n              successiveACState = successiveACState === 2 ? 3 : 0;\n            }\n          }\n          break;\n        case 3: // set value for a zero item\n          if (component.blockData[offsetZ]) {\n            component.blockData[offsetZ] += sign * (readBit() << successive);\n          } else {\n            component.blockData[offsetZ] = successiveACNextValue << successive;\n            successiveACState = 0;\n          }\n          break;\n        case 4: // eob\n          if (component.blockData[offsetZ]) {\n            component.blockData[offsetZ] += sign * (readBit() << successive);\n          }\n          break;\n      }\n      k++;\n    }\n    if (successiveACState === 4) {\n      eobrun--;\n      if (eobrun === 0) {\n        successiveACState = 0;\n      }\n    }\n  }\n\n  let blockRow = 0;\n  function decodeMcu(component, decode, mcu, row, col) {\n    const mcuRow = (mcu / mcusPerLine) | 0;\n    const mcuCol = mcu % mcusPerLine;\n    blockRow = mcuRow * component.v + row;\n    const blockCol = mcuCol * component.h + col;\n    const blockOffset = getBlockBufferOffset(component, blockRow, blockCol);\n    decode(component, blockOffset);\n  }\n\n  function decodeBlock(component, decode, mcu) {\n    blockRow = (mcu / component.blocksPerLine) | 0;\n    const blockCol = mcu % component.blocksPerLine;\n    const blockOffset = getBlockBufferOffset(component, blockRow, blockCol);\n    decode(component, blockOffset);\n  }\n\n  const componentsLength = components.length;\n  let component, i, j, k, n;\n  let decodeFn;\n  if (progressive) {\n    if (spectralStart === 0) {\n      decodeFn = successivePrev === 0 ? decodeDCFirst : decodeDCSuccessive;\n    } else {\n      decodeFn = successivePrev === 0 ? decodeACFirst : decodeACSuccessive;\n    }\n  } else {\n    decodeFn = decodeBaseline;\n  }\n\n  let mcu = 0,\n    fileMarker;\n  const mcuExpected =\n    componentsLength === 1\n      ? components[0].blocksPerLine * components[0].blocksPerColumn\n      : mcusPerLine * frame.mcusPerColumn;\n\n  let h, v;\n  while (mcu <= mcuExpected) {\n    // reset interval stuff\n    const mcuToRead = resetInterval\n      ? Math.min(mcuExpected - mcu, resetInterval)\n      : mcuExpected;\n\n    // The `mcuToRead === 0` case should only occur when all of the expected\n    // MCU data has been already parsed, i.e. when `mcu === mcuExpected`, but\n    // some corrupt JPEG images contain more data than intended and we thus\n    // want to skip over any extra RSTx markers below (fixes issue11794.pdf).\n    if (mcuToRead > 0) {\n      for (i = 0; i < componentsLength; i++) {\n        components[i].pred = 0;\n      }\n      eobrun = 0;\n\n      if (componentsLength === 1) {\n        component = components[0];\n        for (n = 0; n < mcuToRead; n++) {\n          decodeBlock(component, decodeFn, mcu);\n          mcu++;\n        }\n      } else {\n        for (n = 0; n < mcuToRead; n++) {\n          for (i = 0; i < componentsLength; i++) {\n            component = components[i];\n            h = component.h;\n            v = component.v;\n            for (j = 0; j < v; j++) {\n              for (k = 0; k < h; k++) {\n                decodeMcu(component, decodeFn, mcu, j, k);\n              }\n            }\n          }\n          mcu++;\n        }\n      }\n    }\n\n    // find marker\n    bitsCount = 0;\n    fileMarker = findNextFileMarker(data, offset);\n    if (!fileMarker) {\n      break; // Reached the end of the image data without finding any marker.\n    }\n    if (fileMarker.invalid) {\n      // Some bad images seem to pad Scan blocks with e.g. zero bytes, skip\n      // past those to attempt to find a valid marker (fixes issue4090.pdf).\n      const partialMsg = mcuToRead > 0 ? \"unexpected\" : \"excessive\";\n      warn(\n        `decodeScan - ${partialMsg} MCU data, current marker is: ${fileMarker.invalid}`\n      );\n      offset = fileMarker.offset;\n    }\n    if (fileMarker.marker >= 0xffd0 && fileMarker.marker <= 0xffd7) {\n      // RSTx\n      offset += 2;\n    } else {\n      break;\n    }\n  }\n\n  return offset - startOffset;\n}\n\n// A port of poppler's IDCT method which in turn is taken from:\n//   Christoph Loeffler, Adriaan Ligtenberg, George S. Moschytz,\n//   'Practical Fast 1-D DCT Algorithms with 11 Multiplications',\n//   IEEE Intl. Conf. on Acoustics, Speech & Signal Processing, 1989,\n//   988-991.\nfunction quantizeAndInverse(component, blockBufferOffset, p) {\n  const qt = component.quantizationTable,\n    blockData = component.blockData;\n  let v0, v1, v2, v3, v4, v5, v6, v7;\n  let p0, p1, p2, p3, p4, p5, p6, p7;\n  let t;\n\n  if (!qt) {\n    throw new JpegError(\"missing required Quantization Table.\");\n  }\n\n  // inverse DCT on rows\n  for (let row = 0; row < 64; row += 8) {\n    // gather block data\n    p0 = blockData[blockBufferOffset + row];\n    p1 = blockData[blockBufferOffset + row + 1];\n    p2 = blockData[blockBufferOffset + row + 2];\n    p3 = blockData[blockBufferOffset + row + 3];\n    p4 = blockData[blockBufferOffset + row + 4];\n    p5 = blockData[blockBufferOffset + row + 5];\n    p6 = blockData[blockBufferOffset + row + 6];\n    p7 = blockData[blockBufferOffset + row + 7];\n\n    // dequant p0\n    p0 *= qt[row];\n\n    // check for all-zero AC coefficients\n    if ((p1 | p2 | p3 | p4 | p5 | p6 | p7) === 0) {\n      t = (dctSqrt2 * p0 + 512) >> 10;\n      p[row] = t;\n      p[row + 1] = t;\n      p[row + 2] = t;\n      p[row + 3] = t;\n      p[row + 4] = t;\n      p[row + 5] = t;\n      p[row + 6] = t;\n      p[row + 7] = t;\n      continue;\n    }\n    // dequant p1 ... p7\n    p1 *= qt[row + 1];\n    p2 *= qt[row + 2];\n    p3 *= qt[row + 3];\n    p4 *= qt[row + 4];\n    p5 *= qt[row + 5];\n    p6 *= qt[row + 6];\n    p7 *= qt[row + 7];\n\n    // stage 4\n    v0 = (dctSqrt2 * p0 + 128) >> 8;\n    v1 = (dctSqrt2 * p4 + 128) >> 8;\n    v2 = p2;\n    v3 = p6;\n    v4 = (dctSqrt1d2 * (p1 - p7) + 128) >> 8;\n    v7 = (dctSqrt1d2 * (p1 + p7) + 128) >> 8;\n    v5 = p3 << 4;\n    v6 = p5 << 4;\n\n    // stage 3\n    v0 = (v0 + v1 + 1) >> 1;\n    v1 = v0 - v1;\n    t = (v2 * dctSin6 + v3 * dctCos6 + 128) >> 8;\n    v2 = (v2 * dctCos6 - v3 * dctSin6 + 128) >> 8;\n    v3 = t;\n    v4 = (v4 + v6 + 1) >> 1;\n    v6 = v4 - v6;\n    v7 = (v7 + v5 + 1) >> 1;\n    v5 = v7 - v5;\n\n    // stage 2\n    v0 = (v0 + v3 + 1) >> 1;\n    v3 = v0 - v3;\n    v1 = (v1 + v2 + 1) >> 1;\n    v2 = v1 - v2;\n    t = (v4 * dctSin3 + v7 * dctCos3 + 2048) >> 12;\n    v4 = (v4 * dctCos3 - v7 * dctSin3 + 2048) >> 12;\n    v7 = t;\n    t = (v5 * dctSin1 + v6 * dctCos1 + 2048) >> 12;\n    v5 = (v5 * dctCos1 - v6 * dctSin1 + 2048) >> 12;\n    v6 = t;\n\n    // stage 1\n    p[row] = v0 + v7;\n    p[row + 7] = v0 - v7;\n    p[row + 1] = v1 + v6;\n    p[row + 6] = v1 - v6;\n    p[row + 2] = v2 + v5;\n    p[row + 5] = v2 - v5;\n    p[row + 3] = v3 + v4;\n    p[row + 4] = v3 - v4;\n  }\n\n  // inverse DCT on columns\n  for (let col = 0; col < 8; ++col) {\n    p0 = p[col];\n    p1 = p[col + 8];\n    p2 = p[col + 16];\n    p3 = p[col + 24];\n    p4 = p[col + 32];\n    p5 = p[col + 40];\n    p6 = p[col + 48];\n    p7 = p[col + 56];\n\n    // check for all-zero AC coefficients\n    if ((p1 | p2 | p3 | p4 | p5 | p6 | p7) === 0) {\n      t = (dctSqrt2 * p0 + 8192) >> 14;\n      // Convert to 8-bit.\n      if (t < -2040) {\n        t = 0;\n      } else if (t >= 2024) {\n        t = 255;\n      } else {\n        t = (t + 2056) >> 4;\n      }\n      blockData[blockBufferOffset + col] = t;\n      blockData[blockBufferOffset + col + 8] = t;\n      blockData[blockBufferOffset + col + 16] = t;\n      blockData[blockBufferOffset + col + 24] = t;\n      blockData[blockBufferOffset + col + 32] = t;\n      blockData[blockBufferOffset + col + 40] = t;\n      blockData[blockBufferOffset + col + 48] = t;\n      blockData[blockBufferOffset + col + 56] = t;\n      continue;\n    }\n\n    // stage 4\n    v0 = (dctSqrt2 * p0 + 2048) >> 12;\n    v1 = (dctSqrt2 * p4 + 2048) >> 12;\n    v2 = p2;\n    v3 = p6;\n    v4 = (dctSqrt1d2 * (p1 - p7) + 2048) >> 12;\n    v7 = (dctSqrt1d2 * (p1 + p7) + 2048) >> 12;\n    v5 = p3;\n    v6 = p5;\n\n    // stage 3\n    // Shift v0 by 128.5 << 5 here, so we don't need to shift p0...p7 when\n    // converting to UInt8 range later.\n    v0 = ((v0 + v1 + 1) >> 1) + 4112;\n    v1 = v0 - v1;\n    t = (v2 * dctSin6 + v3 * dctCos6 + 2048) >> 12;\n    v2 = (v2 * dctCos6 - v3 * dctSin6 + 2048) >> 12;\n    v3 = t;\n    v4 = (v4 + v6 + 1) >> 1;\n    v6 = v4 - v6;\n    v7 = (v7 + v5 + 1) >> 1;\n    v5 = v7 - v5;\n\n    // stage 2\n    v0 = (v0 + v3 + 1) >> 1;\n    v3 = v0 - v3;\n    v1 = (v1 + v2 + 1) >> 1;\n    v2 = v1 - v2;\n    t = (v4 * dctSin3 + v7 * dctCos3 + 2048) >> 12;\n    v4 = (v4 * dctCos3 - v7 * dctSin3 + 2048) >> 12;\n    v7 = t;\n    t = (v5 * dctSin1 + v6 * dctCos1 + 2048) >> 12;\n    v5 = (v5 * dctCos1 - v6 * dctSin1 + 2048) >> 12;\n    v6 = t;\n\n    // stage 1\n    p0 = v0 + v7;\n    p7 = v0 - v7;\n    p1 = v1 + v6;\n    p6 = v1 - v6;\n    p2 = v2 + v5;\n    p5 = v2 - v5;\n    p3 = v3 + v4;\n    p4 = v3 - v4;\n\n    // Convert to 8-bit integers.\n    if (p0 < 16) {\n      p0 = 0;\n    } else if (p0 >= 4080) {\n      p0 = 255;\n    } else {\n      p0 >>= 4;\n    }\n    if (p1 < 16) {\n      p1 = 0;\n    } else if (p1 >= 4080) {\n      p1 = 255;\n    } else {\n      p1 >>= 4;\n    }\n    if (p2 < 16) {\n      p2 = 0;\n    } else if (p2 >= 4080) {\n      p2 = 255;\n    } else {\n      p2 >>= 4;\n    }\n    if (p3 < 16) {\n      p3 = 0;\n    } else if (p3 >= 4080) {\n      p3 = 255;\n    } else {\n      p3 >>= 4;\n    }\n    if (p4 < 16) {\n      p4 = 0;\n    } else if (p4 >= 4080) {\n      p4 = 255;\n    } else {\n      p4 >>= 4;\n    }\n    if (p5 < 16) {\n      p5 = 0;\n    } else if (p5 >= 4080) {\n      p5 = 255;\n    } else {\n      p5 >>= 4;\n    }\n    if (p6 < 16) {\n      p6 = 0;\n    } else if (p6 >= 4080) {\n      p6 = 255;\n    } else {\n      p6 >>= 4;\n    }\n    if (p7 < 16) {\n      p7 = 0;\n    } else if (p7 >= 4080) {\n      p7 = 255;\n    } else {\n      p7 >>= 4;\n    }\n\n    // store block data\n    blockData[blockBufferOffset + col] = p0;\n    blockData[blockBufferOffset + col + 8] = p1;\n    blockData[blockBufferOffset + col + 16] = p2;\n    blockData[blockBufferOffset + col + 24] = p3;\n    blockData[blockBufferOffset + col + 32] = p4;\n    blockData[blockBufferOffset + col + 40] = p5;\n    blockData[blockBufferOffset + col + 48] = p6;\n    blockData[blockBufferOffset + col + 56] = p7;\n  }\n}\n\nfunction buildComponentData(frame, component) {\n  const blocksPerLine = component.blocksPerLine;\n  const blocksPerColumn = component.blocksPerColumn;\n  const computationBuffer = new Int16Array(64);\n\n  for (let blockRow = 0; blockRow < blocksPerColumn; blockRow++) {\n    for (let blockCol = 0; blockCol < blocksPerLine; blockCol++) {\n      const offset = getBlockBufferOffset(component, blockRow, blockCol);\n      quantizeAndInverse(component, offset, computationBuffer);\n    }\n  }\n  return component.blockData;\n}\n\nfunction findNextFileMarker(data, currentPos, startPos = currentPos) {\n  const maxPos = data.length - 1;\n  let newPos = startPos < currentPos ? startPos : currentPos;\n\n  if (currentPos >= maxPos) {\n    return null; // Don't attempt to read non-existent data and just return.\n  }\n  const currentMarker = readUint16(data, currentPos);\n  if (currentMarker >= 0xffc0 && currentMarker <= 0xfffe) {\n    return {\n      invalid: null,\n      marker: currentMarker,\n      offset: currentPos,\n    };\n  }\n  let newMarker = readUint16(data, newPos);\n  while (!(newMarker >= 0xffc0 && newMarker <= 0xfffe)) {\n    if (++newPos >= maxPos) {\n      return null; // Don't attempt to read non-existent data and just return.\n    }\n    newMarker = readUint16(data, newPos);\n  }\n  return {\n    invalid: currentMarker.toString(16),\n    marker: newMarker,\n    offset: newPos,\n  };\n}\n\nfunction prepareComponents(frame) {\n  const mcusPerLine = Math.ceil(frame.samplesPerLine / 8 / frame.maxH);\n  const mcusPerColumn = Math.ceil(frame.scanLines / 8 / frame.maxV);\n  for (const component of frame.components) {\n    const blocksPerLine = Math.ceil(\n      (Math.ceil(frame.samplesPerLine / 8) * component.h) / frame.maxH\n    );\n    const blocksPerColumn = Math.ceil(\n      (Math.ceil(frame.scanLines / 8) * component.v) / frame.maxV\n    );\n    const blocksPerLineForMcu = mcusPerLine * component.h;\n    const blocksPerColumnForMcu = mcusPerColumn * component.v;\n\n    const blocksBufferSize =\n      64 * blocksPerColumnForMcu * (blocksPerLineForMcu + 1);\n    component.blockData = new Int16Array(blocksBufferSize);\n    component.blocksPerLine = blocksPerLine;\n    component.blocksPerColumn = blocksPerColumn;\n  }\n  frame.mcusPerLine = mcusPerLine;\n  frame.mcusPerColumn = mcusPerColumn;\n}\n\nfunction readDataBlock(data, offset) {\n  const length = readUint16(data, offset);\n  offset += 2;\n  let endOffset = offset + length - 2;\n\n  const fileMarker = findNextFileMarker(data, endOffset, offset);\n  if (fileMarker?.invalid) {\n    warn(\n      \"readDataBlock - incorrect length, current marker is: \" +\n        fileMarker.invalid\n    );\n    endOffset = fileMarker.offset;\n  }\n\n  const array = data.subarray(offset, endOffset);\n  return {\n    appData: array,\n    oldOffset: offset,\n    newOffset: offset + array.length,\n  };\n}\n\nfunction skipData(data, offset) {\n  const length = readUint16(data, offset);\n  offset += 2;\n  const endOffset = offset + length - 2;\n\n  const fileMarker = findNextFileMarker(data, endOffset, offset);\n  if (fileMarker?.invalid) {\n    return fileMarker.offset;\n  }\n  return endOffset;\n}\n\nclass JpegImage {\n  constructor({ decodeTransform = null, colorTransform = -1 } = {}) {\n    this._decodeTransform = decodeTransform;\n    this._colorTransform = colorTransform;\n  }\n\n  static canUseImageDecoder(data, colorTransform = -1) {\n    let exifOffsets = null;\n    let offset = 0;\n    let numComponents = null;\n    let fileMarker = readUint16(data, offset);\n    offset += 2;\n    if (fileMarker !== /* SOI (Start of Image) = */ 0xffd8) {\n      throw new JpegError(\"SOI not found\");\n    }\n    fileMarker = readUint16(data, offset);\n    offset += 2;\n\n    markerLoop: while (fileMarker !== /* EOI (End of Image) = */ 0xffd9) {\n      switch (fileMarker) {\n        case 0xffe1: // APP1 - Exif\n          // TODO: Remove this once https://github.com/w3c/webcodecs/issues/870\n          //       is fixed.\n          const { appData, oldOffset, newOffset } = readDataBlock(data, offset);\n          offset = newOffset;\n\n          // 'Exif\\x00\\x00'\n          if (\n            appData[0] === 0x45 &&\n            appData[1] === 0x78 &&\n            appData[2] === 0x69 &&\n            appData[3] === 0x66 &&\n            appData[4] === 0 &&\n            appData[5] === 0\n          ) {\n            if (exifOffsets) {\n              throw new JpegError(\"Duplicate EXIF-blocks found.\");\n            }\n            // Don't do the EXIF-block replacement here, see `JpegStream`,\n            // since that can modify the original PDF document.\n            exifOffsets = { exifStart: oldOffset + 6, exifEnd: newOffset };\n          }\n          fileMarker = readUint16(data, offset);\n          offset += 2;\n          continue;\n        case 0xffc0: // SOF0 (Start of Frame, Baseline DCT)\n        case 0xffc1: // SOF1 (Start of Frame, Extended DCT)\n        case 0xffc2: // SOF2 (Start of Frame, Progressive DCT)\n          // Skip marker length.\n          // Skip precision.\n          // Skip scanLines.\n          // Skip samplesPerLine.\n          numComponents = data[offset + (2 + 1 + 2 + 2)];\n          break markerLoop;\n        case 0xffff: // Fill bytes\n          if (data[offset] !== 0xff) {\n            // Avoid skipping a valid marker.\n            offset--;\n          }\n          break;\n      }\n      offset = skipData(data, offset);\n      fileMarker = readUint16(data, offset);\n      offset += 2;\n    }\n    if (numComponents === 4) {\n      return null;\n    }\n    if (numComponents === 3 && colorTransform === 0) {\n      return null;\n    }\n    return exifOffsets || {};\n  }\n\n  parse(data, { dnlScanLines = null } = {}) {\n    let offset = 0;\n    let jfif = null;\n    let adobe = null;\n    let frame, resetInterval;\n    let numSOSMarkers = 0;\n    const quantizationTables = [];\n    const huffmanTablesAC = [],\n      huffmanTablesDC = [];\n\n    let fileMarker = readUint16(data, offset);\n    offset += 2;\n    if (fileMarker !== /* SOI (Start of Image) = */ 0xffd8) {\n      throw new JpegError(\"SOI not found\");\n    }\n    fileMarker = readUint16(data, offset);\n    offset += 2;\n\n    markerLoop: while (fileMarker !== /* EOI (End of Image) = */ 0xffd9) {\n      let i, j, l;\n      switch (fileMarker) {\n        case 0xffe0: // APP0 (Application Specific)\n        case 0xffe1: // APP1\n        case 0xffe2: // APP2\n        case 0xffe3: // APP3\n        case 0xffe4: // APP4\n        case 0xffe5: // APP5\n        case 0xffe6: // APP6\n        case 0xffe7: // APP7\n        case 0xffe8: // APP8\n        case 0xffe9: // APP9\n        case 0xffea: // APP10\n        case 0xffeb: // APP11\n        case 0xffec: // APP12\n        case 0xffed: // APP13\n        case 0xffee: // APP14\n        case 0xffef: // APP15\n        case 0xfffe: // COM (Comment)\n          const { appData, newOffset } = readDataBlock(data, offset);\n          offset = newOffset;\n\n          if (fileMarker === 0xffe0) {\n            // 'JFIF\\x00'\n            if (\n              appData[0] === 0x4a &&\n              appData[1] === 0x46 &&\n              appData[2] === 0x49 &&\n              appData[3] === 0x46 &&\n              appData[4] === 0\n            ) {\n              jfif = {\n                version: { major: appData[5], minor: appData[6] },\n                densityUnits: appData[7],\n                xDensity: (appData[8] << 8) | appData[9],\n                yDensity: (appData[10] << 8) | appData[11],\n                thumbWidth: appData[12],\n                thumbHeight: appData[13],\n                thumbData: appData.subarray(\n                  14,\n                  14 + 3 * appData[12] * appData[13]\n                ),\n              };\n            }\n          }\n          // TODO APP1 - Exif\n          if (fileMarker === 0xffee) {\n            // 'Adobe'\n            if (\n              appData[0] === 0x41 &&\n              appData[1] === 0x64 &&\n              appData[2] === 0x6f &&\n              appData[3] === 0x62 &&\n              appData[4] === 0x65\n            ) {\n              adobe = {\n                version: (appData[5] << 8) | appData[6],\n                flags0: (appData[7] << 8) | appData[8],\n                flags1: (appData[9] << 8) | appData[10],\n                transformCode: appData[11],\n              };\n            }\n          }\n          break;\n\n        case 0xffdb: // DQT (Define Quantization Tables)\n          const quantizationTablesLength = readUint16(data, offset);\n          offset += 2;\n          const quantizationTablesEnd = quantizationTablesLength + offset - 2;\n          let z;\n          while (offset < quantizationTablesEnd) {\n            const quantizationTableSpec = data[offset++];\n            const tableData = new Uint16Array(64);\n            if (quantizationTableSpec >> 4 === 0) {\n              // 8 bit values\n              for (j = 0; j < 64; j++) {\n                z = dctZigZag[j];\n                tableData[z] = data[offset++];\n              }\n            } else if (quantizationTableSpec >> 4 === 1) {\n              // 16 bit values\n              for (j = 0; j < 64; j++) {\n                z = dctZigZag[j];\n                tableData[z] = readUint16(data, offset);\n                offset += 2;\n              }\n            } else {\n              throw new JpegError(\"DQT - invalid table spec\");\n            }\n            quantizationTables[quantizationTableSpec & 15] = tableData;\n          }\n          break;\n\n        case 0xffc0: // SOF0 (Start of Frame, Baseline DCT)\n        case 0xffc1: // SOF1 (Start of Frame, Extended DCT)\n        case 0xffc2: // SOF2 (Start of Frame, Progressive DCT)\n          if (frame) {\n            throw new JpegError(\"Only single frame JPEGs supported\");\n          }\n          offset += 2; // Skip marker length.\n\n          frame = {};\n          frame.extended = fileMarker === 0xffc1;\n          frame.progressive = fileMarker === 0xffc2;\n          frame.precision = data[offset++];\n          const sofScanLines = readUint16(data, offset);\n          offset += 2;\n          frame.scanLines = dnlScanLines || sofScanLines;\n          frame.samplesPerLine = readUint16(data, offset);\n          offset += 2;\n          frame.components = [];\n          frame.componentIds = {};\n          const componentsCount = data[offset++];\n          let maxH = 0,\n            maxV = 0;\n          for (i = 0; i < componentsCount; i++) {\n            const componentId = data[offset];\n            const h = data[offset + 1] >> 4;\n            const v = data[offset + 1] & 15;\n            if (maxH < h) {\n              maxH = h;\n            }\n            if (maxV < v) {\n              maxV = v;\n            }\n            const qId = data[offset + 2];\n            l = frame.components.push({\n              h,\n              v,\n              quantizationId: qId,\n              quantizationTable: null, // See comment below.\n            });\n            frame.componentIds[componentId] = l - 1;\n            offset += 3;\n          }\n          frame.maxH = maxH;\n          frame.maxV = maxV;\n          prepareComponents(frame);\n          break;\n\n        case 0xffc4: // DHT (Define Huffman Tables)\n          const huffmanLength = readUint16(data, offset);\n          offset += 2;\n          for (i = 2; i < huffmanLength; ) {\n            const huffmanTableSpec = data[offset++];\n            const codeLengths = new Uint8Array(16);\n            let codeLengthSum = 0;\n            for (j = 0; j < 16; j++, offset++) {\n              codeLengthSum += codeLengths[j] = data[offset];\n            }\n            const huffmanValues = new Uint8Array(codeLengthSum);\n            for (j = 0; j < codeLengthSum; j++, offset++) {\n              huffmanValues[j] = data[offset];\n            }\n            i += 17 + codeLengthSum;\n\n            (huffmanTableSpec >> 4 === 0 ? huffmanTablesDC : huffmanTablesAC)[\n              huffmanTableSpec & 15\n            ] = buildHuffmanTable(codeLengths, huffmanValues);\n          }\n          break;\n\n        case 0xffdd: // DRI (Define Restart Interval)\n          offset += 2; // Skip marker length.\n\n          resetInterval = readUint16(data, offset);\n          offset += 2;\n          break;\n\n        case 0xffda: // SOS (Start of Scan)\n          // A DNL marker (0xFFDC), if it exists, is only allowed at the end\n          // of the first scan segment and may only occur once in an image.\n          // Furthermore, to prevent an infinite loop, do *not* attempt to\n          // parse DNL markers during re-parsing of the JPEG scan data.\n          const parseDNLMarker = ++numSOSMarkers === 1 && !dnlScanLines;\n\n          offset += 2; // Skip marker length.\n\n          const selectorsCount = data[offset++],\n            components = [];\n          for (i = 0; i < selectorsCount; i++) {\n            const index = data[offset++];\n            const componentIndex = frame.componentIds[index];\n            const component = frame.components[componentIndex];\n            component.index = index;\n            const tableSpec = data[offset++];\n            component.huffmanTableDC = huffmanTablesDC[tableSpec >> 4];\n            component.huffmanTableAC = huffmanTablesAC[tableSpec & 15];\n            components.push(component);\n          }\n          const spectralStart = data[offset++],\n            spectralEnd = data[offset++],\n            successiveApproximation = data[offset++];\n          try {\n            const processed = decodeScan(\n              data,\n              offset,\n              frame,\n              components,\n              resetInterval,\n              spectralStart,\n              spectralEnd,\n              successiveApproximation >> 4,\n              successiveApproximation & 15,\n              parseDNLMarker\n            );\n            offset += processed;\n          } catch (ex) {\n            if (ex instanceof DNLMarkerError) {\n              warn(`${ex.message} -- attempting to re-parse the JPEG image.`);\n              return this.parse(data, { dnlScanLines: ex.scanLines });\n            } else if (ex instanceof EOIMarkerError) {\n              warn(`${ex.message} -- ignoring the rest of the image data.`);\n              break markerLoop;\n            }\n            throw ex;\n          }\n          break;\n\n        case 0xffdc: // DNL (Define Number of Lines)\n          // Ignore the marker, since it's being handled in `decodeScan`.\n          offset += 4;\n          break;\n\n        case 0xffff: // Fill bytes\n          if (data[offset] !== 0xff) {\n            // Avoid skipping a valid marker.\n            offset--;\n          }\n          break;\n\n        default:\n          // Could be incorrect encoding -- the last 0xFF byte of the previous\n          // block could have been eaten by the encoder, hence we fallback to\n          // `startPos = offset - 3` when looking for the next valid marker.\n          const nextFileMarker = findNextFileMarker(\n            data,\n            /* currentPos = */ offset - 2,\n            /* startPos = */ offset - 3\n          );\n          if (nextFileMarker?.invalid) {\n            warn(\n              \"JpegImage.parse - unexpected data, current marker is: \" +\n                nextFileMarker.invalid\n            );\n            offset = nextFileMarker.offset;\n            break;\n          }\n          if (!nextFileMarker || offset >= data.length - 1) {\n            warn(\n              \"JpegImage.parse - reached the end of the image data \" +\n                \"without finding an EOI marker (0xFFD9).\"\n            );\n            break markerLoop;\n          }\n          throw new JpegError(\n            \"JpegImage.parse - unknown marker: \" + fileMarker.toString(16)\n          );\n      }\n      fileMarker = readUint16(data, offset);\n      offset += 2;\n    }\n\n    if (!frame) {\n      throw new JpegError(\"JpegImage.parse - no frame data found.\");\n    }\n    this.width = frame.samplesPerLine;\n    this.height = frame.scanLines;\n    this.jfif = jfif;\n    this.adobe = adobe;\n    this.components = [];\n    for (const component of frame.components) {\n      // Prevent errors when DQT markers are placed after SOF{n} markers,\n      // by assigning the `quantizationTable` entry after the entire image\n      // has been parsed (fixes issue7406.pdf).\n      const quantizationTable = quantizationTables[component.quantizationId];\n      if (quantizationTable) {\n        component.quantizationTable = quantizationTable;\n      }\n\n      this.components.push({\n        index: component.index,\n        output: buildComponentData(frame, component),\n        scaleX: component.h / frame.maxH,\n        scaleY: component.v / frame.maxV,\n        blocksPerLine: component.blocksPerLine,\n        blocksPerColumn: component.blocksPerColumn,\n      });\n    }\n    this.numComponents = this.components.length;\n    return undefined;\n  }\n\n  _getLinearizedBlockData(width, height, isSourcePDF = false) {\n    const scaleX = this.width / width,\n      scaleY = this.height / height;\n\n    let component, componentScaleX, componentScaleY, blocksPerScanline;\n    let x, y, i, j, k;\n    let index;\n    let offset = 0;\n    let output;\n    const numComponents = this.components.length;\n    const dataLength = width * height * numComponents;\n    const data = new Uint8ClampedArray(dataLength);\n    const xScaleBlockOffset = new Uint32Array(width);\n    const mask3LSB = 0xfffffff8; // used to clear the 3 LSBs\n    let lastComponentScaleX;\n\n    for (i = 0; i < numComponents; i++) {\n      component = this.components[i];\n      componentScaleX = component.scaleX * scaleX;\n      componentScaleY = component.scaleY * scaleY;\n      offset = i;\n      output = component.output;\n      blocksPerScanline = (component.blocksPerLine + 1) << 3;\n      // Precalculate the `xScaleBlockOffset`. Since it doesn't depend on the\n      // component data, that's only necessary when `componentScaleX` changes.\n      if (componentScaleX !== lastComponentScaleX) {\n        for (x = 0; x < width; x++) {\n          j = 0 | (x * componentScaleX);\n          xScaleBlockOffset[x] = ((j & mask3LSB) << 3) | (j & 7);\n        }\n        lastComponentScaleX = componentScaleX;\n      }\n      // linearize the blocks of the component\n      for (y = 0; y < height; y++) {\n        j = 0 | (y * componentScaleY);\n        index = (blocksPerScanline * (j & mask3LSB)) | ((j & 7) << 3);\n        for (x = 0; x < width; x++) {\n          data[offset] = output[index + xScaleBlockOffset[x]];\n          offset += numComponents;\n        }\n      }\n    }\n\n    // decodeTransform contains pairs of multiplier (-256..256) and additive\n    let transform = this._decodeTransform;\n\n    // In PDF files, JPEG images with CMYK colour spaces are usually inverted\n    // (this can be observed by extracting the raw image data).\n    // Since the conversion algorithms (see below) were written primarily for\n    // the PDF use-cases, attempting to use `JpegImage` to parse standalone\n    // JPEG (CMYK) images may thus result in inverted images (see issue 9513).\n    //\n    // Unfortunately it's not (always) possible to tell, from the image data\n    // alone, if it needs to be inverted. Thus in an attempt to provide better\n    // out-of-box behaviour when `JpegImage` is used standalone, default to\n    // inverting JPEG (CMYK) images if and only if the image data does *not*\n    // come from a PDF file and no `decodeTransform` was passed by the user.\n    if (!isSourcePDF && numComponents === 4 && !transform) {\n      transform = new Int32Array([-256, 255, -256, 255, -256, 255, -256, 255]);\n    }\n\n    if (transform) {\n      for (i = 0; i < dataLength; ) {\n        for (j = 0, k = 0; j < numComponents; j++, i++, k += 2) {\n          data[i] = ((data[i] * transform[k]) >> 8) + transform[k + 1];\n        }\n      }\n    }\n    return data;\n  }\n\n  get _isColorConversionNeeded() {\n    if (this.adobe) {\n      // The adobe transform marker overrides any previous setting.\n      return !!this.adobe.transformCode;\n    }\n    if (this.numComponents === 3) {\n      if (this._colorTransform === 0) {\n        // If the Adobe transform marker is not present and the image\n        // dictionary has a 'ColorTransform' entry, explicitly set to `0`,\n        // then the colours should *not* be transformed.\n        return false;\n      } else if (\n        this.components[0].index === /* \"R\" = */ 0x52 &&\n        this.components[1].index === /* \"G\" = */ 0x47 &&\n        this.components[2].index === /* \"B\" = */ 0x42\n      ) {\n        // If the three components are indexed as RGB in ASCII\n        // then the colours should *not* be transformed.\n        return false;\n      }\n      return true;\n    }\n    // `this.numComponents !== 3`\n    if (this._colorTransform === 1) {\n      // If the Adobe transform marker is not present and the image\n      // dictionary has a 'ColorTransform' entry, explicitly set to `1`,\n      // then the colours should be transformed.\n      return true;\n    }\n    return false;\n  }\n\n  _convertYccToRgb(data) {\n    let Y, Cb, Cr;\n    for (let i = 0, length = data.length; i < length; i += 3) {\n      Y = data[i];\n      Cb = data[i + 1];\n      Cr = data[i + 2];\n      data[i] = Y - 179.456 + 1.402 * Cr;\n      data[i + 1] = Y + 135.459 - 0.344 * Cb - 0.714 * Cr;\n      data[i + 2] = Y - 226.816 + 1.772 * Cb;\n    }\n    return data;\n  }\n\n  _convertYccToRgba(data, out) {\n    for (let i = 0, j = 0, length = data.length; i < length; i += 3, j += 4) {\n      const Y = data[i];\n      const Cb = data[i + 1];\n      const Cr = data[i + 2];\n      out[j] = Y - 179.456 + 1.402 * Cr;\n      out[j + 1] = Y + 135.459 - 0.344 * Cb - 0.714 * Cr;\n      out[j + 2] = Y - 226.816 + 1.772 * Cb;\n      out[j + 3] = 255;\n    }\n    return out;\n  }\n\n  _convertYcckToRgb(data) {\n    this._convertYcckToCmyk(data);\n    return this._convertCmykToRgb(data);\n  }\n\n  _convertYcckToRgba(data) {\n    this._convertYcckToCmyk(data);\n    return this._convertCmykToRgba(data);\n  }\n\n  _convertYcckToCmyk(data) {\n    let Y, Cb, Cr;\n    for (let i = 0, length = data.length; i < length; i += 4) {\n      Y = data[i];\n      Cb = data[i + 1];\n      Cr = data[i + 2];\n      data[i] = 434.456 - Y - 1.402 * Cr;\n      data[i + 1] = 119.541 - Y + 0.344 * Cb + 0.714 * Cr;\n      data[i + 2] = 481.816 - Y - 1.772 * Cb;\n      // K in data[i + 3] is unchanged\n    }\n    return data;\n  }\n\n  _convertCmykToRgb(data) {\n    const count = data.length / 4;\n    ColorSpaceUtils.cmyk.getRgbBuffer(data, 0, count, data, 0, 8, 0);\n    return data.subarray(0, count * 3);\n  }\n\n  _convertCmykToRgba(data) {\n    ColorSpaceUtils.cmyk.getRgbBuffer(data, 0, data.length / 4, data, 0, 8, 1);\n\n    if (ColorSpaceUtils.cmyk instanceof DeviceCmykCS) {\n      // The alpha-component isn't updated by `DeviceCmykCS`, doing it manually.\n      for (let i = 3, ii = data.length; i < ii; i += 4) {\n        data[i] = 255;\n      }\n    }\n    return data;\n  }\n\n  getData({\n    width,\n    height,\n    forceRGBA = false,\n    forceRGB = false,\n    isSourcePDF = false,\n  }) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        isSourcePDF === true,\n        'JpegImage.getData: Unexpected \"isSourcePDF\" value for PDF files.'\n      );\n    }\n    if (this.numComponents > 4) {\n      throw new JpegError(\"Unsupported color mode\");\n    }\n    // Type of data: Uint8ClampedArray(width * height * numComponents)\n    const data = this._getLinearizedBlockData(width, height, isSourcePDF);\n\n    if (this.numComponents === 1 && (forceRGBA || forceRGB)) {\n      const len = data.length * (forceRGBA ? 4 : 3);\n      const rgbaData = new Uint8ClampedArray(len);\n      let offset = 0;\n      if (forceRGBA) {\n        grayToRGBA(data, new Uint32Array(rgbaData.buffer));\n      } else {\n        for (const grayColor of data) {\n          rgbaData[offset++] = grayColor;\n          rgbaData[offset++] = grayColor;\n          rgbaData[offset++] = grayColor;\n        }\n      }\n      return rgbaData;\n    } else if (this.numComponents === 3 && this._isColorConversionNeeded) {\n      if (forceRGBA) {\n        const rgbaData = new Uint8ClampedArray((data.length / 3) * 4);\n        return this._convertYccToRgba(data, rgbaData);\n      }\n      return this._convertYccToRgb(data);\n    } else if (this.numComponents === 4) {\n      if (this._isColorConversionNeeded) {\n        if (forceRGBA) {\n          return this._convertYcckToRgba(data);\n        }\n        if (forceRGB) {\n          return this._convertYcckToRgb(data);\n        }\n        return this._convertYcckToCmyk(data);\n      } else if (forceRGBA) {\n        return this._convertCmykToRgba(data);\n      } else if (forceRGB) {\n        return this._convertCmykToRgb(data);\n      }\n    }\n    return data;\n  }\n}\n\nexport { JpegError, JpegImage };\n","/* THIS FILE IS GENERATED - DO NOT EDIT */\nvar OpenJPEG = (() => {\n  \n  return (\nasync function(moduleArg = {}) {\n  var moduleRtn;\n\nvar Module=moduleArg;var readyPromiseResolve,readyPromiseReject;var readyPromise=new Promise((resolve,reject)=>{readyPromiseResolve=resolve;readyPromiseReject=reject});var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var arguments_=[];var thisProgram=\"./this.program\";var quit_=(status,toThrow)=>{throw toThrow};var _scriptName=import.meta.url;var scriptDirectory=\"\";function locateFile(path){if(Module[\"locateFile\"]){return Module[\"locateFile\"](path,scriptDirectory)}return scriptDirectory+path}var readAsync,readBinary;if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){try{scriptDirectory=new URL(\".\",_scriptName).href}catch{}{readAsync=async url=>{var response=await fetch(url,{credentials:\"same-origin\"});if(response.ok){return response.arrayBuffer()}throw new Error(response.status+\" : \"+response.url)}}}else{}var out=console.log.bind(console);var err=console.error.bind(console);var wasmBinary;var wasmMemory;var ABORT=false;var EXITSTATUS;var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAP64,HEAPU64,HEAPF64;var runtimeInitialized=false;function updateMemoryViews(){var b=wasmMemory.buffer;HEAP8=new Int8Array(b);HEAP16=new Int16Array(b);HEAPU8=new Uint8Array(b);HEAPU16=new Uint16Array(b);HEAP32=new Int32Array(b);HEAPU32=new Uint32Array(b);HEAPF32=new Float32Array(b);HEAPF64=new Float64Array(b);HEAP64=new BigInt64Array(b);HEAPU64=new BigUint64Array(b)}function preRun(){if(Module[\"preRun\"]){if(typeof Module[\"preRun\"]==\"function\")Module[\"preRun\"]=[Module[\"preRun\"]];while(Module[\"preRun\"].length){addOnPreRun(Module[\"preRun\"].shift())}}callRuntimeCallbacks(onPreRuns)}function initRuntime(){runtimeInitialized=true;wasmExports[\"t\"]()}function postRun(){if(Module[\"postRun\"]){if(typeof Module[\"postRun\"]==\"function\")Module[\"postRun\"]=[Module[\"postRun\"]];while(Module[\"postRun\"].length){addOnPostRun(Module[\"postRun\"].shift())}}callRuntimeCallbacks(onPostRuns)}var runDependencies=0;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;Module[\"monitorRunDependencies\"]?.(runDependencies)}function removeRunDependency(id){runDependencies--;Module[\"monitorRunDependencies\"]?.(runDependencies);if(runDependencies==0){if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}function abort(what){Module[\"onAbort\"]?.(what);what=\"Aborted(\"+what+\")\";err(what);ABORT=true;what+=\". Build with -sASSERTIONS for more info.\";var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e}var wasmBinaryFile;function findWasmBinary(){if(Module[\"locateFile\"]){return locateFile(\"openjpeg.wasm\")}return new URL(\"openjpeg.wasm\",import.meta.url).href}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}throw\"both async and sync fetching of the wasm failed\"}async function getWasmBinary(binaryFile){if(!wasmBinary){try{var response=await readAsync(binaryFile);return new Uint8Array(response)}catch{}}return getBinarySync(binaryFile)}async function instantiateArrayBuffer(binaryFile,imports){try{var binary=await getWasmBinary(binaryFile);var instance=await WebAssembly.instantiate(binary,imports);return instance}catch(reason){err(`failed to asynchronously prepare wasm: ${reason}`);abort(reason)}}async function instantiateAsync(binary,binaryFile,imports){if(!binary&&typeof WebAssembly.instantiateStreaming==\"function\"){try{var response=fetch(binaryFile,{credentials:\"same-origin\"});var instantiationResult=await WebAssembly.instantiateStreaming(response,imports);return instantiationResult}catch(reason){err(`wasm streaming compile failed: ${reason}`);err(\"falling back to ArrayBuffer instantiation\")}}return instantiateArrayBuffer(binaryFile,imports)}function getWasmImports(){return{a:wasmImports}}async function createWasm(){function receiveInstance(instance,module){wasmExports=instance.exports;wasmMemory=wasmExports[\"s\"];updateMemoryViews();removeRunDependency(\"wasm-instantiate\");return wasmExports}addRunDependency(\"wasm-instantiate\");function receiveInstantiationResult(result){return receiveInstance(result[\"instance\"])}var info=getWasmImports();if(Module[\"instantiateWasm\"]){return new Promise((resolve,reject)=>{Module[\"instantiateWasm\"](info,(mod,inst)=>{resolve(receiveInstance(mod,inst))})})}wasmBinaryFile??=findWasmBinary();try{var result=await instantiateAsync(wasmBinary,wasmBinaryFile,info);var exports=receiveInstantiationResult(result);return exports}catch(e){readyPromiseReject(e);return Promise.reject(e)}}class ExitStatus{name=\"ExitStatus\";constructor(status){this.message=`Program terminated with exit(${status})`;this.status=status}}var callRuntimeCallbacks=callbacks=>{while(callbacks.length>0){callbacks.shift()(Module)}};var onPostRuns=[];var addOnPostRun=cb=>onPostRuns.push(cb);var onPreRuns=[];var addOnPreRun=cb=>onPreRuns.push(cb);var noExitRuntime=true;var __abort_js=()=>abort(\"\");var runtimeKeepaliveCounter=0;var __emscripten_runtime_keepalive_clear=()=>{noExitRuntime=false;runtimeKeepaliveCounter=0};var timers={};var handleException=e=>{if(e instanceof ExitStatus||e==\"unwind\"){return EXITSTATUS}quit_(1,e)};var keepRuntimeAlive=()=>noExitRuntime||runtimeKeepaliveCounter>0;var _proc_exit=code=>{EXITSTATUS=code;if(!keepRuntimeAlive()){Module[\"onExit\"]?.(code);ABORT=true}quit_(code,new ExitStatus(code))};var exitJS=(status,implicit)=>{EXITSTATUS=status;_proc_exit(status)};var _exit=exitJS;var maybeExit=()=>{if(!keepRuntimeAlive()){try{_exit(EXITSTATUS)}catch(e){handleException(e)}}};var callUserCallback=func=>{if(ABORT){return}try{func();maybeExit()}catch(e){handleException(e)}};var _emscripten_get_now=()=>performance.now();var __setitimer_js=(which,timeout_ms)=>{if(timers[which]){clearTimeout(timers[which].id);delete timers[which]}if(!timeout_ms)return 0;var id=setTimeout(()=>{delete timers[which];callUserCallback(()=>__emscripten_timeout(which,_emscripten_get_now()))},timeout_ms);timers[which]={id,timeout_ms};return 0};function _copy_pixels_1(compG_ptr,nb_pixels){compG_ptr>>=2;const imageData=Module.imageData=new Uint8ClampedArray(nb_pixels);const compG=HEAP32.subarray(compG_ptr,compG_ptr+nb_pixels);imageData.set(compG)}function _copy_pixels_3(compR_ptr,compG_ptr,compB_ptr,nb_pixels){compR_ptr>>=2;compG_ptr>>=2;compB_ptr>>=2;const imageData=Module.imageData=new Uint8ClampedArray(nb_pixels*3);const compR=HEAP32.subarray(compR_ptr,compR_ptr+nb_pixels);const compG=HEAP32.subarray(compG_ptr,compG_ptr+nb_pixels);const compB=HEAP32.subarray(compB_ptr,compB_ptr+nb_pixels);for(let i=0;i<nb_pixels;i++){imageData[3*i]=compR[i];imageData[3*i+1]=compG[i];imageData[3*i+2]=compB[i]}}function _copy_pixels_4(compR_ptr,compG_ptr,compB_ptr,compA_ptr,nb_pixels){compR_ptr>>=2;compG_ptr>>=2;compB_ptr>>=2;compA_ptr>>=2;const imageData=Module.imageData=new Uint8ClampedArray(nb_pixels*4);const compR=HEAP32.subarray(compR_ptr,compR_ptr+nb_pixels);const compG=HEAP32.subarray(compG_ptr,compG_ptr+nb_pixels);const compB=HEAP32.subarray(compB_ptr,compB_ptr+nb_pixels);const compA=HEAP32.subarray(compA_ptr,compA_ptr+nb_pixels);for(let i=0;i<nb_pixels;i++){imageData[4*i]=compR[i];imageData[4*i+1]=compG[i];imageData[4*i+2]=compB[i];imageData[4*i+3]=compA[i]}}var getHeapMax=()=>2147483648;var alignMemory=(size,alignment)=>Math.ceil(size/alignment)*alignment;var growMemory=size=>{var b=wasmMemory.buffer;var pages=(size-b.byteLength+65535)/65536|0;try{wasmMemory.grow(pages);updateMemoryViews();return 1}catch(e){}};var _emscripten_resize_heap=requestedSize=>{var oldSize=HEAPU8.length;requestedSize>>>=0;var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignMemory(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true}}return false};var ENV={};var getExecutableName=()=>thisProgram||\"./this.program\";var getEnvStrings=()=>{if(!getEnvStrings.strings){var lang=(typeof navigator==\"object\"&&navigator.languages&&navigator.languages[0]||\"C\").replace(\"-\",\"_\")+\".UTF-8\";var env={USER:\"web_user\",LOGNAME:\"web_user\",PATH:\"/\",PWD:\"/\",HOME:\"/home/web_user\",LANG:lang,_:getExecutableName()};for(var x in ENV){if(ENV[x]===undefined)delete env[x];else env[x]=ENV[x]}var strings=[];for(var x in env){strings.push(`${x}=${env[x]}`)}getEnvStrings.strings=strings}return getEnvStrings.strings};var stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx};var stringToUTF8=(str,outPtr,maxBytesToWrite)=>stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);var _environ_get=(__environ,environ_buf)=>{var bufSize=0;var envp=0;for(var string of getEnvStrings()){var ptr=environ_buf+bufSize;HEAPU32[__environ+envp>>2]=ptr;bufSize+=stringToUTF8(string,ptr,Infinity)+1;envp+=4}return 0};var lengthBytesUTF8=str=>{var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++}else if(c<=2047){len+=2}else if(c>=55296&&c<=57343){len+=4;++i}else{len+=3}}return len};var _environ_sizes_get=(penviron_count,penviron_buf_size)=>{var strings=getEnvStrings();HEAPU32[penviron_count>>2]=strings.length;var bufSize=0;for(var string of strings){bufSize+=lengthBytesUTF8(string)+1}HEAPU32[penviron_buf_size>>2]=bufSize;return 0};var _fd_close=fd=>52;var INT53_MAX=9007199254740992;var INT53_MIN=-9007199254740992;var bigintToI53Checked=num=>num<INT53_MIN||num>INT53_MAX?NaN:Number(num);function _fd_seek(fd,offset,whence,newOffset){offset=bigintToI53Checked(offset);return 70}var printCharBuffers=[null,[],[]];var UTF8Decoder=typeof TextDecoder!=\"undefined\"?new TextDecoder:undefined;var UTF8ArrayToString=(heapOrArray,idx=0,maxBytesToRead=NaN)=>{var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr))}var str=\"\";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}return str};var printChar=(stream,curr)=>{var buffer=printCharBuffers[stream];if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer));buffer.length=0}else{buffer.push(curr)}};var UTF8ToString=(ptr,maxBytesToRead)=>ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):\"\";var _fd_write=(fd,iov,iovcnt,pnum)=>{var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j])}num+=len}HEAPU32[pnum>>2]=num;return 0};function _gray_to_rgba(compG_ptr,nb_pixels){compG_ptr>>=2;const imageData=Module.imageData=new Uint8ClampedArray(nb_pixels*4);const compG=HEAP32.subarray(compG_ptr,compG_ptr+nb_pixels);for(let i=0;i<nb_pixels;i++){imageData[4*i]=imageData[4*i+1]=imageData[4*i+2]=compG[i];imageData[4*i+3]=255}}function _graya_to_rgba(compG_ptr,compA_ptr,nb_pixels){compG_ptr>>=2;compA_ptr>>=2;const imageData=Module.imageData=new Uint8ClampedArray(nb_pixels*4);const compG=HEAP32.subarray(compG_ptr,compG_ptr+nb_pixels);const compA=HEAP32.subarray(compA_ptr,compA_ptr+nb_pixels);for(let i=0;i<nb_pixels;i++){imageData[4*i]=imageData[4*i+1]=imageData[4*i+2]=compG[i];imageData[4*i+3]=compA[i]}}function _jsPrintWarning(message_ptr){const message=UTF8ToString(message_ptr);(Module.warn||console.warn)(`OpenJPEG: ${message}`)}function _rgb_to_rgba(compR_ptr,compG_ptr,compB_ptr,nb_pixels){compR_ptr>>=2;compG_ptr>>=2;compB_ptr>>=2;const imageData=Module.imageData=new Uint8ClampedArray(nb_pixels*4);const compR=HEAP32.subarray(compR_ptr,compR_ptr+nb_pixels);const compG=HEAP32.subarray(compG_ptr,compG_ptr+nb_pixels);const compB=HEAP32.subarray(compB_ptr,compB_ptr+nb_pixels);for(let i=0;i<nb_pixels;i++){imageData[4*i]=compR[i];imageData[4*i+1]=compG[i];imageData[4*i+2]=compB[i];imageData[4*i+3]=255}}function _storeErrorMessage(message_ptr){const message=UTF8ToString(message_ptr);if(!Module.errorMessages){Module.errorMessages=message}else{Module.errorMessages+=\"\\n\"+message}}var writeArrayToMemory=(array,buffer)=>{HEAP8.set(array,buffer)};{if(Module[\"noExitRuntime\"])noExitRuntime=Module[\"noExitRuntime\"];if(Module[\"print\"])out=Module[\"print\"];if(Module[\"printErr\"])err=Module[\"printErr\"];if(Module[\"wasmBinary\"])wasmBinary=Module[\"wasmBinary\"];if(Module[\"arguments\"])arguments_=Module[\"arguments\"];if(Module[\"thisProgram\"])thisProgram=Module[\"thisProgram\"]}Module[\"writeArrayToMemory\"]=writeArrayToMemory;var wasmImports={l:__abort_js,k:__emscripten_runtime_keepalive_clear,m:__setitimer_js,g:_copy_pixels_1,f:_copy_pixels_3,e:_copy_pixels_4,n:_emscripten_resize_heap,p:_environ_get,q:_environ_sizes_get,b:_fd_close,o:_fd_seek,c:_fd_write,r:_gray_to_rgba,i:_graya_to_rgba,d:_jsPrintWarning,j:_proc_exit,h:_rgb_to_rgba,a:_storeErrorMessage};var wasmExports=await createWasm();var ___wasm_call_ctors=wasmExports[\"t\"];var _malloc=Module[\"_malloc\"]=wasmExports[\"u\"];var _free=Module[\"_free\"]=wasmExports[\"v\"];var _jp2_decode=Module[\"_jp2_decode\"]=wasmExports[\"w\"];var __emscripten_timeout=wasmExports[\"x\"];function run(){if(runDependencies>0){dependenciesFulfilled=run;return}preRun();if(runDependencies>0){dependenciesFulfilled=run;return}function doRun(){Module[\"calledRun\"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);Module[\"onRuntimeInitialized\"]?.();postRun()}if(Module[\"setStatus\"]){Module[\"setStatus\"](\"Running...\");setTimeout(()=>{setTimeout(()=>Module[\"setStatus\"](\"\"),1);doRun()},1)}else{doRun()}}function preInit(){if(Module[\"preInit\"]){if(typeof Module[\"preInit\"]==\"function\")Module[\"preInit\"]=[Module[\"preInit\"]];while(Module[\"preInit\"].length>0){Module[\"preInit\"].shift()()}}}preInit();run();moduleRtn=readyPromise;\n\n\n  return moduleRtn;\n}\n);\n})();\nexport default OpenJPEG;\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseStream } from \"./base_stream.js\";\nimport { stringToBytes } from \"../shared/util.js\";\n\nclass Stream extends BaseStream {\n  constructor(arrayBuffer, start, length, dict) {\n    super();\n\n    this.bytes =\n      arrayBuffer instanceof Uint8Array\n        ? arrayBuffer\n        : new Uint8Array(arrayBuffer);\n    this.start = start || 0;\n    this.pos = this.start;\n    this.end = start + length || this.bytes.length;\n    this.dict = dict;\n  }\n\n  get length() {\n    return this.end - this.start;\n  }\n\n  get isEmpty() {\n    return this.length === 0;\n  }\n\n  getByte() {\n    if (this.pos >= this.end) {\n      return -1;\n    }\n    return this.bytes[this.pos++];\n  }\n\n  getBytes(length) {\n    const bytes = this.bytes;\n    const pos = this.pos;\n    const strEnd = this.end;\n\n    if (!length) {\n      return bytes.subarray(pos, strEnd);\n    }\n    let end = pos + length;\n    if (end > strEnd) {\n      end = strEnd;\n    }\n    this.pos = end;\n    return bytes.subarray(pos, end);\n  }\n\n  getByteRange(begin, end) {\n    if (begin < 0) {\n      begin = 0;\n    }\n    if (end > this.end) {\n      end = this.end;\n    }\n    return this.bytes.subarray(begin, end);\n  }\n\n  reset() {\n    this.pos = this.start;\n  }\n\n  moveStart() {\n    this.start = this.pos;\n  }\n\n  makeSubStream(start, length, dict = null) {\n    return new Stream(this.bytes.buffer, start, length, dict);\n  }\n}\n\nclass StringStream extends Stream {\n  constructor(str) {\n    super(stringToBytes(str));\n  }\n}\n\nclass NullStream extends Stream {\n  constructor() {\n    super(new Uint8Array(0));\n  }\n}\n\nexport { NullStream, Stream, StringStream };\n","/* Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseException, warn } from \"../shared/util.js\";\nimport { fetchBinaryData } from \"./core_utils.js\";\nimport OpenJPEG from \"../../external/openjpeg/openjpeg.js\";\nimport { Stream } from \"./stream.js\";\n\nclass JpxError extends BaseException {\n  constructor(msg) {\n    super(msg, \"JpxError\");\n  }\n}\n\nclass JpxImage {\n  static #buffer = null;\n\n  static #handler = null;\n\n  static #modulePromise = null;\n\n  static #useWasm = true;\n\n  static #useWorkerFetch = true;\n\n  static #wasmUrl = null;\n\n  static setOptions({ handler, useWasm, useWorkerFetch, wasmUrl }) {\n    this.#useWasm = useWasm;\n    this.#useWorkerFetch = useWorkerFetch;\n    this.#wasmUrl = wasmUrl;\n\n    if (!useWorkerFetch) {\n      this.#handler = handler;\n    }\n  }\n\n  static async #getJsModule(fallbackCallback) {\n    const path =\n      typeof PDFJSDev === \"undefined\"\n        ? `../${this.#wasmUrl}openjpeg_nowasm_fallback.js`\n        : `${this.#wasmUrl}openjpeg_nowasm_fallback.js`;\n\n    let instance = null;\n    try {\n      const mod = await (typeof PDFJSDev === \"undefined\"\n        ? import(path) // eslint-disable-line no-unsanitized/method\n        : __raw_import__(path));\n      instance = mod.default();\n    } catch (e) {\n      warn(`JpxImage#getJsModule: ${e}`);\n    }\n    fallbackCallback(instance);\n  }\n\n  static async #instantiateWasm(fallbackCallback, imports, successCallback) {\n    const filename = \"openjpeg.wasm\";\n    try {\n      if (!this.#buffer) {\n        if (this.#useWorkerFetch) {\n          this.#buffer = await fetchBinaryData(`${this.#wasmUrl}${filename}`);\n        } else {\n          this.#buffer = await this.#handler.sendWithPromise(\n            \"FetchBinaryData\",\n            { type: \"wasmFactory\", filename }\n          );\n        }\n      }\n      const results = await WebAssembly.instantiate(this.#buffer, imports);\n      return successCallback(results.instance);\n    } catch (reason) {\n      warn(`JpxImage#instantiateWasm: ${reason}`);\n\n      this.#getJsModule(fallbackCallback);\n      return null;\n    } finally {\n      this.#handler = null;\n    }\n  }\n\n  static async decode(\n    bytes,\n    {\n      numComponents = 4,\n      isIndexedColormap = false,\n      smaskInData = false,\n      reducePower = 0,\n    } = {}\n  ) {\n    if (!this.#modulePromise) {\n      const { promise, resolve } = Promise.withResolvers();\n      const promises = [promise];\n      if (!this.#useWasm) {\n        this.#getJsModule(resolve);\n      } else {\n        promises.push(\n          OpenJPEG({\n            warn,\n            instantiateWasm: this.#instantiateWasm.bind(this, resolve),\n          })\n        );\n      }\n      this.#modulePromise = Promise.race(promises);\n    }\n    const module = await this.#modulePromise;\n\n    if (!module) {\n      throw new JpxError(\"OpenJPEG failed to initialize\");\n    }\n    let ptr;\n\n    try {\n      const size = bytes.length;\n      ptr = module._malloc(size);\n      module.writeArrayToMemory(bytes, ptr);\n      const ret = module._jp2_decode(\n        ptr,\n        size,\n        numComponents > 0 ? numComponents : 0,\n        !!isIndexedColormap,\n        !!smaskInData,\n        reducePower\n      );\n      if (ret) {\n        const { errorMessages } = module;\n        if (errorMessages) {\n          delete module.errorMessages;\n          throw new JpxError(errorMessages);\n        }\n        throw new JpxError(\"Unknown error\");\n      }\n      const { imageData } = module;\n      module.imageData = null;\n\n      return imageData;\n    } finally {\n      if (ptr) {\n        module._free(ptr);\n      }\n    }\n  }\n\n  static cleanup() {\n    this.#modulePromise = null;\n  }\n\n  static parseImageProperties(stream) {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      if (stream instanceof ArrayBuffer || ArrayBuffer.isView(stream)) {\n        stream = new Stream(stream);\n      } else {\n        throw new JpxError(\"Invalid data format, must be a TypedArray.\");\n      }\n    }\n    // No need to use OpenJPEG here since we're only getting very basic\n    // information which are located in the first bytes of the file.\n    let newByte = stream.getByte();\n    while (newByte >= 0) {\n      const oldByte = newByte;\n      newByte = stream.getByte();\n      const code = (oldByte << 8) | newByte;\n      // Image and tile size (SIZ)\n      if (code === 0xff51) {\n        stream.skip(4);\n        const Xsiz = stream.getInt32() >>> 0; // Byte 4\n        const Ysiz = stream.getInt32() >>> 0; // Byte 8\n        const XOsiz = stream.getInt32() >>> 0; // Byte 12\n        const YOsiz = stream.getInt32() >>> 0; // Byte 16\n        stream.skip(16);\n        const Csiz = stream.getUint16(); // Byte 36\n        return {\n          width: Xsiz - XOsiz,\n          height: Ysiz - YOsiz,\n          // Results are always returned as `Uint8ClampedArray`s.\n          bitsPerComponent: 8,\n          componentsCount: Csiz,\n        };\n      }\n    }\n    throw new JpxError(\"No size marker found in JPX stream\");\n  }\n}\n\nexport { JpxError, JpxImage };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  getVerbosityLevel,\n  setVerbosityLevel,\n  VerbosityLevel,\n} from \"./shared/util.js\";\nimport { Jbig2Error, Jbig2Image } from \"./core/jbig2.js\";\nimport { JpegError, JpegImage } from \"./core/jpg.js\";\nimport { JpxError, JpxImage } from \"./core/jpx.js\";\n\nglobalThis.pdfjsImageDecoders = {\n  getVerbosityLevel,\n  Jbig2Error,\n  Jbig2Image,\n  JpegError,\n  JpegImage,\n  JpxError,\n  JpxImage,\n  setVerbosityLevel,\n  VerbosityLevel,\n};\n\nexport {\n  getVerbosityLevel,\n  Jbig2Error,\n  Jbig2Image,\n  JpegError,\n  JpegImage,\n  JpxError,\n  JpxImage,\n  setVerbosityLevel,\n  VerbosityLevel,\n};\n"],"names":["isNodeJS","process","versions","nw","electron","type","FONT_IDENTITY_MATRIX","LINE_FACTOR","LINE_DESCENT_FACTOR","BASELINE_FACTOR","RenderingIntentFlag","ANY","DISPLAY","PRINT","SAVE","ANNOTATIONS_FORMS","ANNOTATIONS_STORAGE","ANNOTATIONS_DISABLE","IS_EDITING","OPLIST","AnnotationMode","DISABLE","ENABLE","ENABLE_FORMS","ENABLE_STORAGE","AnnotationEditorPrefix","AnnotationEditorType","NONE","FREETEXT","HIGHLIGHT","STAMP","INK","SIGNATURE","COMMENT","AnnotationEditorParamsType","RESIZE","CREATE","FREETEXT_SIZE","FREETEXT_COLOR","FREETEXT_OPACITY","INK_COLOR","INK_THICKNESS","INK_OPACITY","HIGHLIGHT_COLOR","HIGHLIGHT_THICKNESS","HIGHLIGHT_FREE","HIGHLIGHT_SHOW_ALL","DRAW_STEP","PermissionFlag","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","TextRenderingMode","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","TEXT","LINK","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","UNDERLINE","SQUIGGLY","STRIKEOUT","CARET","POPUP","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","AnnotationReplyType","GROUP","REPLY","AnnotationFlag","HIDDEN","NOZOOM","NOROTATE","NOVIEW","READONLY","LOCKED","TOGGLENOVIEW","LOCKEDCONTENTS","AnnotationFieldFlag","REQUIRED","NOEXPORT","MULTILINE","PASSWORD","NOTOGGLETOOFF","RADIO","PUSHBUTTON","COMBO","EDIT","SORT","FILESELECT","MULTISELECT","DONOTSPELLCHECK","DONOTSCROLL","COMB","RICHTEXT","RADIOSINUNISON","COMMITONSELCHANGE","AnnotationBorderStyleType","SOLID","DASHED","BEVELED","INSET","AnnotationActionEventType","E","X","D","U","Fo","Bl","PO","PC","PV","PI","K","F","V","C","DocumentActionEventType","WC","WS","DS","WP","DP","PageActionEventType","O","VerbosityLevel","ERRORS","WARNINGS","INFOS","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotation","endAnnotation","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","setStrokeTransparent","setFillTransparent","rawFillPath","DrawOPS","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","verbosity","setVerbosityLevel","level","Number","isInteger","getVerbosityLevel","info","msg","console","log","warn","unreachable","Error","assert","cond","_isValidProtocol","url","protocol","createValidAbsoluteUrl","baseUrl","options","addDefaultProtocol","startsWith","dots","match","length","tryConvertEncoding","stringToUTF8String","absoluteUrl","URL","parse","updateUrlHash","hash","allowRel","res","href","split","shadow","obj","prop","value","nonSerializable","Object","defineProperty","enumerable","configurable","writable","BaseException","BaseExceptionClosure","message","name","prototype","constructor","PasswordException","code","UnknownErrorException","details","InvalidPDFException","ResponseException","status","missing","FormatError","AbortException","bytesToString","bytes","undefined","MAX_ARGUMENT_COUNT","String","fromCharCode","apply","strBuf","i","chunkEnd","Math","min","chunk","subarray","push","join","stringToBytes","str","Uint8Array","charCodeAt","string32","objectSize","keys","isLittleEndian","buffer8","view32","Uint32Array","buffer","isEvalSupported","Function","FeatureTest","isOffscreenCanvasSupported","OffscreenCanvas","isImageDecoderSupported","ImageDecoder","platform","userAgent","navigator","isAndroid","includes","isLinux","isMac","isWindows","isFirefox","isCSSRoundSupported","globalThis","CSS","supports","hexNumbers","Array","from","n","toString","padStart","Util","makeHexColor","r","g","b","scaleMinMax","minMax","temp","m1","m2","applyTransform","p","m","pos","p0","p1","applyTransformToBezier","m0","m3","m4","m5","pI","pI1","applyInverseTransform","d","axialAlignedBoundingBox","rect","output","r0","r1","r2","r3","a0","a2","a1","a3","b0","b2","b1","b3","m1r0","m1r2","m2r1","m2r3","max","inverseTransform","singularValueDecompose2dScale","matrix","a","c","first","second","sqrt","normalizeRect","slice","intersect","rect1","rect2","xLow","xHigh","yLow","yHigh","pointBoundingBox","x","y","rectBoundingBox","x0","y0","x1","y1","getExtremumOnCurve","#getExtremumOnCurve","x2","x3","y2","y3","t","mt","tt","ttt","getExtremum","#getExtremum","abs","delta","sqrtDelta","bezierBoundingBox","PDFStringTranslateTable","stringToPDFString","keepEscapeSequence","encoding","decoder","TextDecoder","fatal","decoded","decode","replaceAll","ex","ii","charCode","charAt","decodeURIComponent","escape","utf8StringToString","unescape","encodeURIComponent","isArrayEqual","arr1","arr2","getModificationDate","date","Date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","NormalizeRegex","NormalizationMap","normalizeUnicode","Map","_","p2","normalize","get","getUuid","crypto","randomUUID","buf","getRandomValues","AnnotationPrefix","_isValidExplicitDest","validRef","validName","dest","isArray","page","zoom","args","argsLen","allowNull","arg","MathClamp","v","toHexUtil","arr","toHex","num","toBase64Util","toBase64","btoa","fromBase64Util","fromBase64","atob","Promise","try","fn","resolve","sumPrecise","numbers","reduce","CIRCULAR_REF","Symbol","EOF","CmdCache","create","NameCache","RefCache","clearPrimitiveCaches","Name","Cmd","cmd","nonSerializableClosure","Dict","xref","_map","objId","suppressEncryption","__nonSerializable__","assignXref","newXref","size","key1","key2","key3","Ref","fetch","getAsync","fetchAsync","getArray","getRaw","key","getKeys","getRawValues","values","set","setIfNotExists","has","setIfNumber","setIfArray","ArrayBuffer","isView","setIfDefined","setIfName","iterator","empty","emptyDict","merge","dictArray","mergeSubDicts","mergedDict","properties","dict","property","subDict","clear","clone","delete","gen","fromString","ref","exec","parseInt","RefSet","parent","_set","Set","put","add","remove","RefSetCache","putAlias","aliasRef","items","isName","isCmd","isDict","isRefsEqual","v1","v2","BaseStream","isEmpty","isDataLoaded","getByte","getBytes","getImageData","decoderOptions","asyncGetBytes","isAsync","isAsyncDecoder","canAsyncDecodeImageFromBuffer","getTransferableImage","peekByte","peekedByte","peekBytes","getUint16","getInt32","getByteRange","begin","end","getString","skip","reset","moveStart","makeSubStream","start","getBaseStreams","PDF_VERSION_REGEXP","MAX_INT_32","MIN_INT_32","IDENTITY_MATRIX","RESOURCES_KEYS_OPERATOR_LIST","RESOURCES_KEYS_TEXT_CONTENT","getLookupTableFactory","initializer","lookup","MissingDataException","ParserEOFException","XRefEntryException","XRefParseException","arrayBuffersToBytes","dataLength","byteLength","data","item","fetchBinaryData","response","ok","statusText","arrayBuffer","getInheritableProperty","stopWhenFound","visited","getParentToUpdate","firstDict","result","ROMAN_NUMBER_MAP","toRomanNumerals","number","lowerCase","roman","repeat","toLowerCase","log2","ceil","readInt8","offset","readInt16","readUint16","readUint32","isWhiteSpace","ch","isBooleanArray","len","every","isNumberArray","BigInt64Array","BigUint64Array","lookupMatrix","fallback","lookupRect","lookupNormalRect","parseXFAPath","path","positionPattern","map","component","escapePDFName","char","substring","escapeString","_collectJS","entry","list","parents","element","js","trim","collectActions","eventType","actions","additionalActionsDicts","additionalActions","action","actionDict","Action","XMLEntities","codePointIter","codePointAt","encodeToXmlString","entity","toUpperCase","validateFontName","fontFamily","mustWarn","re","RegExp","test","ident","validateCSSFont","cssFontInfo","DEFAULT_CSS_FONT_OBLIQUE","DEFAULT_CSS_FONT_WEIGHT","CSS_FONT_WEIGHT_VALUES","fontWeight","italicAngle","weight","angle","parseFloat","isNaN","recoverJsURL","URL_OPEN_METHODS","regex","jsUrl","newWindow","numberToString","roundedValue","round","toFixed","getNewAnnotationsMap","annotationStorage","newAnnotationsByPage","annotations","pageIndex","stringToAsciiOrUTF16BE","isAscii","stringToUTF16String","stringToUTF16HexString","bigEndian","getRotationMatrix","rotation","width","height","getSizeInBytes","QeTable","qe","nmps","nlps","switchFlag","ArithmeticDecoder","bp","dataEnd","chigh","clow","byteIn","ct","readBit","contexts","cx_index","cx_mps","qeTableIcx","qeIcx","ccittEOL","ccittEOF","twoDimPass","twoDimHoriz","twoDimVert0","twoDimVertR1","twoDimVertL1","twoDimVertR2","twoDimVertL2","twoDimVertR3","twoDimVertL3","twoDimTable","whiteTable1","whiteTable2","blackTable1","blackTable2","blackTable3","CCITTFaxDecoder","source","next","eof","eoline","EndOfLine","byteAlign","EncodedByteAlign","columns","Columns","rows","Rows","eoblock","EndOfBlock","black","BlackIs1","codingLine","refLine","codingPos","row","nextLine2D","inputBits","inputBuf","outputBits","rowsDone","code1","_lookBits","_eatBits","readNextChar","refPos","blackPixels","bits","err","code2","code3","_getTwoDimCode","_addPixels","_getBlackCode","_getWhiteCode","_addPixelsNeg","gotEOL","_findTableCode","table","limit","limitValue","Jbig2Error","ContextCache","getContexts","id","Int8Array","DecodingContext","contextCache","cache","decodeInteger","procedure","prev","readBits","bit","sign","signedValue","decodeIAID","codeLength","SegmentTypes","CodingTemplates","RefinementTemplates","coding","reference","ReusedContexts","RefinementReusedContexts","decodeBitmapTemplate0","decodingContext","bitmap","contextLabel","j","pixel","row1","row2","OLD_PIXEL_MASK","decodeBitmap","mmr","templateIndex","prediction","at","input","Reader","decodeMMRBitmap","useskip","template","concat","sort","templateLength","templateX","templateY","changingTemplateEntries","reuseMask","minX","maxX","minY","k","changingEntriesLength","changingTemplateX","changingTemplateY","changingTemplateBit","Uint16Array","sbb_left","sbb_top","sbb_right","pseudoPixelContext","ltp","i0","j0","shift","sltp","decodeRefinement","referenceBitmap","offsetX","offsetY","codingTemplate","codingTemplateLength","codingTemplateX","Int32Array","codingTemplateY","referenceTemplate","referenceTemplateLength","referenceTemplateX","referenceTemplateY","referenceWidth","referenceHeight","decodeSymbolDictionary","huffman","refinement","symbols","numberOfNewSymbols","numberOfExportedSymbols","huffmanTables","refinementTemplateIndex","refinementAt","huffmanInput","newSymbols","currentHeight","symbolCodeLength","tableB1","symbolWidths","getStandardTable","deltaHeight","tableDeltaHeight","currentWidth","totalWidth","firstSymbol","deltaWidth","tableDeltaWidth","numberOfInstances","decodeTextRegion","symbolId","rdx","rdy","symbol","bitmapSize","tableBitmapSize","collectiveBitmap","readUncompressedBitmap","originalEnd","bitmapEnd","position","numberOfSymbolsDecoded","xMin","xMax","bitmapWidth","symbolBitmap","exportedSymbols","flags","currentFlag","totalSymbolsLength","runLength","defaultPixelValue","numberOfSymbolInstances","stripSize","inputSymbols","transposed","dsOffset","referenceCorner","combinationOperator","logStripSize","stripT","tableDeltaT","firstS","deltaT","deltaFirstS","tableFirstS","currentS","currentT","symbolIDTable","applyRefinement","symbolWidth","symbolHeight","rdw","rdh","increment","offsetT","offsetS","s2","t2","symbolRow","maxWidth","deltaS","tableDeltaS","decodePatternDictionary","patternWidth","patternHeight","maxPatternIndex","collectiveWidth","patterns","patternBitmap","decodeHalftoneRegion","regionWidth","regionHeight","enableSkip","gridWidth","gridHeight","gridOffsetX","gridOffsetY","gridVectorX","gridVectorY","regionBitmap","numberOfPatterns","pattern0","bitsPerValue","grayScaleBitPlanes","mmrInput","mg","ng","patternIndex","patternRow","regionRow","regionX","regionY","readSegmentHeader","segmentHeader","segmentType","typeName","deferredNonRetain","pageAssociationFieldSize","referredFlags","referredToCount","retainBits","referredToSegmentNumberSize","referredTo","pageAssociation","genericRegionInfo","readRegionSegmentInformation","genericRegionSegmentFlags","RegionSegmentInformationFieldLength","genericRegionMmr","searchPatternLength","searchPattern","headerEnd","readSegments","header","segments","segment","randomAccess","processSegment","visitor","atLength","dictionary","dictionaryFlags","huffmanDHSelector","huffmanDWSelector","bitmapSizeSelector","aggregationInstancesSelector","bitmapCodingContextUsed","bitmapCodingContextRetained","refinementTemplate","textRegion","textRegionSegmentFlags","textRegionHuffmanFlags","huffmanFS","huffmanDS","huffmanDT","huffmanRefinementDW","huffmanRefinementDH","huffmanRefinementDX","huffmanRefinementDY","huffmanRefinementSizeSelector","patternDictionary","patternDictionaryFlags","halftoneRegion","halftoneRegionFlags","genericRegion","pageInfo","resolutionX","resolutionY","pageSegmentFlags","lossless","requiresBuffer","combinationOperatorOverride","callbackName","processSegments","parseJbig2Chunks","chunks","SimpleSegmentVisitor","parseJbig2","numberOfPages","currentPageInfo","bitPacked","imgData","Uint8ClampedArray","q","mask","onPageInformation","rowSize","drawBitmap","regionInfo","mask0","offset0","onImmediateGenericRegion","region","onImmediateLosslessGenericRegion","arguments","onSymbolDictionary","currentSegment","referredSegments","getSymbolDictionaryHuffmanTables","customTables","referredSegment","referredSymbols","onImmediateTextRegion","getTextRegionHuffmanTables","onImmediateLosslessTextRegion","onPatternDictionary","onImmediateHalftoneRegion","onImmediateLosslessHalftoneRegion","onTables","decodeTablesSegment","HuffmanLine","lineData","isOOB","rangeLow","prefixLength","rangeLength","prefixCode","isLowerRange","HuffmanTreeNode","line","children","isLeaf","buildTree","node","decodeNode","reader","htOffset","HuffmanTable","lines","prefixCodesDone","assignPrefixCodes","rootNode","linesLength","prefixLengthMax","histogram","currentLength","firstCode","currentCode","currentTemp","lowestValue","highestValue","prefixSizeBits","rangeSizeBits","currentRangeLow","standardTablesCache","currentByte","numBits","getCustomHuffmanTable","index","currentIndex","numberOfSymbols","codes","runCodesTable","repeatedLength","numberOfRepeats","customIndex","tableAggregateInstances","endOfBlock","params","lookForEOFLimit","Jbig2Image","parseChunks","resizeRgbImage","src","w1","h1","w2","h2","alpha01","COMPONENTS","xRatio","yRatio","newIndex","oldIndex","xScaled","w1Scanline","floor","py","resizeRgbaImage","src32","dest32","rgbMask","copyRgbaImage","ColorSpace","rgbBuf","numComps","getRgb","srcOffset","getRgbItem","getRgbHex","destOffset","getRgbBuffer","count","getOutputLength","inputLength","isPassthrough","isDefaultDecode","decodeMap","bpc","fillRgb","originalWidth","originalHeight","actualHeight","comps","numComponentColors","needsResizing","allColors","colorMap","destPos","rgbPos","usesZeroToOneRange","AlternateCS","base","tintFn","tmpBuf","Float32Array","scale","baseNumComps","baseBuf","scaled","tinted","PatternCS","baseCS","IndexedCS","highVal","outputDelta","lookupPos","DeviceGrayCS","DeviceRgbCS","DeviceRgbaCS","_alpha01","DeviceCmykCS","toRgb","#toRgb","srcScale","CalGrayCS","whitePoint","blackPoint","gamma","XW","YW","ZW","XB","YB","ZB","G","A","AG","L","val","CalRGBCS","BRADFORD_SCALE_MATRIX","BRADFORD_SCALE_INVERSE_MATRIX","SRGB_D65_XYZ_TO_RGB_MATRIX","FLAT_WHITEPOINT_MATRIX","tempNormalizeMatrix","tempConvertMatrix1","tempConvertMatrix2","DECODE_L_CONSTANT","GR","GG","GB","MXA","MYA","MZA","MXB","MYB","MZB","MXC","MYC","MZC","matrixProduct","#matrixProduct","toFlat","#toFlat","sourceWhitePoint","LMS","toD65","#toD65","D65X","D65Y","D65Z","sRGBTransferFunction","#sRGBTransferFunction","color","decodeL","#decodeL","compensateBlackPoint","#compensateBlackPoint","sourceBlackPoint","XYZ_Flat","zeroDecodeL","X_DST","X_SRC","Y_DST","Y_SRC","Z_DST","Z_SRC","X_Scale","X_Offset","Y_Scale","Y_Offset","Z_Scale","Z_Offset","normalizeWhitePointToFlat","#normalizeWhitePointToFlat","XYZ_In","LMS_Flat","normalizeWhitePointToD65","#normalizeWhitePointToD65","LMS_D65","B","AGR","BGG","CGB","Y","Z","XYZ","XYZ_Black","XYZ_D65","SRGB","LabCS","range","amin","amax","bmin","bmax","fn_g","#fn_g","#decode","high1","low2","high2","maxVal","Ls","as","bs","M","N","QCMS","memoryArray","_memory","_mustAddAlpha","_destBuffer","_destOffset","_destLength","_cssColor","_makeHexColor","_memoryArray","array","copy_result","ptr","copy_rgb","make_cssRGB","wasm","cachedTextDecoder","ignoreBOM","cachedUint8ArrayMemory0","getUint8ArrayMemory0","memory","getStringFromWasm0","WASM_VECTOR_LEN","passArray8ToWasm0","malloc","qcms_convert_array","transformer","ptr0","__wbindgen_malloc","len0","qcms_convert_one","css","qcms_convert_three","src1","src2","src3","qcms_convert_four","src4","qcms_transformer_from_memory","mem","in_type","intent","ret","qcms_drop_transformer","DataType","freeze","RGB8","RGBA8","BGRA8","Gray8","GrayA8","CMYK","Intent","Perceptual","RelativeColorimetric","Saturation","AbsoluteColorimetric","__wbg_load","module","imports","Response","WebAssembly","instantiateStreaming","e","headers","instantiate","instance","Instance","__wbg_get_imports","wbg","__wbg_copyresult_b08ee7d273f295dd","arg0","arg1","__wbg_copyrgb_d60ce17bb05d9b67","__wbg_makecssRGB_893bf0cd9fdb302d","__wbindgen_init_externref_table","__wbindgen_export_0","grow","__wbindgen_throw","__wbg_init_memory","__wbg_finalize_init","exports","__wbg_init","__wbindgen_wasm_module","__wbindgen_start","initSync","getPrototypeOf","Module","module_or_path","Request","fetchSync","xhr","XMLHttpRequest","open","responseType","send","IccColorSpace","convertPixel","useWasm","wasmUrl","finalizer","FinalizationRegistry","iccProfile","isUsable","inType","register","setOptions","useWorkerFetch","_module","CmykICCBasedCS","iccUrl","ColorSpaceUtils","cs","resources","pdfFunctionFactory","globalColorSpaceCache","localColorSpaceCache","asyncIfNotCached","csName","csRef","parsedCS","cachedCS","getByRef","getByName","reject","subParse","#subParse","#parse","fetchIfRef","gray","rgb","rgba","cmyk","colorSpaces","resourcesCS","mode","isRef","stream","iccCS","altRaw","altCS","hiVal","convertToRGBA","kind","convertBlackAndWhiteToRGBA","convertRGBToRGBA","srcPos","nonBlackColor","inverseDecode","zeroMapping","oneMapping","widthInSource","widthRemainder","srcLength","elem","len32","s1","s3","jj","grayToRGBA","JpegError","DNLMarkerError","scanLines","EOIMarkerError","dctZigZag","dctCos1","dctSin1","dctCos3","dctSin3","dctCos6","dctSin6","dctSqrt2","dctSqrt1d2","buildHuffmanTable","codeLengths","pop","getBlockBufferOffset","col","blocksPerLine","decodeScan","frame","components","resetInterval","spectralStart","spectralEnd","successivePrev","successive","parseDNLMarker","mcusPerLine","progressive","startOffset","bitsData","bitsCount","nextByte","maybeScanLines","blockRow","precision","decodeHuffman","tree","receive","receiveAndExtend","decodeBaseline","blockOffset","huffmanTableDC","diff","blockData","pred","rs","huffmanTableAC","s","z","decodeDCFirst","decodeDCSuccessive","eobrun","decodeACFirst","successiveACState","successiveACNextValue","decodeACSuccessive","offsetZ","decodeMcu","mcu","mcuRow","mcuCol","blockCol","h","decodeBlock","componentsLength","decodeFn","fileMarker","mcuExpected","blocksPerColumn","mcusPerColumn","mcuToRead","findNextFileMarker","invalid","partialMsg","marker","quantizeAndInverse","blockBufferOffset","qt","quantizationTable","v0","v3","v4","v5","v6","v7","p3","p4","p5","p6","p7","buildComponentData","computationBuffer","Int16Array","currentPos","startPos","maxPos","newPos","currentMarker","newMarker","prepareComponents","samplesPerLine","maxH","maxV","blocksPerLineForMcu","blocksPerColumnForMcu","blocksBufferSize","readDataBlock","endOffset","appData","oldOffset","newOffset","skipData","JpegImage","decodeTransform","colorTransform","_decodeTransform","_colorTransform","canUseImageDecoder","exifOffsets","numComponents","markerLoop","exifStart","exifEnd","dnlScanLines","jfif","adobe","numSOSMarkers","quantizationTables","huffmanTablesAC","huffmanTablesDC","l","version","major","minor","densityUnits","xDensity","yDensity","thumbWidth","thumbHeight","thumbData","flags0","flags1","transformCode","quantizationTablesLength","quantizationTablesEnd","quantizationTableSpec","tableData","extended","sofScanLines","componentIds","componentsCount","componentId","qId","quantizationId","huffmanLength","huffmanTableSpec","codeLengthSum","huffmanValues","selectorsCount","componentIndex","tableSpec","successiveApproximation","processed","nextFileMarker","scaleX","scaleY","_getLinearizedBlockData","isSourcePDF","componentScaleX","componentScaleY","blocksPerScanline","xScaleBlockOffset","mask3LSB","lastComponentScaleX","_isColorConversionNeeded","_convertYccToRgb","Cb","Cr","_convertYccToRgba","out","_convertYcckToRgb","_convertYcckToCmyk","_convertCmykToRgb","_convertYcckToRgba","_convertCmykToRgba","getData","forceRGBA","forceRGB","rgbaData","grayColor","OpenJPEG","moduleArg","moduleRtn","readyPromiseResolve","readyPromiseReject","readyPromise","ENVIRONMENT_IS_WEB","ENVIRONMENT_IS_WORKER","arguments_","thisProgram","quit_","toThrow","_scriptName","import","meta","scriptDirectory","readAsync","readBinary","credentials","bind","error","wasmBinary","wasmMemory","ABORT","EXITSTATUS","HEAP8","HEAPU8","HEAP16","HEAPU16","HEAP32","HEAPU32","HEAPF32","HEAP64","HEAPU64","HEAPF64","runtimeInitialized","updateMemoryViews","Float64Array","preRun","addOnPreRun","callRuntimeCallbacks","onPreRuns","initRuntime","wasmExports","postRun","addOnPostRun","onPostRuns","runDependencies","dependenciesFulfilled","addRunDependency","removeRunDependency","callback","abort","what","RuntimeError","wasmBinaryFile","getWasmImports","wasmImports","createWasm","receiveInstance","mod","inst","ExitStatus","callbacks","cb","noExitRuntime","__abort_js","runtimeKeepaliveCounter","__emscripten_runtime_keepalive_clear","timers","handleException","keepRuntimeAlive","_proc_exit","exitJS","implicit","_exit","maybeExit","callUserCallback","func","_emscripten_get_now","performance","now","__setitimer_js","which","timeout_ms","clearTimeout","setTimeout","__emscripten_timeout","_copy_pixels_1","compG_ptr","nb_pixels","imageData","compG","_copy_pixels_3","compR_ptr","compB_ptr","compR","compB","_copy_pixels_4","compA_ptr","compA","getHeapMax","alignMemory","alignment","growMemory","pages","_emscripten_resize_heap","requestedSize","oldSize","maxHeapSize","cutDown","overGrownHeapSize","newSize","replacement","ENV","getExecutableName","getEnvStrings","strings","lang","languages","replace","env","USER","LOGNAME","PATH","PWD","HOME","LANG","stringToUTF8Array","heap","outIdx","maxBytesToWrite","startIdx","endIdx","u","u1","stringToUTF8","outPtr","_environ_get","__environ","environ_buf","bufSize","envp","string","Infinity","lengthBytesUTF8","_environ_sizes_get","penviron_count","penviron_buf_size","_fd_close","fd","INT53_MAX","INT53_MIN","bigintToI53Checked","NaN","_fd_seek","whence","printCharBuffers","UTF8Decoder","UTF8ArrayToString","heapOrArray","idx","maxBytesToRead","endPtr","u0","u2","printChar","curr","UTF8ToString","_fd_write","iov","iovcnt","pnum","_gray_to_rgba","_graya_to_rgba","_jsPrintWarning","message_ptr","_rgb_to_rgba","_storeErrorMessage","errorMessages","writeArrayToMemory","f","o","___wasm_call_ctors","_malloc","_free","_jp2_decode","run","doRun","preInit","Stream","strEnd","StringStream","NullStream","JpxError","JpxImage","handler","modulePromise","getJsModule","#getJsModule","fallbackCallback","default","instantiateWasm","#instantiateWasm","successCallback","filename","sendWithPromise","results","reason","isIndexedColormap","smaskInData","reducePower","promise","withResolvers","promises","race","cleanup","parseImageProperties","newByte","oldByte","Xsiz","Ysiz","XOsiz","YOsiz","Csiz","bitsPerComponent","pdfjsImageDecoders"],"sourceRoot":""}